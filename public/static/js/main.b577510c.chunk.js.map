{"version":3,"sources":["components/Services/auth-service.js","components/Navbar/styles.js","components/ElementalComponents/Button/styles.js","components/ElementalComponents/Button/Button.js","components/ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent.js","components/Navbar/Navbar.js","components/SearchBar/styles.js","components/SearchBar/SearchBar.js","components/Homepage/Homepage.js","components/FormGeneral/styles.js","components/LocationSearchInput/styles.js","components/LocationSearchInput/LocationSearchInput.js","components/Map/styles.js","components/Map/Map.js","components/FormGeneral/FormGeneral.js","components/Auth/styles.js","components/Auth/AuthForm.js","components/Auth/Signup.js","components/Auth/Login.js","components/Services/trip-service.js","components/TripsList/styles.js","components/ElementalComponents/ProfilePicture/styles.js","components/ElementalComponents/ProfilePicture/ProfilePicture.js","components/ElementalComponents/AddToFavoritesLogo/styles.js","components/ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo.js","components/ElementalComponents/LikeTripLogo/styles.js","components/ElementalComponents/LikeTripLogo/LikeTripLogo.js","components/TripsList/TripsList.js","components/Trips/styles.js","components/Trips/Trips.js","components/SearchTripsResults/SearchTripsResults.js","components/Auth/protected-route.js","components/Profile/styles.js","components/Services/step-service.js","components/Services/experience-service.js","components/EditFormGeneral/styles.js","components/EditFormGeneral/EditFormGeneral.js","components/EditFormGeneral/EditProfilePictureForm.js","components/Profile/Profile.js","components/Trip/styles.js","components/Experience/styles.js","components/CreateFormGeneral/styles.js","components/CreateFormGeneral/CreateFormGeneral.js","components/CreateFormGeneral/AddPhotoToExperience.js","components/Experience/Experience.js","components/Step/styles.js","components/Step/Step.js","components/Trip/Trip.js","components/EditFormGeneral/EditTripForm.js","components/CreateFormGeneral/AddStepForm.js","components/EditFormGeneral/EditStepForm.js","components/CreateFormGeneral/AddExperienceForm.js","components/EditFormGeneral/EditExperienceForm.js","styles.js","components/CreateFormGeneral/CreateTripForm.js","components/MyTrips/styles.js","components/MyTrips/MyTrips.js","components/MyFavoriteTrips/styles.js","components/MyFavoriteTrips/MyFavoriteTrips.js","components/NoMatch/NoMatch.js","App.js","serviceWorker.js","index.js"],"names":["authService","axios","create","baseURL","process","withCredentials","errorHandler","err","credentials","post","then","response","data","catch","get","localStorage","removeItem","id","formFields","put","token","Nav","styled","div","Dropdown","ul","props","showDropdown","margin","ButtonStyled","input","theme","color","width","defaultProps","Button","type","value","formButton","onClick","toggleDeleteConfirmation","closeDeleteConfirmation","deleteItem","toggleProfilePictureForm","logoutUser","FontAwesomeIconComponent","icon","chosenIcon","faHourglassHalf","faSuitcaseRolling","faFeatherAlt","faPlus","faAsterisk","faChevronCircleRight","faChevronCircleDown","faTimes","faBars","faSpinner","faChevronRight","faChevronDown","faArrowCircleLeft","faClock","faCalendarAlt","faPlusSquare","faMinusSquare","faCommentDots","faHeart","faTrashAlt","faPenSquare","faThumbsUp","faFacebook","size","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","toggleDropdown","toggleAddToFavorites","trip","_id","deleteExperiencePicture","picture","toggleLikeTrip","userInSession","tripDescription","Navbar","useState","loggedInUser","state","setState","setShowDropdown","dropDownButtonColor","setDropdownButtonColor","window","innerWidth","height","innerHeight","setSize","useEffect","addEventListener","closeDropdown","console","log","toggleDropdownButtonColor","to","style","getUser","Search","SearchBar","placeholder","onChange","event","target","searchUpdates","Homepage","setLoggedInUser","search","searchState","updateSearch","handleSearch","currentSearch","a","username","onSubmit","preventDefault","history","push","pathname","searchKeys","Form","form","Input","Textarea","textarea","PlaceSuggestion","LocationSearchInput","handleChange","address","handleSelect","geocodeByAddress","results","getLatLng","latLng","setPlace","error","this","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","Fragment","className","map","suggestion","active","backgroundColor","cursor","key","index","description","React","Component","MapContainer","formMap","tripMap","experienceMap","Map","initialState","name","lat","parseFloat","lng","zoom","center","parseInt","apiIsLoaded","maps","places","bounds","LatLngBounds","forEach","place","extend","LatLng","getMapBounds","fitBounds","addDomListenerOnce","addDomListener","bindResizeListener","bootstrapURLKeys","GOOGLE_MAPS_KEY","defaultCenter","defaultZoom","options","disableDefaultUI","mapTypeControl","streetViewControl","styles","featureType","elementType","stylers","visibility","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","hasOnlyOneLocalisation","allExperiencesCoords","mapType","coord","Marker","position","renderMarkers","FormGeneral","formState","checked","files","archive","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","formatDate","newPlace","dynamicInputs","formInputs","label","stateToLift","formSubmit","liftFormSubmit","formTitle","auth","formType","Error","p","FacebookLoginStyled","AuthForm","showError","setShowError","login","formObject","setItem","JSON","stringify","message","password","authMessage","formRedirectLink","formRedirectText","Signup","signup","display","appId","autoLoad","fields","callback","access_token","accessToken","Login","reauthenticate","tripService","delete","Ul","LiContainer","Li","li","TripContainer","SinglePictureContainer","StyledProfilePicture","alignSelf","src","ProfilePicture","StyledFavoritesLogo","span","AddToFavoritesLogo","userState","setUserState","updateUser","useCallback","favorites","indexOf","tripId","StyledThumbsUpLogo","LikeTripLogo","likes","updateTrips","TripsList","listTrips","trips","imageUrl","alt","title","duration","marginTop","alignItems","author","profilePicture","AddLogo","Trips","authorizedTripsList","filter","isPublic","fetchAuthorizedTripsList","filteredResponse","toUpperCase","includes","SearchTripsResults","location","ProtectedRoute","component","rest","render","from","StyledProfile","stepService","experienceService","stepId","imageId","StyledEditForm","Loading","EditFormGeneral","showDeleteConfirmation","setshowDeleteConfirmation","setLoading","params","match","tripForm","stepForm","experienceForm","experienceId","originalImg","profilePictureForm","uploadData","FormData","append","startDate","endDate","user","updateProfilePicture","dynamicService","dynamicRedirectLink","EditProfilePictureForm","Profile","showProfilePictureForm","setShowProfilePictureForm","StyledTrip","Duration","OwnerControls","Box","StyledExperience","StyledStepHeader","StyledDateTime","opacity","Description","AddPhotoLogo","EditPhotoLogo","PicturesContainer","StyledCreateForm","CreateFormGeneral","redirectLink","path","addPhotoToExperience","closeShowAddPhoto","updateNewPicture","AddPhotoToExperience","handleUpdateNewPicture","Experience","experience","expanded","showAddPhoto","editingPhotos","handleCloseEditingPhotos","handleCloseShowAddPhoto","handleDeletePicture","experiencePictures","pictures","url","showDate","showTime","time","step","StyledStep","Step","experiences","experiencesList","experienceNumber","Trip","steps","experienceResponse","experienceLatAverage","reduce","acc","curr","toFixed","experienceLngAverage","tripResponse","stepResponse","stepsList","stepNumber","justifyContent","EditTripForm","tripState","setTripState","AddStepForm","EditStepForm","stepState","setStepState","AddExperienceForm","EditExperienceForm","experienceState","setExperienceState","StyledApp","CreateTripForm","MyTrips","myTrips","MyFavoriteTrips","NoMatch","App","parse","getItem","getTheUser","userObj","handleUpdateUser","exact","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b577510c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst authService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  authService,\n\n  signup: (credentials) => {\n    return authService\n      .post(\"/signup\", credentials)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  loggedIn: () => {\n    return authService.get(\"/loggedIn\").then((response) => response.data);\n  },\n\n  login: (credentials) => {\n    return authService\n      .post(\"/login\", credentials)\n      .then((response) => response.data);\n  },\n\n  logout: () => {\n    localStorage.removeItem(\"loggedInUser\");\n    return authService.post(\"/logout\", {}).then((response) => response.data);\n  },\n\n  editProfilePicture: (id, formFields) => {\n    return authService\n      .put(\"/profile/profilePicture\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleAddToFavorites: (id) => {\n    return authService\n      .put(`/toggleAddToFavorites/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  facebookLogin: (token) => {\n    return authService\n      .post(`/auth/facebook`, token)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};","import styled from \"styled-components\";\n\nexport const Nav = styled.div`\n  @keyframes menu-transition {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  padding: 0;\n  border-bottom: 1px solid lightgrey;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0;\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n\n  h3 {\n    padding-bottom: 2px;  \n    \n    a {\n      text-decoration: none;\n    }\n  }\n\n  span {\n    align-self: center;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    @media (min-width: 767px) {\n      display: none;\n    }\n  }\n`;\n\nexport const Dropdown = styled.ul`\n  @media (max-width: 767px) {\n    display: ${(props) => props.showDropdown};\n    flex-direction: column;\n    list-style-type: none;\n    top: 50px;\n    right: 0px;\n    padding-left: 0;\n    width: 200px;\n    position: absolute;\n    height: fit-content;\n    background-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    animation-name: menu-transition;\n    animation-duration: .3s;\n\n    li {\n      margin: ${props => props.margin || \"10px auto\"};\n      list-style-type: none;\n      display: flex;\n\n      a {\n        text-decoration: none;\n\n        &:hover {\n          color: lightgrey;\n        }\n      }\n    }\n  }\n\n  @media (min-width: 767px) {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    list-style-type: none;\n    padding: 0;\n    width: 100%;\n\n    li {\n      margin: ${props => props.margin || \"auto 10px auto 10px\"};\n\n      a {\n        text-decoration: none;\n\n        &:hover {\n          color: lightgrey;\n        }\n      }\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const ButtonStyled = styled.input`\n  padding: 14px 20px 12px;\n  margin: 8px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  background-color: ${(props) => props.theme};\n  color: ${(props) => props.color};\n  width: ${(props) => props.width};\n\n  &:hover {\n    cursor: pointer;\n    background-color: lightsteelblue;\n  }\n`;\n\nButtonStyled.defaultProps = {\n  theme: \"white\",\n  color: \"black\",\n};\n","import React from \"react\";\nimport { ButtonStyled } from \"./styles\";\n\nconst Button = (props) => {\n  const handleClick = () => {\n    props.toggleDeleteConfirmation && props.toggleDeleteConfirmation()\n    props.closeDeleteConfirmation && props.closeDeleteConfirmation()\n    props.deleteItem && props.deleteItem()\n    props.toggleProfilePictureForm && props.toggleProfilePictureForm()\n    props.logoutUser && props.logoutUser();\n  };\n\n  return (\n    <ButtonStyled\n      type=\"submit\"\n      value={props.formButton}\n      onClick={handleClick}\n      theme={props.theme}\n      color={props.color}\n      width={props.width}\n    />\n  );\n};\n\nexport default Button;\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faHourglassHalf,\n  faSuitcaseRolling,\n  faFeatherAlt,\n  faPlus,\n  faAsterisk,\n  faChevronCircleRight,\n  faChevronCircleDown,\n  faChevronRight,\n  faChevronDown,\n  faTimes,\n  faBars,\n  faSpinner,\n  faArrowCircleLeft,\n  faClock,\n  faCalendarAlt,\n  faPlusSquare,\n  faMinusSquare,\n  faCommentDots,\n  faHeart,\n  faTrashAlt,\n  faPenSquare,\n  faThumbsUp\n} from '@fortawesome/free-solid-svg-icons'\nimport { faFacebook } from \"@fortawesome/free-brands-svg-icons\"\n\nconst FontAwesomeIconComponent = props => {\n  let icon;\n  switch(props.chosenIcon) {\n    case \"faHourglassHalf\":\n      icon = faHourglassHalf\n      break;\n    case \"faSuitcaseRolling\":\n      icon = faSuitcaseRolling\n      break;\n    case \"faFeatherAlt\":\n      icon = faFeatherAlt\n      break;\n    case \"faPlus\":\n      icon = faPlus\n      break;\n    case \"faAsterisk\":\n      icon = faAsterisk\n      break;\n    case \"faChevronCircleRight\":\n      icon = faChevronCircleRight\n      break;\n    case \"faChevronCircleDown\":\n      icon = faChevronCircleDown\n      break;\n    case \"faTimes\":\n      icon = faTimes\n      break;\n    case \"faBars\":\n      icon = faBars\n      break;\n    case \"faSpinner\":\n      icon = faSpinner\n      break;\n    case \"faChevronRight\":\n      icon = faChevronRight\n      break;\n    case \"faChevronDown\":\n      icon = faChevronDown\n      break;\n    case \"faArrowCircleLeft\":\n      icon = faArrowCircleLeft\n      break;\n    case \"faClock\":\n      icon = faClock\n      break;\n    case \"faCalendarAlt\":\n      icon = faCalendarAlt\n      break;\n    case \"faPlusSquare\":\n      icon = faPlusSquare\n      break;\n    case \"faMinusSquare\":\n      icon = faMinusSquare\n      break;\n    case \"faCommentDots\":\n      icon = faCommentDots\n      break;\n    case \"faHeart\":\n      icon = faHeart\n      break;\n    case \"faTrashAlt\":\n      icon = faTrashAlt\n      break;\n    case \"faPenSquare\":\n      icon = faPenSquare\n      break;\n    case \"faThumbsUp\":\n      icon = faThumbsUp\n      break;\n    case \"faFacebook\":\n      icon = faFacebook\n      break;\n    default:\n      icon = null\n  }\n\n  const handleClick = () => {\n    props.toggleDropdown && props.toggleDropdown()\n    props.toggleAddToFavorites && props.toggleAddToFavorites(props.trip._id)\n    props.deleteExperiencePicture && props.deleteExperiencePicture(props.picture._id)\n    props.toggleLikeTrip && props.userInSession && !props.tripDescription && props.toggleLikeTrip(props.trip._id)\n  }\n\n  return (\n    <FontAwesomeIcon\n      icon={icon}\n      size={props.size}\n      color={props.color}\n      onMouseEnter={props.handleMouseEnter}\n      onMouseLeave={props.handleMouseLeave}\n      onClick={handleClick}\n    />\n  )\n}\n\nexport default FontAwesomeIconComponent\n","import React, { useState, useEffect  } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Nav, Dropdown } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Navbar = (props) => {\n  const initialState = { loggedInUser: null };\n  const [state, setState] = useState(initialState);\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [dropDownButtonColor, setDropdownButtonColor] = useState(\"grey\")\n  const [ size, setSize ] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  })\n\n  // equiv. componentWillReceiveProps\n  useEffect(() => {\n    // On each screen size change, check if the dropdown menu should be closed\n    const getSize = () => {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    }\n    const handleResize = () => setSize(getSize())\n    window.addEventListener('resize', handleResize)\n    size.width >= 767 && closeDropdown()\n\n    console.log(\"User In Session :\", props.userInSession);\n    setState({ loggedInUser: props.userInSession });\n  }, [props.userInSession, size.width]);\n\n  const logoutUser = () => {\n    authService.logout().then(() => {\n      setState({ loggedInUser: null });\n      props.getUser(null);\n    });\n  };\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown)\n  }\n\n  const closeDropdown = () => {\n    setShowDropdown(false)\n  }\n\n  const toggleDropdownButtonColor = () => {\n    dropDownButtonColor === \"grey\"\n      ? setDropdownButtonColor(\"black\")\n      : setDropdownButtonColor(\"grey\")\n  }\n    \n  return (\n    <Nav>\n      <h3>\n        <Link to=\"/\" onClick={closeDropdown}>Supertrips</Link>\n      </h3>\n      <span>\n        <FontAwesomeIconComponent\n          chosenIcon={showDropdown ? \"faTimes\" : \"faBars\"}\n          size=\"lg\"\n          color={dropDownButtonColor}\n          handleMouseEnter={toggleDropdownButtonColor}\n          handleMouseLeave={toggleDropdownButtonColor}\n          toggleDropdown={toggleDropdown}\n        />\n      </span>\n      <Dropdown showDropdown={showDropdown ? \"flex\" : \"none\"}>\n        <li style={showDropdown ? {margin:\"20px auto\"} : {margin:\"auto auto auto 20px\"} }>\n          <Link to=\"/trips\" onClick={closeDropdown}>Trips</Link>\n        </li>\n        {state.loggedInUser ? (\n          <>\n            <li>\n              <Link to=\"/profile\" onClick={closeDropdown}>Profile</Link>\n            </li>\n            <li>\n              <Link to=\"/\" onClick={closeDropdown}>\n                <Button logoutUser={logoutUser} formButton=\"LOGOUT\" />\n              </Link>\n            </li>\n          </>\n        ) : (\n          <>\n            <li>\n              <Link to=\"/signup\" onClick={closeDropdown}>Signup</Link>\n            </li>\n            <li>\n              <Link to=\"/login\" onClick={closeDropdown}>Login</Link>\n            </li>\n          </>\n        )}\n      </Dropdown>\n    </Nav>\n  );\n};\n\nexport default Navbar;\n","import styled from \"styled-components\";\n\nexport const Search = styled.input`\n  padding: 12px 20px;\n  border: 1px solid lightgrey;\n  margin: 8px 0 24px;\n  font-size: 17px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  width: 500px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n\n  @media (min-width: 992px) {\n    width: 700px;\n  }\n`;\n","import React from \"react\";\nimport { Search } from \"./styles\";\n\nconst SearchBar = (props) => {\n  const handleChange = (event) => {\n    const { value } = event.target;\n    props.searchUpdates(value);\n  };\n\n  return (\n    <Search\n      type=\"text\"\n      placeholder={props.placeholder}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default SearchBar;\n","import React, { useState, useEffect } from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Button from \"../ElementalComponents/Button/Button\";\n\nconst Homepage = (props) => {\n  const initialSearch = {\n    search: \"\",\n  };\n  const [loggedInUser, setLoggedInUser] = useState(props.userInSession)\n  const [searchState, updateSearch] = useState(initialSearch);\n\n  useEffect(() => {\n    setLoggedInUser(props.userInSession)\n  }, [props.userInSession ])\n\n  const handleSearch = async (currentSearch) => {\n    updateSearch({\n      search: currentSearch,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.history.push({\n      pathname: \"/search\",\n      state: {\n        userInSession: props.userInSession,\n        searchKeys: searchState.search\n      },\n    });\n  };\n\n  return (\n    <div>\n      {props.userInSession ? (\n        <h1>Hi {props.userInSession.username}, welcome to Supertrips !</h1>\n      ) : (\n        <h1>Welcome to Supertrips !</h1>\n      )}\n      <form onSubmit={handleSubmit}>\n        <SearchBar\n          placeholder=\"Search for a trip..\"\n          searchUpdates={handleSearch}\n        />\n        <Button formButton=\"GO\" />\n      </form>\n    </div>\n  );\n};\n\nexport default Homepage;\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  border-radius: 5px;\n  background-color: #f2f2f2;\n  padding: 20px;\n  margin: 20px auto;\n  max-width: 350px;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const Textarea = styled.textarea`\n  width: 100%;\n  height: 150px;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  resize: none;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const PlaceSuggestion = styled.div`\n  width: 100%;\n  padding: 8px 20px;\n  border: 1px solid rgba(0,0,0,.1);\n  border-radius: 4px;\n  box-sizing: border-box;\n`;","import React from \"react\";\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from \"react-places-autocomplete\";\nimport { Input, PlaceSuggestion } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nclass LocationSearchInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { address: \"\" };\n  }\n\n  handleChange = (address) => {\n    this.setState({ address });\n  };\n\n  handleSelect = (address) => {\n    geocodeByAddress(address)\n      .then((results) => getLatLng(results[0]))\n      .then((latLng) => {\n        this.setState({ address: address, ...latLng });\n        this.props.setPlace(this.state);\n        console.log(\"Success\", latLng);\n      })\n      .catch((error) => console.error(\"Error\", error));\n  };\n\n  render() {\n    return (\n      <PlacesAutocomplete\n        value={this.state.address}\n        onChange={this.handleChange}\n        onSelect={this.handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <React.Fragment>\n            <Input\n              {...getInputProps({\n                placeholder: \"Search Places ...\",\n                className: \"location-search-input\",\n              })}\n            />\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && <FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" />}\n              {suggestions.map((suggestion) => {\n                const className = suggestion.active\n                  ? \"suggestion-item--active\"\n                  : \"suggestion-item\";\n                const style = suggestion.active\n                  ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\n                  : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\n                return (\n                  <PlaceSuggestion\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                    key={suggestion.index}\n                  >\n                    <span>{suggestion.description}</span>\n                  </PlaceSuggestion>\n                );\n              })}\n            </div>\n          </React.Fragment>\n        )}\n      </PlacesAutocomplete>\n    );\n  }\n}\n\nexport default LocationSearchInput;\n\n// Copyright (c) 2016-present, Ken Hibino\n// See https://kenny-hibino.github.io/react-places-autocomplete\n","import styled from \"styled-components\";\n\nexport const MapContainer = styled.div`\n  ${(props) => props.formMap && \"box-sizing: border-box; height: 200px; border-radius: 4px;\"};\n\n  @media (max-width: 600px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) => props.experienceMap && \"width: 300px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 576px) and (max-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) => props.experienceMap && \"width: 450px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 300px;\"};\n    ${(props) => props.experienceMap && \"width: 600px; height: 250px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 992px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 400px;\"};\n    ${(props) => props.experienceMap && \"width: 800px; height: 300px; margin: 0 auto;\"};\n  }\n`;","import React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport { MapContainer } from \"./styles\";\n\nconst Map = (props) => {\n  const initialState = {\n    name: props.address,\n    lat: parseFloat(props.lat),\n    lng: parseFloat(props.lng),\n    zoom: props.zoom\n  };\n  const [state, setState] = useState(initialState);\n\n  const center = {\n    lat: state.lat,\n    lng: state.lng,\n  };\n\n  const zoom = parseInt(state.zoom);\n\n  const getMapOptions = (maps) => {\n    return {\n      disableDefaultUI: false,\n      mapTypeControl: true,\n      streetViewControl: true,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [{ visibility: \"on\" }],\n        },\n      ],\n    };\n  };\n\n  const getMapBounds = (map, maps, places) => {\n    const bounds = new maps.LatLngBounds();\n  \n    places.forEach((place) => {\n      bounds.extend(new maps.LatLng(\n        place.lat,\n        place.lng,\n      ));\n    });\n    return bounds;\n  };\n\n  const bindResizeListener = (map, maps, bounds) => {\n    maps.event.addDomListenerOnce(map, 'idle', () => {\n      maps.event.addDomListener(window, 'resize', () => {\n        map.fitBounds(bounds);\n      });\n    });\n  };\n\n  const apiIsLoaded = (map, maps, places) => {\n    // Get bounds by our places\n    const bounds = getMapBounds(map, maps, places);\n    // Fit map to bounds\n    map.fitBounds(bounds);\n    // Bind the resize listener\n    bindResizeListener(map, maps, bounds);\n  };\n\n  const renderMarkers = (map, maps) => {\n    if (props.mapType === \"tripPresentation\") {  \n      props.allExperiencesCoords.forEach((coord) => {\n        let marker = new maps.Marker({\n          position: coord,\n          map,\n        });\n      })\n    } else {\n      const position = {\n        lat: state.lat,\n        lng: state.lng,\n      };\n\n      let marker = new maps.Marker({\n        position: position,\n        map,\n      });\n    }\n  };\n\n  return (\n    <MapContainer tripMap={props.tripMap} experienceMap={props.experienceMap} formMap={props.formMap}>\n      <GoogleMapReact\n        key={state.name}\n        bootstrapURLKeys={ { key: `${process.env.GOOGLE_MAPS_KEY}`} }\n        defaultCenter={center}\n        defaultZoom={zoom}\n        options={getMapOptions}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map, maps }) => {\n          props.tripMap && !props.hasOnlyOneLocalisation && apiIsLoaded(map, maps, props.allExperiencesCoords)\n          renderMarkers(map, maps)\n        }}\n      />\n    </MapContainer>\n  );\n};\n\nexport default Map;\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Input, Textarea } from \"./styles\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport LocationSearchInput from \"../LocationSearchInput/LocationSearchInput\";\nimport Map from \"../Map/Map\";\n\nconst FormGeneral = (props) => {\n  const [state, setState] = useState(props.formState);\n\n  useEffect(() => {\n    setState(state => (\n      props.formState\n    ))\n  }, [props.formState]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const handleChange = (event) => {\n    const { name, value, type, checked, files } = event.target;\n    name === \"imageUrl\" || name === \"profilePicture\"\n      ? setState((state) => ({\n        ...state,\n        archive: files[0]\n      }))\n      : setState((state) => ({\n          ...state,\n          [name]: type === \"checkbox\" \n                    ? checked\n                    : type === \"date\"\n                    ? formatDate(value)\n                    : type === \"file\"\n                    ? files[0]\n                    : value\n        }));\n  };\n\n  const liftFormSubmit = (event, stateToLift) => {\n    event.preventDefault();\n    props.formSubmit(stateToLift);\n  };\n\n  const setPlace = (newPlace) => {\n    setState(state => ({\n      ...state,\n      place: {\n        address: newPlace.address,\n        lat: parseFloat(newPlace.lat),\n        lng: parseFloat(newPlace.lng)\n      }\n    }))\n  }\n\n  const dynamicInputs = props.formInputs.map((input) => {\n    return (\n      input.type === \"textarea\" \n        ? <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <Textarea\n              type={input.type}\n              name={input.name}\n              checked={state[input.name] || false}\n              value={state[input.name] || \"\"}\n              placeholder={input.placeholder}\n              onChange={handleChange}\n            />\n          </React.Fragment>\n        : input.name === \"place\"\n        ? <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <LocationSearchInput setPlace={setPlace} />\n            { state.place &&\n              <React.Fragment>\n                <p>Is this the correct place ?</p>\n                <Map\n                  formMap\n                  key={state.place.address}\n                  address={state.place.address}\n                  lat={state.place.lat}\n                  lng={state.place.lng}\n                  zoom=\"14\"\n                />\n              </React.Fragment>\n            }\n          </React.Fragment>\n        : <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <Input\n              type={input.type}\n              name={input.name}\n              checked={state[input.name] || false}\n              value={state[input.name] || \"\"}\n              placeholder={input.placeholder}\n              onChange={handleChange}\n            />\n          </React.Fragment>\n      );\n  });\n\n  return (\n    <div>\n      <Form onSubmit={(event) => liftFormSubmit(event, state)}>\n        <h3>{props.formTitle}</h3>\n        {dynamicInputs}\n        { (props.auth || props.formType === \"experience photo\") || <p>*required</p>}\n        <Button formButton={props.formButton} />\n      </Form>\n    </div>\n  );\n};\n\nexport default FormGeneral;\n","import styled from \"styled-components\";\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`\n\nexport const FacebookLoginStyled = styled.p`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 50px;\n\n  svg {\n    margin: 0 20px 0 0;\n  }\n\n  @media (max-width: 667px) {\n      flex-direction: column;\n\n      svg {\n        margin: 20px;\n      }\n    }\n`\n","import React, { useState } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport { Error } from \"./styles\"\n\nconst AuthForm = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const handleFormSubmit = (formObject) => {\n    const dynamicService = props.login\n      ? authService.login(formObject)\n      : authService.signup(formObject);\n\n    dynamicService\n      .then((response) => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(\"Error while login/signup :\", error);\n        setShowError(error.response.data.message)\n      })\n  };\n\n  const formInputs = [\n    {\n      label: \"Username\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Enter your username\",\n    },\n    {\n      label: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"*******\",\n    },\n  ];\n\n  const initialState = {\n    username: \"\",\n    password: \"\",\n  };\n\n  return (\n    <div>\n      <FormGeneral\n        auth\n        formTitle={ props.login ? \"Login\" : \"Sign-up\" }\n        formSubmit={handleFormSubmit}\n        formState={initialState}\n        formInputs={formInputs}\n      />\n      <p>\n        {props.authMessage}\n        <Link to={`${props.formRedirectLink}`}>{props.formRedirectText}</Link>\n      </p>\n      { showError &&\n          <Error>\n              {showError}\n          </Error>\n      }\n    </div>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Signup = (props) => {\n  const responseFacebook = (response) => {\n    // console.log(response)\n    authService.facebookLogin({access_token: response.accessToken})\n      .then(response => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        signup\n        getUser={props.getUser}\n        formButton=\"SIGN-UP\"\n        authMessage=\"Already have an account ?\"\n        formRedirectLink=\"/login\"\n        formRedirectText=\" Login\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent chosenIcon={\"faFacebook\"} size=\"3x\" color=\"#4c69ba\" />\n        <FacebookLogin\n          style={{display:\"block\"}}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Login = (props) => {\n  const responseFacebook = (response) => {\n    console.log(response)\n    authService.facebookLogin({access_token: response.accessToken})\n      .then(response => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        login\n        getUser={props.getUser}\n        formButton=\"LOGIN\"\n        authMessage=\"Don't have any account yet ?\"\n        formRedirectLink=\"/signup\"\n        formRedirectText=\" Sign-up\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent chosenIcon={\"faFacebook\"} size=\"3x\" color=\"#4c69ba\" />\n        <FacebookLogin\n          style={{display:\"block\"}}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          reauthenticate={true}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Login;\n","import axios from \"axios\";\n\nconst tripService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  tripService,\n\n  newTrip: (formFields) => {\n    return tripService\n      .post(\"/newTrip\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  trips: () => {\n    return tripService\n      .get(\"/trips\")\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  tripDetails: (id) => {\n    return tripService\n      .get(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editTrip: (id, formFields) => {\n    return tripService\n      .put(`/trips/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteTrip: (id) => {\n    return tripService\n      .delete(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleLikes: (id) => {\n    return tripService\n      .put(`/trip/toggleLikes/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  }\n};\n","import styled from \"styled-components\";\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const LiContainer = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 40px;\n  text-align: left;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n\n  @media (max-width: 767px) {\n    justify-content: center;\n  }\n\n  svg {\n    margin: 0 10px 0 0;\n    padding-top: 4px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n`;\n\nexport const TripContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n  }\n\n  img {\n    @keyframes slow-popup {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 1;\n      }\n    }\n\n    height: auto;\n    width: 300px;\n    max-width: 400px;\n    margin-right: 40px;\n    animation: slow-popup 0.5s ease-in-out forwards;\n\n    @media (max-width:768px) {\n      margin-right: 0;\n      height: auto;\n      width: 100%;\n    }\n\n    @media (min-width: 992px) {\n      height: auto;\n      width: 400px;\n      margin-right: 40px;\n    }\n  }\n\n  div {\n    @media (max-width: 767px) {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    }\n\n    a {\n      display: inline-block;\n      margin-right: 20px;\n    }\n\n    h3 {\n      @media (min-width: 992px) {\n        font-size: 26px;\n      }\n    }\n\n    div {\n      @media (max-width: 767px) {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n      }\n\n      a {\n        display: inline-block;\n      }\n    }\n  }\n`\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n  \n  a {\n    img {\n      @keyframes slow-popup {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n\n      height: auto;\n      width: 300px;\n      max-width: 400px;\n      margin-right: 40px;\n      animation: slow-popup 0.5s ease-in-out forwards;\n\n      @media (max-width:768px) {\n        margin-right: 0;\n        height: auto;\n        width: 100%;\n      }\n\n      @media (min-width: 992px) {\n        height: auto;\n        width: 400px;\n        margin-right: 40px;\n      }\n    }\n  }\n\n  svg {\n    position: absolute;\n    bottom: 20px;\n    left: 15px;\n    background-color: rgba(255,255,255,.6);\n    border: 1px solid rgba(0,0,0,0.2);\n    border-radius: 25%;\n    padding: 10px;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`","import styled from \"styled-components\";\n\nexport const StyledProfilePicture = styled.div`\n  display: ${(props) => props.display || \"block\"};\n  align-self: ${(props) => props.alignSelf};\n  width: ${(props) => props.width};\n  height: ${(props) => props.height};\n  margin: ${(props) => props.margin};\n  background-image: url(${(props) => props.src});\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n`","import React from \"react\";\nimport { StyledProfilePicture } from \"./styles\";\n\nconst ProfilePicture = (props) => {\n\n  return (\n    <StyledProfilePicture\n      src={props.src}\n      width={props.width}\n      height={props.height}\n      margin={props.margin}\n      display={props.display}\n    />\n  );\n};\n\nexport default ProfilePicture;\n","import styled from \"styled-components\";\n\nexport const StyledFavoritesLogo = styled.span`\n  &:hover {\n    cursor: pointer;\n  }\n`","import React, { useState, useCallback } from 'react'\nimport FontAwesomeIconComponent from '../FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport authService from \"../../Services/auth-service\";\nimport { StyledFavoritesLogo } from \"./styles\";\n\nconst AddToFavoritesLogo = props => {\n  const initialState = {loggedInUser: props.userInSession}\n  const [userState, setUserState] = useState(initialState)\n\n  const updateUser = useCallback(() => \n    authService.loggedIn()\n      .then(response => {\n        setUserState({loggedInUser: response})\n      })\n      .catch(error => console.log(\"Error adding/removing to/from favorite trips: \", error))\n  , []);\n\n  const handleToggleAddToFavorites = (tripId) => {\n    authService.toggleAddToFavorites(tripId)\n      .then(() => {\n        updateUser()\n        props.updateUser()\n      })\n      .catch(err => console.log(\"An error occurred while adding/removing to/from favorites: \",err))\n  }\n\n  return (\n    <StyledFavoritesLogo>\n      <FontAwesomeIconComponent\n        chosenIcon={\"faHeart\"}\n        color={ userState.loggedInUser.favorites.indexOf(props.trip._id) !== -1 ? \"red\" : \"grey\"}\n        toggleAddToFavorites={handleToggleAddToFavorites}\n        trip={props.trip}\n      />\n    </StyledFavoritesLogo> \n  )\n}\n\nexport default AddToFavoritesLogo\n\n\n","import styled from \"styled-components\";\n\nexport const StyledThumbsUpLogo = styled.span`\n  &:hover {\n    ${(props) => props.userInSession && !props.tripDescription ? \"cursor: pointer\" : \"\"}\n  }\n`","import React from 'react'\nimport FontAwesomeIconComponent from '../FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport { StyledThumbsUpLogo } from \"./styles\";\nimport tripService from '../../Services/trip-service';\n\nconst LikeTripLogo = props => {\n  const handletoggleLikeTrip = (tripId) => {\n    tripService.toggleLikes(tripId)\n      .then(() => {\n        props.updateTrips()\n      })\n      .catch(err => console.log(\"Error adding/removing Like to/from this trip: \", err))\n  }\n\n  return (\n    <StyledThumbsUpLogo userInSession={props.userInSession} tripDescription={props.tripDescription}>\n      <FontAwesomeIconComponent\n        tripDescription={props.tripDescription}\n        chosenIcon={\"faThumbsUp\"}\n        color={ props.tripDescription ? \"grey\" : props.trip.likes.indexOf(props.userInSession._id) !== -1 ? \"royalblue\" : \"grey\"}\n        toggleLikeTrip={handletoggleLikeTrip}\n        trip={props.trip}\n        size=\"1x\"\n        userInSession={props.userInSession}\n      />\n    </StyledThumbsUpLogo> \n  )\n}\n\nexport default LikeTripLogo\n\n\n","import React from 'react'\nimport { Ul, LiContainer, Li, TripContainer, SinglePictureContainer } from \"./styles\"\nimport { Link } from 'react-router-dom';\nimport ProfilePicture from '../ElementalComponents/ProfilePicture/ProfilePicture';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport AddToFavoritesLogo from '../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo';\nimport LikeTripLogo from '../ElementalComponents/LikeTripLogo/LikeTripLogo';\n\nconst TripsList = props => {\n  const listTrips = props.trips.map((trip) => {\n    return (\n      <Li key={trip._id}>\n        <TripContainer>\n          <SinglePictureContainer>\n            <Link\n              to={{\n                pathname: `/trips/${trip._id}`,\n                state: { userInSession: props.loggedInUser, trip: trip },\n              }}\n            >\n              {trip.imageUrl &&\n                <img src={trip.imageUrl} alt=\"trip cover pic\" />\n              }\n            </Link>\n            { props.userInSession && \n              <LikeTripLogo\n                trip={trip}\n                userInSession={props.userInSession}\n                updateTrips={props.updateTrips}\n              />\n            }\n          </SinglePictureContainer>\n          <div>\n            <span>\n              <Link\n                to={{\n                  pathname: `/trips/${trip._id}`,\n                  state: { userInSession: props.loggedInUser, trip: trip },\n                }}\n              >\n                <h3>{trip.title}</h3>\n              </Link>\n              { props.userInSession && \n                <AddToFavoritesLogo\n                  trip={trip}\n                  userInSession={props.userInSession}\n                  updateUser={props.updateUser}\n                />\n              }\n            </span>\n            <div>\n              <FontAwesomeIconComponent\n                chosenIcon={\"faHourglassHalf\"}\n                size=\"1x\"\n              />\n              <span>{trip.duration} days</span>\n            </div>\n            <div style={{marginTop:\"15px\"}}>\n              <LikeTripLogo\n                tripDescription\n                trip={trip}\n                userInSession={props.userInSession}\n                updateTrips={props.updateTrips}\n              />\n              <span>{trip.likes.length}</span>\n            </div>\n            <div style={{display:\"flex\", alignItems:\"center\", marginTop:\"20px\"}}>\n              <ProfilePicture\n                src={trip.author.profilePicture}\n                width=\"20px\"\n                height=\"20px\"\n                margin=\"5px 10px 5px 0\"\n                display=\"inline-block\"\n              />\n              <span>By <Link to=\"#\">{trip.author.username}</Link></span>\n            </div>\n          </div>\n        </TripContainer>\n      </Li>\n    );\n  });\n\n  return (\n    <Ul>\n      <LiContainer>\n        {listTrips}\n      </LiContainer>\n    </Ul>\n  )\n}\n\nexport default TripsList\n\n\n","import styled from \"styled-components\";\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { AddLogo } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Trips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n  \n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = response.filter(trip =>  (state.loggedInUser && trip.author._id === props.userInSession._id) || trip.isPublic);\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const handleSearch = async (currentSearch) => {\n    const response = await tripService.trips();\n    const filteredResponse = response.filter(\n      (trip) =>\n        (trip.author._id === props.userInSession._id || trip.isPublic) &&\n        trip.title.toUpperCase().includes(currentSearch.toUpperCase())\n    );\n    setState((state) => ({\n      ...state,\n      trips: filteredResponse,\n    }));\n  };\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = response.filter(trip =>  (state.loggedInUser && trip.author._id === props.userInSession._id) || trip.isPublic);\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList()\n  }\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n\n  return (\n    <div>\n      <h1>Trips</h1>\n      <SearchBar\n        placeholder=\"Search for a trip..\"\n        searchUpdates={handleSearch}\n      />\n      { listTrips }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE</span>\n            <span>TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </div>\n  );\n};\n\nexport default Trips;\n","import React, {useState, useEffect} from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\n\nconst SearchTripsResults = props => {\n\n  const initialState = { \n    loggedInUser: null,\n    trips: []\n   };\n  const [state, setState] = useState(initialState);\n\n  // equiv. componentWillReceiveProps\n  // Correct ?\n  useEffect(() => {\n    setState(state => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }))\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips()\n      const authorizedTripsList = response.filter(trip => (trip.author._id === props.userInSession._id || trip.isPublic) && trip.title.toUpperCase().includes(props.location.state.searchKeys.toUpperCase()))\n      setState(state => ({ \n        ...state,\n        trips: authorizedTripsList\n      }));\n    }\n    fetchAuthorizedTripsList()\n  }, [props.userInSession, props.location.state.searchKeys]);\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                    />\n\n  return (\n    <div>\n      <h1>Search results for: \"{props.location.state.searchKeys}\"</h1>\n      { }\n      {listTrips}\n    </div>\n  );\n};\n\nexport default SearchTripsResults;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, userInSession, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (userInSession) {\n          return <Component {...props} userInSession={userInSession} {...rest} />;\n        } else {\n          return (\n            <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n          );\n        }\n      }}\n    />\n  );\n};\nexport default ProtectedRoute;\n","import styled from \"styled-components\";\n\nexport const StyledProfile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`","import axios from \"axios\";\n\nconst stepService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  stepService,\n\n  newStep: (formFields) => {\n    return stepService\n      .post(\"/newStep\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  steps: (id) => {\n    return stepService\n      .get(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  stepDetails: (id) => {\n    return stepService\n      .get(`/stepDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editStep: (id, formFields) => {\n    return stepService\n      .put(`/steps/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteStep: (id) => {\n    return stepService\n      .delete(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import axios from \"axios\";\n\nconst experienceService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  experienceService,\n\n  newExperience: (formFields) => {\n    return experienceService\n      .post(\"/newExperience\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experiences: (stepId) => {\n    return experienceService\n      .get(`/experiences/${stepId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  fullTripExperiences: (id) => {\n    return experienceService\n      .get(`/experiences/trip/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experienceDetails: (id) => {\n    return experienceService\n      .get(`/experienceDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperience: (id) => {\n    return experienceService\n      .delete(`/experiences/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  addPictureToExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/addPicture/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperiencePicture: (id, imageId) => {\n    return experienceService\n      .delete(`/experiences/${id}/deletePicture/${imageId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  }\n};","import styled from \"styled-components\";\n\nexport const StyledEditForm = styled.div`\n  a {\n    text-decoration: none;\n  }\n`\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`\n\nexport const Loading = styled.div`\n  margin: 40px;\n` ","import React, { useState, useEffect} from \"react\";\nimport authService from \"../Services/auth-service\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport { StyledEditForm, Loading, Error } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst EditFormGeneral = (props) => {\n  const [state, setState] = useState({})\n  const [showDeleteConfirmation, setshowDeleteConfirmation] = useState(\n    false\n  );\n  const [showError, setShowError] = useState(\"\")\n  const [loading, setLoading] = useState(\"\")\n\n  const toggleDeleteConfirmation = () => {\n    setshowDeleteConfirmation(!showDeleteConfirmation);\n  }\n  \n  const closeDeleteConfirmation = () => {\n    setshowDeleteConfirmation(false);\n  }\n\n  useEffect(() => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.tripDetails(params.id)\n      : props.stepForm\n      ? stepService.stepDetails(params.stepId)\n      : props.experienceForm\n      ? experienceService.experienceDetails(params.experienceId)\n      : authService.loggedIn();\n      \n    dynamicService  \n      .then(response => {\n        props.tripForm\n          ? setState({...response, imageUrl:\"\", originalImg: response.imageUrl})\n          : props.profilePictureForm\n          ? setState({profilePicture:\"\", originalImg: response.profilePicture})\n          : setState(response)\n      })\n      .catch((error) =>\n        console.log(`Error while getting ${props.formType} details :`, error)\n      );\n  }, [props.formType, props.stepForm, props.tripForm, props.experienceForm, props.profilePictureForm, props.match]);\n\n  const handleFormSubmit = (formObject) => {\n    const { params } = props.match;\n    setLoading(true)\n    console.log(\"FORM OBJECT\", formObject)\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      formObject.archive\n        ? uploadData.append(\"imageUrl\", formObject.archive)\n        : uploadData.append(\"imageUrl\", formObject.originalImg)\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n      console.log(\"uploadData\",uploadData)\n    }\n    if (props.profilePictureForm) {\n      formObject.archive\n        ? uploadData.append(\"profilePicture\", formObject.archive)\n        : uploadData.append(\"profilePicture\", formObject.originalImg)\n      console.log(\"uploadData\",uploadData)\n    }\n\n    const dynamicService = props.tripForm\n      ? tripService.editTrip(params.id, uploadData)\n      : props.stepForm\n      ? stepService.editStep(params.stepId, formObject)\n      : props.experienceForm\n      ? experienceService.editExperience(params.experienceId, formObject)\n      : authService.editProfilePicture(props.user._id, uploadData)\n      \n    dynamicService\n      .then((response) => {\n        console.log(`${props.formType} edited!`, response);\n        setLoading(false)\n        props.profilePictureForm\n          ? props.updateProfilePicture()\n          : props.history.push({\n            pathname: `/trips/${params.id}`,\n          });\n      })\n      .catch((error) => {\n        setLoading(false)\n        console.log(`Error while editing ${props.formType}:`, error)\n        setShowError(error.response.data.message)\n      });\n  };\n\n  const deleteItem = () => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.deleteTrip(params.id)\n      : props.stepForm\n      ? stepService.deleteStep(params.stepId)\n      : props.experienceForm\n      ? experienceService.deleteExperience(params.experienceId)\n      : authService.editProfilePicture(props.user._id, {profilePicture: \"https://res.cloudinary.com/nutriapp/image/upload/v1599217287/profileDefault_jr9j16.png\"})\n    \n    const dynamicRedirectLink = props.tripForm\n      ? \"/trips\"\n      : props.profilePictureForm\n      ? \"/profile\"\n      : `/trips/${params.id}`\n\n    dynamicService\n      .then((response) => {\n        console.log(response)\n        props.profilePictureForm && props.updateProfilePicture()\n        props.history.push(dynamicRedirectLink);\n      })\n      .catch((err) => {\n        console.log(`Error while deleting ${props.formType}: `, err);\n      });\n  };\n\n  return (\n    <StyledEditForm>\n      {loading\n        ? <Loading><FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" /><p>Loading</p></Loading>\n        : <FormGeneral\n            formTitle={props.formTitle}\n            formSubmit={handleFormSubmit}\n            formState={state}\n            formInputs={props.formInputs}\n            formButton=\"SAVE\"\n          />\n      }\n        <>\n          <Button\n            toggleDeleteConfirmation={toggleDeleteConfirmation}\n            formButton=\"DELETE\"\n            theme=\"lightcoral\"\n            color=\"white\"\n          />\n          {showDeleteConfirmation && (\n            <>\n              <h4>Are you sure you want to delete this {props.formType} ? </h4>\n              <Button\n                deleteItem={deleteItem}\n                closeDeleteConfirmation={closeDeleteConfirmation}\n                formButton=\"YES\"\n                theme=\"lightcoral\"\n                color=\"white\"\n              />\n              <Button\n                toggleDeleteConfirmation={toggleDeleteConfirmation}\n                formButton=\"CANCEL\"\n                theme=\"lightgrey\"\n                color=\"black\"\n              />\n            </>\n          )}\n          { props.profilePictureForm ||\n            <React.Fragment>\n              { showError &&\n                <Error>\n                  {showError}\n                </Error>\n              }\n              <p>\n                <Link to={`/trips/${props.match.params.id}`}>\n                  <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n                </Link>\n              </p> \n            </React.Fragment>\n          }\n        </>\n    </StyledEditForm>\n  );\n};\n\nexport default EditFormGeneral;\n","import React, { useState, useEffect} from \"react\";\nimport authService from \"../Services/auth-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditProfilePictureForm = (props) => {\n  const [userState, setUserState] = useState({})\n\n  useEffect(() => {\n    authService\n      .loggedIn()\n      .then(response => {\n        setUserState(response)\n      })\n      .catch((error) =>\n        console.log(\"Error while getting user details :\", error)\n      );\n  }, []);\n\n  const formInputs = [\n    {\n      type: \"file\",\n      value: \"\",\n      name: \"profilePicture\"\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      profilePictureForm\n      formType=\"profile picture\"\n      formInputs={formInputs}\n      formTitle={\"Edit Profile Picture\"}\n      updateProfilePicture={props.updateProfilePicture}\n      user={userState}\n      {...props}\n    />\n  );\n};\n\nexport default EditProfilePictureForm;\n","import React, { useState, useCallback } from \"react\";\nimport Button from \"../ElementalComponents/Button/Button.js\";\nimport { Link } from \"react-router-dom\";\nimport { StyledProfile } from \"./styles\";\nimport EditProfilePictureForm from \"../EditFormGeneral/EditProfilePictureForm\"\nimport authService from \"../Services/auth-service.js\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture.js\";\n\nconst Profile = (props) => {\n  const [userState, setUserState] = useState({ loggedInUser: props.userInSession})\n  const [showProfilePictureForm, setShowProfilePictureForm] = useState(false)\n\n  const toggleProfilePictureForm = () => {\n    setShowProfilePictureForm(!showProfilePictureForm)\n  }\n\n  const closeProfilePictureForm = () => {\n    setShowProfilePictureForm(false)\n  }\n\n  const updateProfilePicture = useCallback(() => \n    authService.loggedIn()\n      .then(response => {\n        closeProfilePictureForm()\n        setUserState({loggedInUser: response})\n      })\n      .catch(error => console.log(\"Error updating profile picture: \", error))\n  , []);\n\n  return (\n    <StyledProfile>\n      <h1>Profile</h1>\n      <ProfilePicture src={userState.loggedInUser.profilePicture} width=\"150px\" height=\"150px\" margin=\"0 auto 20px\" />\n      { showProfilePictureForm &&\n        <EditProfilePictureForm updateProfilePicture={updateProfilePicture} {...props} />\n      }\n      <Button formButton={ showProfilePictureForm ? \"CLOSE\" : \"EDIT\" } toggleProfilePictureForm={toggleProfilePictureForm} />\n      <h2>Welcome to your profile, {props.userInSession.username} !</h2>\n      <Link to=\"/profile/my-trips\">\n        <Button formButton=\"MY TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/profile/favorite-trips\">\n        <Button formButton=\"FAVORITE TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/create-trip\">\n        <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n      </Link>\n    </StyledProfile>\n  );\n};\n\nexport default Profile;\n","import styled from \"styled-components\";\n\nexport const StyledTrip = styled.div`\n  a {\n    text-decoration: none;\n  }\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n\n  img {\n    max-height: 300px;\n    width: auto;\n  }\n\n  span {\n    h1 {\n      display: inline-block;\n    }\n\n    svg {\n      margin-left: 20px;\n      padding-bottom: 2px;\n    }\n  }\n`\n\nexport const Duration = styled.div`\n  margin: 20px auto;\n`\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const Ul = styled.ul`\n  margin: 20px auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n  width: 100%;\n`;\n\nexport const Li = styled.li`\n  margin: 20px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 50px auto;\n  }\n`","import styled from \"styled-components\";\n\nexport const StyledExperience = styled.div`\n  @keyframes slide-up {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  animation: slide-up 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 10px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const StyledDateTime = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n  opacity: ${(props) => props.opacity};\n`\n\nexport const Description = styled.p`\n  margin: 20px;\n  margin-left: 50px;\n`\n\nexport const AddPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: grey;\n  }\n`\n\nexport const EditPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: grey;\n  }\n`\n\nexport const MapContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`\n\nexport const PicturesContainer = styled.div`\n  text-align: center;\n`\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n\n  img {\n    height: 200px;\n    width: auto;\n    margin: 20px;\n\n    @media (max-width: 767px) {\n      height: 100px;\n      width: auto;\n      margin: 10px;\n    }\n\n    @media (min-width: 992px) {\n      height: 300px;\n      width: auto;\n      margin: 20px;\n    }\n  }\n\n  svg {\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    background-color: rgba(255,255,255,.4);\n    border: 1px solid rgba(0,0,0,0.2);\n    border-radius: 25%;\n    padding: 3px;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`","import styled from \"styled-components\";\r\n\r\nexport const StyledCreateForm= styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  border: solid red 1px;\r\n  border-radius: 4px;\r\n  max-width: 350px;\r\n  padding: 5px 5px 8px;\r\n  margin: 0 auto;\r\n  background-color: rgba(241, 169, 160, .2);\r\n\r\n  @media (min-width: 768px) {\r\n    width: 350px;\r\n    margin: 0 auto;\r\n  }\r\n`\r\nexport const Loading = styled.div`\r\n  margin: 40px;\r\n` ","import React, { useState } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport { StyledCreateForm, Loading, Error } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst CreateFormGeneral = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const [loading, setLoading] = useState(\"\")\n\n  const handleFormSubmit = (formObject) => {\n    setLoading(true)\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      uploadData.append(\"imageUrl\", formObject.archive);\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n      console.log(\"uploadData\",uploadData)\n    }\n    if (props.addPhotoToExperience) {\n      uploadData.append(\"imageUrl\", formObject.archive);\n    }\n    const dynamicService = props.tripForm\n      ? tripService.newTrip(uploadData)\n      : props.stepForm\n      ? stepService.newStep(formObject)\n      : props.experienceForm\n      ? experienceService.newExperience(formObject)\n      : experienceService.addPictureToExperience(props.experienceId, uploadData)\n    dynamicService  \n      .then((response) => {\n        setLoading(false)\n        console.log(`New ${props.formType} created !`, response)\n        props.addPhotoToExperience && props.closeShowAddPhoto()\n        props.addPhotoToExperience && props.updateNewPicture()\n        props.tripForm\n          ? props.history.push(\"/trips\")\n          : props.history.push(`/trips/${props.tripId}`)\n      })\n      .catch((error) => {\n        setLoading(false)\n        console.log(`Error while getting ${props.formType} details :`, error)\n        setShowError(error.response.data.message)\n      });\n  };\n\n  const redirectLink = props.match.path === \"/create-trip\"\n                          ? \"/trips\"\n                          : `/trips/${props.match.params.id}`\n\n  return (\n    <StyledCreateForm>\n      {loading\n        ? <Loading><FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" /><p>Loading</p></Loading>\n        : <FormGeneral\n            formType={props.formType}\n            formTitle={props.addPhotoToExperience || `Create a new ${props.formType}`}\n            formSubmit={handleFormSubmit}\n            formState={props.initialState}\n            formInputs={props.formInputs}\n            formButton={props.addPhotoToExperience ? \"ADD\" : \"CREATE\"}\n          />\n}\n      { showError &&\n        <Error>\n          {showError}\n        </Error>\n      }\n      {\n        props.addPhotoToExperience ||\n          <p>\n            <Link to={`${redirectLink}`}>\n              <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n            </Link>\n          </p>\n      }\n    </StyledCreateForm>\n  );\n};\n\nexport default CreateFormGeneral;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddPhotoToExperience = (props) => {\n  const formInputs = [\n    {\n      label: \"New photo\",\n      type: \"file\",\n      name: \"imageUrl\",\n    }\n  ];\n\n  const initialState = {\n    imageUrl: \"\",\n    archive: null\n  };\n\n  return (\n    <CreateFormGeneral\n      addPhotoToExperience\n      formType=\"experience photo\"\n      formInputs={formInputs}\n      initialState={initialState}\n      tripId={props.match.params.id}\n      experienceId={props.experienceId}\n      closeShowAddPhoto={props.closeShowAddPhoto}\n      handleUpdateNewPicture={props.updateNewPicture}\n      {...props}\n    />\n  );\n};\n\nexport default AddPhotoToExperience;\n","import React, { useState, useEffect, useCallback } from \"react\";\n// import stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport {\n  StyledExperience,\n  StyledDateTime,\n  Description,\n  MapContainer,\n  AddPhotoLogo,\n  EditPhotoLogo,\n  PicturesContainer,\n  OwnerControls,\n  StyledStepHeader,\n  SinglePictureContainer\n} from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddPhotoToExperience from \"../CreateFormGeneral/AddPhotoToExperience\";\n\nconst Experience = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    experience: [],\n    expanded: false,\n    showAddPhoto: false,\n    editingPhotos: false\n  };\n  const [state, setState] = useState(initialState);\n\n  const toggleExpand = () => {\n    setState((state) => ({\n      ...state,\n      expanded: !state.expanded,\n    }));\n  };\n\n  const toggleShowAddPhoto = () => {\n    !state.showAddPhoto && handleCloseEditingPhotos()\n    setState((state) => ({\n      ...state,\n      showAddPhoto: !state.showAddPhoto,\n    }));\n  };\n\n  const toggleEditingPhotos = () => {\n    !state.editingPhotos && handleCloseShowAddPhoto()\n    setState((state) => ({\n      ...state,\n      editingPhotos: !state.editingPhotos,\n    }));\n  };\n\n  const handleCloseEditingPhotos = () => {\n    setState((state) => ({\n      ...state,\n      editingPhotos: false,\n    }));\n  };\n\n  const handleCloseShowAddPhoto = () => {\n    setState((state) => ({\n      ...state,\n      showAddPhoto: false,\n    }));\n  };\n\n  const handleUpdateNewPicture = useCallback(\n    () =>\n      experienceService\n        .experienceDetails(state.experience._id)\n        .then((response) => {\n          setState((state) => ({\n            ...state,\n            experience: response,\n          }));\n        })\n        .catch((error) =>\n          console.log(\"Error while getting experience details :\", error)\n        ),\n    [state.experience._id]\n  );\n\n  const handleDeletePicture = (imageId) => {\n    console.log(\"Picture with imageId \",imageId,\" will be deleted\")\n    experienceService.deleteExperiencePicture(state.experience._id, imageId)\n      .then((response) => {\n        console.log(\"Picture deleted !\", response)\n        handleUpdateNewPicture()\n      })\n  }\n\n\n  const experiencePictures =\n    state.experience.pictures &&\n    state.experience.pictures.map((picture, index) => {\n      return <SinglePictureContainer key={index} style={{display:\"inline-block\"}}>\n                <img key={picture._id} src={picture.url} alt=\"experience\" />\n                {props.author._id === state.loggedInUser._id && state.editingPhotos &&\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faTrashAlt\"}\n                    color=\"red\"\n                    deleteExperiencePicture={handleDeletePicture}\n                    picture={picture}\n                  />\n                }\n              </SinglePictureContainer>\n    });\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.experience._id)\n      .then((response) => {\n        console.log(\"Experience details :\", response);\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          experience: response,\n        }));\n      })\n      .catch((error) =>\n        console.log(\"Error while getting experience details :\", error)\n      );\n  }, [props.userInSession, props.experience._id]);\n\n  return (\n    <StyledExperience>\n      <StyledStepHeader onClick={toggleExpand}>\n        {state.expanded ? (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronDown\"} />\n        ) : (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronRight\"} />\n        )}\n        <span>\n          {state.experience.title}\n          {state.experience.date && (\n            <React.Fragment>\n              {(state.experience.showDate ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showDate ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faCalendarAlt\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.date}\n                  {!state.experience.showDate && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n              {(state.experience.showTime ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showTime ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faClock\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.time}\n                  {!state.experience.showTime && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n            </React.Fragment>\n          )}\n        </span>\n      </StyledStepHeader>\n      {state.expanded && (\n        <>\n          {state.experience.description && (\n            <Description>\n              <FontAwesomeIconComponent chosenIcon={\"faCommentDots\"} color=\"grey\" />\n              {state.experience.description}\n            </Description>\n          )}\n          {state.experience.place && (\n            <MapContainer>\n              <Map\n                experienceMap\n                address={state.experience.place.address}\n                lat={state.experience.place.lat}\n                lng={state.experience.place.lng}\n                zoom=\"15\"\n              />\n            </MapContainer>\n          )}\n          {state.experience.pictures && (\n            <PicturesContainer>{experiencePictures}</PicturesContainer>\n          )}\n          {state.loggedInUser && props.author._id === state.loggedInUser._id && (\n            <React.Fragment>\n              <EditPhotoLogo onClick={toggleEditingPhotos}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.editingPhotos ? \"faMinusSquare\" : \"faPenSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.editingPhotos ? \"Close\" : \"Edit photos\"}\n              </EditPhotoLogo>\n              <AddPhotoLogo onClick={toggleShowAddPhoto}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.showAddPhoto ? \"faMinusSquare\" : \"faPlusSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.showAddPhoto ? \"Close\" : \"Add a photo\"}\n              </AddPhotoLogo>\n            </React.Fragment>\n          )}\n          {state.showAddPhoto && (\n            <AddPhotoToExperience\n              experienceId={state.experience._id}\n              closeShowAddPhoto={handleCloseShowAddPhoto}\n              updateNewPicture={handleUpdateNewPicture}\n              {...props}\n            />\n          )}\n          {state.loggedInUser && state.loggedInUser._id === props.author._id && (\n            <>\n              <OwnerControls>\n                <Link\n                  to={`/trips/${state.experience.step.trip}/steps/${state.experience.step._id}/edit-experience/${state.experience._id}`}\n                >\n                  <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                  <span>Edit experience</span>\n                </Link>\n              </OwnerControls>\n            </>\n          )}\n        </>\n      )}\n    </StyledExperience>\n  );\n};\n\nexport default Experience;\n","import styled from \"styled-components\";\n\nexport const StyledStep = styled.div`\n  @keyframes slide-left {\n    0% {\n      transform: translateX(calc(100% - 5px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  animation: slide-left 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 20px auto;\n  text-align: left;\n  display: flex;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport Experience from \"../Experience/Experience\"\nimport { StyledStep, OwnerControls, StyledStepHeader, Ul, Box, Li } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Step = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    step: [],\n    experiences: [],\n    author: [],\n    expanded: false\n  };\n  const [state, setState] = useState(initialState);\n  \n  const toggleExpand = () => {\n    setState(state => ({\n      ...state,\n      expanded: !state.expanded\n    }))\n  }\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.step._id)\n      .then((response) => {\n        console.log(\"Step details :\", response);\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          step: response\n        }));\n        experienceService\n          .experiences(props.step._id)\n            .then((response) => {\n              console.log(\"Experiences of this step:\", response)\n              setState((state) => ({\n                ...state,\n                experiences: response\n              }));\n            })\n            .catch((error) => \n              console.log(\"Error while getting experiences :\", error\n            ))\n        tripService\n            .tripDetails(props.step.trip._id)\n              .then((response) => {\n                setState(state => ({\n                  ...state,\n                  author: response.author\n                }))\n              })\n      })\n      .catch((error) =>\n        console.log(\"Error while getting step details :\", error)\n      );\n  }, [props.userInSession, props.step.trip._id, props.step._id]);\n\n  const experiencesList = state.experiences.map((experience, index) => {\n    return(\n      <Li key={experience._id}>\n        <Experience\n          experience={experience}\n          experienceNumber={index+1}\n          author={state.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    )\n  })\n\n  return (\n    <StyledStep>\n      <StyledStepHeader onClick={toggleExpand}>\n        {\n          state.expanded\n          ? <FontAwesomeIconComponent chosenIcon={\"faChevronCircleDown\"} />\n          : <FontAwesomeIconComponent chosenIcon={\"faChevronCircleRight\"} />\n        }\n        {state.step.title}  \n      </StyledStepHeader>\n      {\n        state.expanded &&\n        <>\n          <Ul>\n            <Box>\n              { experiencesList }\n            </Box>\n          </Ul>\n          {\n            state.loggedInUser && state.loggedInUser._id === state.step.trip.author &&\n              <>\n                <OwnerControls>\n                  <Link to={{ pathname: `/trips/${state.step.trip._id}/steps/${state.step._id}/add-experience`, state: { trip: state.trip }}}>\n                    <FontAwesomeIconComponent chosenIcon={\"faAsterisk\"} />\n                    <span>Add an experience</span>\n                  </Link>\n                </OwnerControls>\n                <OwnerControls>\n                  <Link to={`/trips/${state.step.trip._id}/edit-step/${state.step._id}`}>\n                    <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                    <span>Edit step</span>\n                  </Link>\n                </OwnerControls>\n              </>\n          }\n        </>\n      }  \n    </StyledStep>\n  );\n};\n\nexport default Step;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport { StyledTrip, Duration, OwnerControls, Ul, Box, Li, Error } from \"./styles\"\nimport Step from \"../Step/Step\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture\"\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddToFavoritesLogo from \"../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo\";\nimport LikeTripLogo from \"../ElementalComponents/LikeTripLogo/LikeTripLogo\";\n\nconst Trip = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const initialState = {\n    loggedInUser: null,\n    trip: [],\n    steps: [],\n    experiences: [],\n    lat: null,\n    lng: null\n  };\n  const [state, setState] = useState(initialState);\n\n  const handleUpdateTrip = () => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        console.log(\"Trip details :\", tripResponse);\n        tripResponse === null \n        ? setShowError(\"Sorry, this trip doesn't exist.\")\n        : setState((state) => ({\n            ...state,\n            loggedInUser: props.userInSession,\n            trip: tripResponse\n          }))\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details :\", error)\n        setShowError(`Error : ${error.response.data.message}`)        \n      });\n  }\n\n  useEffect(() => {\n    experienceService\n      .fullTripExperiences(props.match.params.id)\n        .then((experienceResponse) => {\n          const experienceLatAverage = experienceResponse\n          .filter(experience => experience.place)\n          .reduce((acc, curr) => acc + curr.place.lat, 0).toFixed(2) / experienceResponse\n          .filter(experience => experience.place).length\n\n          const experienceLngAverage = experienceResponse\n            .filter(experience => experience.place)\n            .reduce((acc, curr) => acc + curr.place.lng, 0).toFixed(2) / experienceResponse\n            .filter(experience => experience.place).length\n          console.log(\"Experiences of this trip:\", experienceResponse)\n\n          setState((state) => ({\n            ...state,\n            experiences: experienceResponse,\n            lat: experienceLatAverage,\n            lng: experienceLngAverage\n          }));\n        })\n        .catch((error) => \n          console.log(\"Error while getting experiences :\", error\n        ))\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        console.log(\"Trip details :\", tripResponse);\n        tripResponse === null \n        ? setShowError(\"Sorry, this trip doesn't exist.\")\n        : setState((state) => ({\n            ...state,\n            loggedInUser: props.userInSession,\n            trip: tripResponse\n          }));\n          stepService\n            .steps(props.match.params.id)\n              .then((stepResponse) => {\n                console.log(\"Steps of this trip:\", stepResponse)\n                setState((state) => ({\n                  ...state,\n                  loggedInUser: props.userInSession,\n                  steps: stepResponse\n                }));\n              })\n              .catch((error) => \n                console.log(\"Error while getting steps :\", error\n              ))\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details :\", error)\n        setShowError(`Error : ${error.response.data.message}`)        \n      });\n  }, [props.userInSession, props.match.params.id]);\n\n  const stepsList = state.steps.map((step, index) => {\n    return(\n      <Li key={step._id}>\n        <Step\n          step={step}\n          stepNumber={index+1}\n          author={state.trip.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    )\n  })\n\n  const allExperiencesCoords = state.experiences\n    .filter(experience => experience.place)\n    .map((experience) => {\n      return(\n        {\n          lat: experience.place.lat,\n          lng: experience.place.lng\n        }\n      )\n  })\n  \n  return (\n    <StyledTrip>\n      { showError\n        ?\n        <Error>\n          {showError}\n        </Error>\n        : (state.trip && state.trip.isPublic) || (state.trip && state.loggedInUser && state.trip.author._id === state.loggedInUser._id)\n        ?\n        <React.Fragment>\n        <span>\n          <h1>{state.trip.title}</h1>\n          { state.loggedInUser && \n            <AddToFavoritesLogo trip={state.trip} userInSession={state.loggedInUser} updateUser={props.updateUser} />\n          }\n        </span>\n        <Duration>\n          <FontAwesomeIconComponent chosenIcon={\"faHourglassHalf\"} size=\"1x\" />\n          <span>{state.trip.duration} days</span>\n        </Duration>\n        { state.trip && state.loggedInUser &&\n          <div style={{marginTop:\"15px\"}}>\n            <LikeTripLogo\n              trip={state.trip}\n              userInSession={state.loggedInUser}\n              updateTrips={handleUpdateTrip}\n            />\n            <span>{state.trip.likes.length}</span>\n          </div>\n        }\n        { state.trip.author && \n          <div style={{display:\"flex\", alignItems:\"center\", justifyContent:\"center\", margin:\"20px auto\"}}>\n            <ProfilePicture src={state.trip.author.profilePicture} width=\"50px\" height=\"50px\" margin=\"5px 15px 5px 0\" display=\"inline-block\" />\n            <span>By {state.trip.author.username}</span>\n          </div>\n        }\n        { state.trip && state.loggedInUser && state.trip.author._id === state.loggedInUser._id && !state.trip.isPublic &&\n         <p style={{opacity: \"0.4\"}}>(PRIVATE TRIP)</p>\n        }\n        {/* <img src={state.trip.imageUrl} alt=\"trip cover pic\" /> */}\n        { state.experiences && state.experiences.filter(experience => experience.place).length >= 1 &&\n          <Map\n            tripMap\n            mapType = \"tripPresentation\"\n            address={\"\"}\n            lat={state.experiences.length === 1 ? state.experiences[0].place.lat : state.lat}\n            lng={state.experiences.length === 1 ? state.experiences[0].place.lng : state.lng}\n            zoom=\"14\"\n            allExperiencesCoords={allExperiencesCoords}\n            hasOnlyOneLocalisation={allExperiencesCoords.length === 1}\n          />\n        }\n        { state.steps && \n          <Ul>\n            <Box>\n              {stepsList}\n            </Box>\n          </Ul>\n        }\n        {state.loggedInUser && state.loggedInUser._id === state.trip.author._id && (\n          <>\n            <OwnerControls>\n              <Link to={{pathname: `/trips/${state.trip._id}/add-step`, state: { trip: state.trip }}}>\n              <FontAwesomeIconComponent chosenIcon={\"faPlus\"} />\n                <span>Add a step</span>\n              </Link>\n            </OwnerControls>\n            <OwnerControls>\n              <Link to={{\tpathname: `/trips/edit/${state.trip._id}`, state: { trip: state.trip }}}>\n              <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                <span>Edit trip</span>\n              </Link>\n            </OwnerControls>\n          </>\n        )}\n        <p style={{marginTop: \"40px\"}}>\n          <Link to={`/trips`}>\n            <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n          </Link>\n        </p> \n        </React.Fragment>\n        : \"Sorry, this is a private trip.\"\n      }\n    </StyledTrip>\n  );\n};\n\nexport default Trip;\n","import React, { useState, useEffect} from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditTripForm = (props) => {\n  const [tripState, setTripState] = useState({})\n\n  useEffect(() => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then(response => {\n        setTripState(response)\n      })\n      .catch((error) =>\n        console.log(\"Error while getting trip details :\", error)\n      );\n  }, [props.match.params.id]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: tripState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      value: tripState.isPublic,\n      checked: tripState.isPublic,\n      name: \"isPublic\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      value: \"\",\n      name: \"imageUrl\"\n    },\n    {\n      label: \"Start date*\",\n      type: \"date\",\n      value: formatDate(tripState.startDate),\n      name: \"startDate\",\n    },\n    {\n      label: \"End date*\",\n      type: \"date\",\n      value: formatDate(tripState.endDate),\n      name: \"endDate\",\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${tripState.title}\"`}\n      trip={tripState}\n      {...props}\n    />\n  );\n};\n\nexport default EditTripForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddStepForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"First day - London South and East\"'\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    trip: props.match.params.id\n  };\n\n  return (\n      <CreateFormGeneral\n        stepForm\n        formType=\"step\"\n        formInputs={formInputs}\n        initialState={initialState}\n        tripId={props.match.params.id}\n        {...props}\n      />\n  );\n};\n\nexport default AddStepForm;\n","import React, { useState, useEffect} from \"react\";\nimport stepService from \"../Services/step-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditStepForm = (props) => {\n  const [stepState, setStepState] = useState({})\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.match.params.stepId)\n      .then(response => {\n        setStepState(response);\n      })\n      .catch((error) =>\n        console.log(\"Error while getting step details :\", error)\n      );\n  }, [props.match.params.stepId]);\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: stepState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      stepForm\n      formType=\"step\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${stepState.title}\"`}\n      step={stepState}\n      {...props}\n    />\n  );\n};\n\nexport default EditStepForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddExperienceForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"Dinner in Camden Town\"'\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      name: \"time\"\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"'\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      placeholder: 'Ex: \"Paris...\"'\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    date: \"\",\n    time: \"\",\n    showDate: false,\n    showTime: false,\n    step: props.match.params.stepId,\n    trip: props.match.params.id,\n    description: \"\",\n    place: null\n  };\n\n  return (\n    <>\n      <CreateFormGeneral\n        experienceForm\n        formType=\"experience\"\n        formInputs={formInputs}\n        initialState={initialState}\n        tripId={props.match.params.id}\n        {...props}\n      />\n    </>\n  );\n};\n\nexport default AddExperienceForm;\n","import React, { useState, useEffect} from \"react\";\nimport experienceService from \"../Services/experience-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditExperienceForm = (props) => {\n  const [experienceState, setExperienceState] = useState({})\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.match.params.experienceId)\n      .then(response => {\n        setExperienceState(response);\n      })\n      .catch((error) =>\n        console.log(\"Error while getting experience details :\", error)\n      );\n  }, [props.match.params.experienceId]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: experienceState.title,\n      placeholder: \"Ex.: Dinner at the Eiffel Tower\",\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      value: formatDate(experienceState.date),\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showDate,\n      checked: experienceState.showDate,\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      value: experienceState.time,\n      name: \"time\",\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showTime,\n      checked: experienceState.showTime,\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      value: experienceState.description,\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"'\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      value: experienceState.place,\n      placeholder: 'Ex: \"Paris...\"'\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      experienceForm\n      formType=\"experience\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${experienceState.title}\"`}\n      experience={experienceState}\n      {...props}\n    />\n  );\n};\n\nexport default EditExperienceForm;\n","import styled from \"styled-components\";\n\nexport const StyledApp = styled.div`\n  margin: 0 40px;\n  text-align: center;\n\n  @media (max-width: 767px) {\n    margin: 0 20px;\n  }\n`","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst CreateTripForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      name: \"imageUrl\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      name: \"isPublic\",\n    },\n    {\n      label: \"Start Date*\",\n      type: \"date\",\n      name: \"startDate\",\n    },\n    {\n      label: \"End Date*\",\n      type: \"date\",\n      name: \"endDate\",\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    isPublic: false,\n    startDate: \"\",\n    endDate: \"\",\n    imageUrl: \"\",\n    archive: null\n  };\n\n  return (\n    <CreateFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      initialState={initialState}\n      {...props}\n    />\n  );\n};\n\nexport default CreateTripForm;\n","import styled from \"styled-components\";\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from 'react'\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { AddLogo } from \"./styles\";\nimport Button from '../ElementalComponents/Button/Button';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\n\nconst MyTrips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip =>  state.loggedInUser._id === trip.author._id);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                    />\n\n  return (\n    <div>\n      <h1>My Trips</h1>\n      { state.trips.length > 0\n          ? listTrips\n          : <>\n              <p>You don't have any trip yet !</p>\n              <Link to=\"/create-trip\">\n                <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n              </Link>\n            </>\n      }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </div>\n  )\n}\n\nexport default MyTrips","import styled from \"styled-components\";\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from 'react'\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { AddLogo } from \"./styles\";\nimport Button from '../ElementalComponents/Button/Button';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\n\nconst MyFavoriteTrips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip => state.loggedInUser.favorites.indexOf(trip._id) !== -1);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                    />\n\n  return (\n    <div>\n      <h1>My Favorite Trips</h1>\n      { state.trips.length > 0\n          ? listTrips\n          : <>\n              <p>You don't have any favorite trip yet !</p>\n              <Link to=\"/trips\">\n                <Button formButton=\"CHECK TRIPS\" width={\"250px\"} />\n              </Link>\n            </>\n      }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </div>\n  )\n}\n\nexport default MyFavoriteTrips","import React from 'react'\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <h1>Error 404 not found</h1>\n    </div>\n  )\n}\n\nexport default NoMatch\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavBar from \"./components/Navbar/Navbar\";\nimport Homepage from \"./components/Homepage/Homepage\";\nimport Signup from \"./components/Auth/Signup\";\nimport Login from \"./components/Auth/Login\";\nimport Trips from \"./components/Trips/Trips\";\nimport SearchTripsResults from \"./components/SearchTripsResults/SearchTripsResults\";\nimport authService from \"./components/Services/auth-service\";\nimport ProtectedRoute from \"./components/Auth/protected-route\";\nimport Profile from \"./components/Profile/Profile\";\nimport Trip from \"./components/Trip/Trip\";\nimport EditTripForm from \"./components/EditFormGeneral/EditTripForm\";\nimport AddStepForm from \"./components/CreateFormGeneral/AddStepForm\";\nimport EditStepForm from \"./components/EditFormGeneral/EditStepForm\";\nimport AddExperienceForm from \"./components/CreateFormGeneral/AddExperienceForm\";\nimport EditExperienceForm from \"./components/EditFormGeneral/EditExperienceForm\";\nimport { StyledApp } from \"./styles\";\nimport CreateTripForm from \"./components/CreateFormGeneral/CreateTripForm\";\nimport MyTrips from \"./components/MyTrips/MyTrips\";\nimport MyFavoriteTrips from \"./components/MyFavoriteTrips/MyFavoriteTrips\";\nimport NoMatch from \"./components/NoMatch/NoMatch\";\n\nconst App = () => {\n  const initialState = { loggedInUser: JSON.parse(localStorage.getItem('loggedInUser')) || null };\n  const [state, setState] = useState(initialState);\n\n  const getTheUser = (userObj) => {\n    setState({\n      loggedInUser: userObj,\n    });\n  };\n\n  useEffect(() => {\n    const fetchUser = () => {\n      if (state.loggedInUser === null) {\n        authService\n          .loggedIn()\n          .then((response) => {\n            localStorage.setItem('loggedInUser', JSON.stringify(response));\n            setState({\n              loggedInUser: response,\n            })\n          })\n          .catch((err) => {\n            setState({\n              loggedInUser: false,\n            });\n          });\n      }\n    };\n    fetchUser();\n  }, [state.loggedInUser]);\n\n  const handleUpdateUser = () => {\n    authService\n        .loggedIn()\n        .then((response) => {\n          setState({\n            loggedInUser: response,\n          });\n        })\n        .catch((err) => {\n          setState({\n            loggedInUser: false,\n          });\n        });\n  }\n\n  return (\n    <StyledApp>\n      <NavBar userInSession={state.loggedInUser} getUser={getTheUser} />\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => (\n            <Homepage {...props} userInSession={state.loggedInUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/trips\"\n          render={(props) => (\n            <Trips {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/search\"\n          render={(props) => (\n            <SearchTripsResults {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/trips/:id\"\n          render={(props) => (\n            <Trip {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/edit/:id\"\n          userInSession={state.loggedInUser}\n          component={EditTripForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/add-step\"\n          userInSession={state.loggedInUser}\n          component={AddStepForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/edit-step/:stepId\"\n          userInSession={state.loggedInUser}\n          component={EditStepForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/steps/:stepId/add-experience\"\n          userInSession={state.loggedInUser}\n          component={AddExperienceForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/steps/:stepId/edit-experience/:experienceId\"\n          userInSession={state.loggedInUser}\n          component={EditExperienceForm}\n        />\n        <Route\n          exact\n          path=\"/signup\"\n          render={(props) => <Signup {...props} getUser={getTheUser} />}\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login {...props} getUser={getTheUser} />}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile\"\n          userInSession={state.loggedInUser}\n          component={Profile}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile/my-trips\"\n          userInSession={state.loggedInUser}\n          component={MyTrips}\n          updateUser={handleUpdateUser}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile/favorite-trips\"\n          userInSession={state.loggedInUser}\n          component={MyFavoriteTrips}\n          updateUser={handleUpdateUser}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/create-trip\"\n          userInSession={state.loggedInUser}\n          component={CreateTripForm}\n        />\n        <Route component={NoMatch} />\n      </Switch>\n    </StyledApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}