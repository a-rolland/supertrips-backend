{"version":3,"sources":["components/Services/auth-service.js","components/Navbar/styles.js","components/ElementalComponents/Button/styles.js","components/ElementalComponents/Button/Button.js","components/ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent.js","components/Navbar/Navbar.js","components/SearchBar/styles.js","components/SearchBar/SearchBar.js","components/Services/trip-service.js","components/Homepage/styles.js","components/TripsList/styles.js","components/ElementalComponents/ProfilePicture/styles.js","components/ElementalComponents/ProfilePicture/ProfilePicture.js","components/ElementalComponents/AddToFavoritesLogo/styles.js","components/ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo.js","components/ElementalComponents/LikeTripLogo/styles.js","components/ElementalComponents/LikeTripLogo/LikeTripLogo.js","components/TripsList/TripsList.js","components/Homepage/Homepage.js","components/FormGeneral/styles.js","components/LocationSearchInput/styles.js","components/LocationSearchInput/LocationSearchInput.js","components/Map/styles.js","components/Map/Map.js","components/FormGeneral/FormGeneral.js","components/Auth/styles.js","components/Auth/AuthForm.js","components/Auth/Signup.js","components/Auth/Login.js","components/Trips/styles.js","components/Trips/Trips.js","components/SearchTripsResults/SearchTripsResults.js","components/Auth/protected-route.js","components/Profile/styles.js","components/Services/step-service.js","components/Services/experience-service.js","components/EditFormGeneral/styles.js","components/EditFormGeneral/EditFormGeneral.js","components/EditFormGeneral/EditProfilePictureForm.js","components/Profile/Profile.js","components/Trip/styles.js","components/Experience/styles.js","components/CreateFormGeneral/styles.js","components/CreateFormGeneral/CreateFormGeneral.js","components/CreateFormGeneral/AddPhotoToExperience.js","components/Experience/Experience.js","components/Step/styles.js","components/Step/Step.js","components/Trip/Trip.js","components/EditFormGeneral/EditTripForm.js","components/CreateFormGeneral/AddStepForm.js","components/EditFormGeneral/EditStepForm.js","components/CreateFormGeneral/AddExperienceForm.js","components/EditFormGeneral/EditExperienceForm.js","styles.js","components/CreateFormGeneral/CreateTripForm.js","components/MyTrips/styles.js","components/MyTrips/MyTrips.js","components/MyFavoriteTrips/styles.js","components/MyFavoriteTrips/MyFavoriteTrips.js","components/NoMatch/NoMatch.js","components/ProfilePublic/styles.js","components/ProfilePublic/ProfilePublic.js","App.js","serviceWorker.js","index.js"],"names":["authService","axios","create","baseURL","process","withCredentials","errorHandler","err","userId","get","then","response","data","catch","credentials","post","localStorage","removeItem","id","formFields","put","token","Nav","styled","div","Dropdown","ul","props","showDropdown","margin","BrandLogo","img","ButtonStyled","input","theme","color","width","defaultProps","Button","type","value","formButton","onClick","toggleDeleteConfirmation","closeDeleteConfirmation","deleteItem","toggleProfilePictureForm","logoutUser","FontAwesomeIconComponent","icon","chosenIcon","faHourglassHalf","faSuitcaseRolling","faFeatherAlt","faPlus","faAsterisk","faChevronCircleRight","faChevronCircleDown","faTimes","faBars","faSpinner","faChevronRight","faChevronDown","faArrowCircleLeft","faClock","faCalendarAlt","faPlusSquare","faMinusSquare","faCommentDots","faHeart","faTrashAlt","faPenSquare","faThumbsUp","faFacebook","size","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","toggleDropdown","toggleAddToFavorites","trip","_id","deleteExperiencePicture","picture","toggleLikeTrip","userInSession","tripDescription","Navbar","useState","loggedInUser","state","setState","setShowDropdown","dropDownButtonColor","setDropdownButtonColor","window","innerWidth","height","innerHeight","setSize","useEffect","addEventListener","closeDropdown","console","log","toggleDropdownButtonColor","to","src","alt","style","getUser","Search","SearchBar","placeholder","onChange","event","target","searchUpdates","tripService","delete","VideoContainer","HomepageBody","Ul","LiContainer","popularTrips","Li","li","TripContainer","SinglePictureContainer","StyledProfilePicture","display","alignSelf","ProfilePicture","StyledFavoritesLogo","span","AddToFavoritesLogo","initialState","userState","setUserState","updateUser","useCallback","error","favorites","indexOf","tripId","StyledThumbsUpLogo","LikeTripLogo","likes","updateTrips","TripsList","listTrips","trips","map","key","pathname","imageUrl","title","duration","marginTop","length","alignItems","author","profilePicture","username","Homepage","setLoggedInUser","search","searchState","updateSearch","popularTripsState","updatePopularTrips","a","fetchAuthorizedTripsList","popularTripsList","handleSearch","currentSearch","autoPlay","loop","muted","onSubmit","preventDefault","history","push","textAlign","Form","form","Input","Textarea","textarea","PlaceSuggestion","LocationSearchInput","handleChange","address","handleSelect","geocodeByAddress","results","getLatLng","latLng","setPlace","this","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","Fragment","className","suggestion","active","backgroundColor","cursor","index","description","React","Component","MapContainer","formMap","tripMap","experienceMap","Map","name","lat","parseFloat","lng","zoom","center","parseInt","apiIsLoaded","maps","places","bounds","LatLngBounds","forEach","place","extend","LatLng","getMapBounds","fitBounds","addDomListenerOnce","addDomListener","bindResizeListener","bootstrapURLKeys","GOOGLE_MAPS_KEY","defaultCenter","defaultZoom","options","disableDefaultUI","mapTypeControl","streetViewControl","styles","featureType","elementType","stylers","visibility","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","hasOnlyOneLocalisation","allExperiencesCoords","mapType","coord","Marker","position","renderMarkers","FormGeneral","formState","checked","files","archive","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","formatDate","newPlace","dynamicInputs","formInputs","label","stateToLift","formSubmit","liftFormSubmit","formTitle","auth","formType","Error","p","FacebookLoginStyled","AuthForm","showError","setShowError","formObject","login","setItem","JSON","stringify","message","password","authMessage","formRedirectLink","formRedirectText","Signup","signup","appId","autoLoad","isMobile","reauthenticate","fields","callback","access_token","accessToken","Login","StyledTrips","AddLogo","Trips","authorizedTripsList","filter","isPublic","filteredResponse","toUpperCase","includes","SearchTripsResults","query","URLSearchParams","location","listTripsLength","ProtectedRoute","component","rest","render","from","StyledProfile","stepService","experienceService","stepId","imageId","StyledEditForm","Loading","EditFormGeneral","showDeleteConfirmation","setshowDeleteConfirmation","setLoading","params","match","tripForm","stepForm","experienceForm","experienceId","originalImg","profilePictureForm","uploadData","FormData","append","startDate","endDate","user","updateProfilePicture","dynamicService","dynamicRedirectLink","EditProfilePictureForm","Profile","showProfilePictureForm","setShowProfilePictureForm","StyledTrip","Duration","OwnerControls","Box","TripPicture","StyledExperience","StyledStepHeader","StyledDateTime","opacity","Description","AddPhotoLogo","EditPhotoLogo","PicturesContainer","ExpandedSection","ExperienceTitle","StyledCreateForm","CreateFormGeneral","redirectLink","path","addPhotoToExperience","closeShowAddPhoto","updateNewPicture","AddPhotoToExperience","handleUpdateNewPicture","Experience","experience","expanded","showAddPhoto","editingPhotos","handleCloseEditingPhotos","handleCloseShowAddPhoto","handleDeletePicture","experiencePictures","pictures","url","showDate","showTime","time","step","StyledStep","StepTitle","Step","experiences","experiencesList","experienceNumber","Trip","steps","experienceResponse","experienceLatAverage","reduce","acc","curr","toFixed","experienceLngAverage","tripResponse","stepResponse","stepsList","stepNumber","justifyContent","EditTripForm","tripState","setTripState","AddStepForm","EditStepForm","stepState","setStepState","AddExperienceForm","EditExperienceForm","experienceState","setExperienceState","StyledApp","CreateTripForm","MyTrips","myTrips","MyFavoriteTrips","NoMatch","ProfilePublic","profileUserState","setProfileUserState","profileUserTrips","setProfileUserTrips","foundUser","profileUser","allTrips","fetchProfileUser","profileUserTripsList","App","parse","getItem","getTheUser","userObj","handleUpdateUser","exact","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d1463c50.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst authService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  authService,\n\n  getUser: (userId) => {\n    return authService\n      .get(`/getUser/${userId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  signup: (credentials) => {\n    return authService\n      .post(\"/signup\", credentials)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  loggedIn: () => {\n    return authService.get(\"/loggedIn\").then((response) => response.data);\n  },\n\n  login: (credentials) => {\n    return authService\n      .post(\"/login\", credentials)\n      .then((response) => response.data);\n  },\n\n  logout: () => {\n    localStorage.removeItem(\"loggedInUser\");\n    return authService.post(\"/logout\", {}).then((response) => response.data);\n  },\n\n  editProfilePicture: (id, formFields) => {\n    return authService\n      .put(\"/profile/profilePicture\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleAddToFavorites: (id) => {\n    return authService\n      .put(`/toggleAddToFavorites/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  facebookLogin: (token) => {\n    return authService\n      .post(`/auth/facebook`, token)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};","import styled from \"styled-components\";\n\nexport const Nav = styled.div`\n  @keyframes menu-transition {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  padding: 0;\n  border-bottom: 1px solid lightgrey;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0;\n  margin: 0 40px;\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n    margin: 0 20px;\n  }\n\n  h3 {\n    padding-bottom: 2px;  \n    \n    a {\n      text-decoration: none;\n    }\n  }\n\n  span {\n    align-self: center;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    @media (min-width: 767px) {\n      display: none;\n    }\n  }\n`;\n\nexport const Dropdown = styled.ul`\n  @media (max-width: 767px) {\n    display: ${(props) => props.showDropdown};\n    flex-direction: column;\n    list-style-type: none;\n    top: 75px;\n    right: 0px;\n    padding-left: 0;\n    width: 200px;\n    position: absolute;\n    z-index: 2;\n    height: fit-content;\n    background-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    animation-name: menu-transition;\n    animation-duration: .3s;\n    font-size: 12px;\n\n    li {\n      margin: ${props => props.margin || \"10px auto\"};\n      list-style-type: none;\n      display: flex;\n\n      a {\n        text-decoration: none;\n      }\n    }\n  }\n\n  @media (min-width: 767px) {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    list-style-type: none;\n    padding: 0;\n    width: 100%;\n\n    li {\n      margin: ${props => props.margin || \"auto 10px auto 10px\"};\n      font-weight: 400;\n\n      a {\n        text-decoration: none;\n      }\n    }\n  }\n\n  @media (min-width: 992px) {\n\n    li {\n      padding-top: 6px;\n\n      a {\n        font-size: 18px;\n      }\n    }\n  }\n`;\n\nexport const BrandLogo = styled.img`\n  padding-top: 6px;\n\n  @media (max-width: 576px) {\n    width: 125px;\n    margin: 10px 10px 10px 0;\n  }\n\n  @media (min-width: 576px) and (max-width: 767px) {\n    width: 150px;\n    margin: 15px 15px 15px 0;\n  }\n  \n  @media (min-width: 767px) and (max-width: 992px) {\n    width: 175px;\n    margin: 15px 15px 15px 0;\n  }\n\n  @media (min-width: 992px) {\n    width: 200px;\n    margin: 25px 25px 25px 0;\n  }\n\n\n`\n","import styled from \"styled-components\";\n\nexport const ButtonStyled = styled.input`\n  padding: 14px 20px 12px;\n  margin: 8px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  background-color: ${(props) => props.theme};\n  color: ${(props) => props.color};\n  width: ${(props) => props.width};\n\n  &:hover {\n    cursor: pointer;\n    background-color: lightsteelblue;\n  }\n`;\n\nButtonStyled.defaultProps = {\n  theme: \"white\",\n  color: \"black\",\n};\n","import React from \"react\";\nimport { ButtonStyled } from \"./styles\";\n\nconst Button = (props) => {\n  const handleClick = () => {\n    props.toggleDeleteConfirmation && props.toggleDeleteConfirmation()\n    props.closeDeleteConfirmation && props.closeDeleteConfirmation()\n    props.deleteItem && props.deleteItem()\n    props.toggleProfilePictureForm && props.toggleProfilePictureForm()\n    props.logoutUser && props.logoutUser();\n  };\n\n  return (\n    <ButtonStyled\n      type=\"submit\"\n      value={props.formButton}\n      onClick={handleClick}\n      theme={props.theme}\n      color={props.color}\n      width={props.width}\n    />\n  );\n};\n\nexport default Button;\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faHourglassHalf,\n  faSuitcaseRolling,\n  faFeatherAlt,\n  faPlus,\n  faAsterisk,\n  faChevronCircleRight,\n  faChevronCircleDown,\n  faChevronRight,\n  faChevronDown,\n  faTimes,\n  faBars,\n  faSpinner,\n  faArrowCircleLeft,\n  faClock,\n  faCalendarAlt,\n  faPlusSquare,\n  faMinusSquare,\n  faCommentDots,\n  faHeart,\n  faTrashAlt,\n  faPenSquare,\n  faThumbsUp\n} from '@fortawesome/free-solid-svg-icons'\nimport { faFacebook } from \"@fortawesome/free-brands-svg-icons\"\n\nconst FontAwesomeIconComponent = props => {\n  let icon;\n  switch(props.chosenIcon) {\n    case \"faHourglassHalf\":\n      icon = faHourglassHalf\n      break;\n    case \"faSuitcaseRolling\":\n      icon = faSuitcaseRolling\n      break;\n    case \"faFeatherAlt\":\n      icon = faFeatherAlt\n      break;\n    case \"faPlus\":\n      icon = faPlus\n      break;\n    case \"faAsterisk\":\n      icon = faAsterisk\n      break;\n    case \"faChevronCircleRight\":\n      icon = faChevronCircleRight\n      break;\n    case \"faChevronCircleDown\":\n      icon = faChevronCircleDown\n      break;\n    case \"faTimes\":\n      icon = faTimes\n      break;\n    case \"faBars\":\n      icon = faBars\n      break;\n    case \"faSpinner\":\n      icon = faSpinner\n      break;\n    case \"faChevronRight\":\n      icon = faChevronRight\n      break;\n    case \"faChevronDown\":\n      icon = faChevronDown\n      break;\n    case \"faArrowCircleLeft\":\n      icon = faArrowCircleLeft\n      break;\n    case \"faClock\":\n      icon = faClock\n      break;\n    case \"faCalendarAlt\":\n      icon = faCalendarAlt\n      break;\n    case \"faPlusSquare\":\n      icon = faPlusSquare\n      break;\n    case \"faMinusSquare\":\n      icon = faMinusSquare\n      break;\n    case \"faCommentDots\":\n      icon = faCommentDots\n      break;\n    case \"faHeart\":\n      icon = faHeart\n      break;\n    case \"faTrashAlt\":\n      icon = faTrashAlt\n      break;\n    case \"faPenSquare\":\n      icon = faPenSquare\n      break;\n    case \"faThumbsUp\":\n      icon = faThumbsUp\n      break;\n    case \"faFacebook\":\n      icon = faFacebook\n      break;\n    default:\n      icon = null\n  }\n\n  const handleClick = () => {\n    props.toggleDropdown && props.toggleDropdown()\n    props.toggleAddToFavorites && props.toggleAddToFavorites(props.trip._id)\n    props.deleteExperiencePicture && props.deleteExperiencePicture(props.picture._id)\n    props.toggleLikeTrip && props.userInSession && !props.tripDescription && props.toggleLikeTrip(props.trip._id)\n  }\n\n  return (\n    <FontAwesomeIcon\n      icon={icon}\n      size={props.size}\n      color={props.color}\n      onMouseEnter={props.handleMouseEnter}\n      onMouseLeave={props.handleMouseLeave}\n      onClick={handleClick}\n    />\n  )\n}\n\nexport default FontAwesomeIconComponent\n","import React, { useState, useEffect  } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Nav, Dropdown, BrandLogo } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Navbar = (props) => {\n  const initialState = { loggedInUser: null };\n  const [state, setState] = useState(initialState);\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [dropDownButtonColor, setDropdownButtonColor] = useState(\"grey\")\n  const [ size, setSize ] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  })\n\n  // equiv. componentWillReceiveProps\n  useEffect(() => {\n    // On each screen size change, check if the dropdown menu should be closed\n    const getSize = () => {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    }\n    const handleResize = () => setSize(getSize())\n    window.addEventListener('resize', handleResize)\n    size.width >= 767 && closeDropdown()\n\n    console.log(\"User In Session :\", props.userInSession);\n    setState({ loggedInUser: props.userInSession });\n  }, [props.userInSession, size.width]);\n\n  const logoutUser = () => {\n    authService.logout().then(() => {\n      setState({ loggedInUser: null });\n      props.getUser(null);\n    });\n  };\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown)\n  }\n\n  const closeDropdown = () => {\n    setShowDropdown(false)\n  }\n\n  const toggleDropdownButtonColor = () => {\n    dropDownButtonColor === \"grey\"\n      ? setDropdownButtonColor(\"black\")\n      : setDropdownButtonColor(\"grey\")\n  }\n    \n  return (\n    <Nav>\n      <Link to=\"/\" onClick={closeDropdown}><BrandLogo src=\"/supertrips_logo_blue.png\" alt=\"Supertrips\" /></Link>\n      {/* <Link to=\"/\" onClick={closeDropdown}><BrandLogo src=\"/supertrips_logo_blue_ocre.png\" alt=\"Supertrips\" /></Link> */}\n      <span>\n        <FontAwesomeIconComponent\n          chosenIcon={showDropdown ? \"faTimes\" : \"faBars\"}\n          size=\"lg\"\n          color={dropDownButtonColor}\n          handleMouseEnter={toggleDropdownButtonColor}\n          handleMouseLeave={toggleDropdownButtonColor}\n          toggleDropdown={toggleDropdown}\n        />\n      </span>\n      <Dropdown showDropdown={showDropdown ? \"flex\" : \"none\"}>\n        <li style={showDropdown ? {margin:\"30px auto 10px\"} : {margin:\"auto auto auto 20px\"} }>\n          <Link to=\"/trips\" onClick={closeDropdown}>TRIPS</Link>\n        </li>\n        {state.loggedInUser ? (\n          <>\n            <li>\n              <Link to=\"/profile\" onClick={closeDropdown}>PROFILE</Link>\n            </li>\n            <li>\n              <Link to=\"/\" onClick={closeDropdown}>\n                <Button logoutUser={logoutUser} formButton=\"LOGOUT\" />\n              </Link>\n            </li>\n          </>\n        ) : (\n          <>\n            <li>\n              <Link to=\"/signup\" onClick={closeDropdown}>SIGNUP</Link>\n            </li>\n            <li>\n              <Link to=\"/login\" onClick={closeDropdown}>LOGIN</Link>\n            </li>\n          </>\n        )}\n      </Dropdown>\n    </Nav>\n  );\n};\n\nexport default Navbar;\n","import styled from \"styled-components\";\n\nexport const Search = styled.input`\n  padding: 12px 20px;\n  border: 1px solid lightgrey;\n  margin: 8px 0 24px;\n  font-size: 17px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  width: 500px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n\n  @media (min-width: 992px) {\n    width: 700px;\n  }\n`;\n","import React from \"react\";\nimport { Search } from \"./styles\";\n\nconst SearchBar = (props) => {\n  const handleChange = (event) => {\n    const { value } = event.target;\n    props.searchUpdates(value);\n  };\n\n  return (\n    <Search\n      type=\"text\"\n      placeholder={props.placeholder}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default SearchBar;\n","import axios from \"axios\";\n\nconst tripService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  tripService,\n\n  newTrip: (formFields) => {\n    return tripService\n      .post(\"/newTrip\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  trips: () => {\n    return tripService\n      .get(\"/trips\")\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  popularTrips: () => {\n    return tripService\n      .get(\"/popularTrips\")\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  tripDetails: (id) => {\n    return tripService\n      .get(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editTrip: (id, formFields) => {\n    return tripService\n      .put(`/trips/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteTrip: (id) => {\n    return tripService\n      .delete(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleLikes: (id) => {\n    return tripService\n      .put(`/trip/toggleLikes/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  }\n};\n","import styled from \"styled-components\";\n\nexport const VideoContainer = styled.div`\n  position: relative;\n\n  h2 {\n    color: rgba(255,255,255,.8);\n  }\n\n  h2:first-of-type {\n    position: absolute;\n    left: 5%;\n    top: 2%;\n    font-size: 4vw;\n  }\n\n  h2:nth-of-type(2) {\n    position: absolute;\n    right: 5%;\n    bottom: 2%; \n    font-size: 4vw;\n  }\n\n  video {\n    width: 100%;\n  }\n\n  form {\n    position: absolute;\n    height: 100px;\n    width: 500px;\n    left: 50%;\n    margin-left: -250px;\n    top: 50%;\n    margin-top: -50px;\n\n    @media (max-width: 768px) {\n      width: 300px;\n      margin-left: -150px;\n    }\n\n    @media (min-width: 992px) {\n      width: 700px;\n      margin-left: -350px;\n    }\n  }\n`\n\nexport const HomepageBody = styled.ul`\n  padding: 0;\n\n  h2 {\n    text-align: left;\n    padding-left: 40px;\n    margin-bottom: 0;\n  }\n`","import styled from \"styled-components\";\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const LiContainer = styled.div`\n  margin: 0 auto;\n  ${(props) => props.popularTrips && \n    \"display: flex; flex-direction: row; width: 100%; align-items: flex-start; overflow-x: scroll\"\n  }\n`;\n\nexport const Li = styled.li`\n  margin: 40px;\n  text-align: left;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n\n  @media (max-width: 767px) {\n    justify-content: center;\n  }\n\n  svg {\n    margin: 0 10px 0 0;\n    padding-top: 4px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n`;\n\nexport const TripContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  ${(props) => props.popularTrips && \n    \"display: flex; flex-direction: column; align-items: center;\"\n  }\n\n  @media (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n  }\n\n  img {\n    @keyframes slow-popup {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 1;\n      }\n    }\n\n    height: auto;\n    width: 300px;\n    max-width: 400px;\n    min-width: 125px;\n    margin-right: 40px;\n    animation: slow-popup 0.5s ease-in-out forwards;\n\n    @media (max-width:768px) {\n      margin-right: 0;\n      height: auto;\n      width: 100%;\n    }\n\n    @media (min-width: 992px) {\n      height: auto;\n      width: 400px;\n      margin-right: 40px;\n    }\n  }\n\n  div {\n    @media (max-width: 767px) {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    }\n\n    a {\n      display: inline-block;\n    }\n\n    h3 {\n      margin-right: 20px;\n      \n      @media (min-width: 992px) {\n        font-size: 26px;\n      }\n    }\n\n    div {\n      @media (max-width: 767px) {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n      }\n\n      a {\n        display: inline-block;\n      }\n    }\n  }\n`\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n  \n  a {\n    img {\n      @keyframes slow-popup {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n\n      height: auto;\n      width: 300px;\n      max-width: 400px;\n      margin-right: 40px;\n      animation: slow-popup 0.5s ease-in-out forwards;\n\n      @media (max-width:768px) {\n        margin-right: 0;\n        height: auto;\n        width: 100%;\n      }\n\n      @media (min-width: 992px) {\n        height: auto;\n        width: 400px;\n        margin-right: 40px;\n      }\n    }\n  }\n\n  svg {\n    position: absolute;\n    bottom: 20px;\n    left: 15px;\n    background-color: rgba(255,255,255,.6);\n    border: 1px solid rgba(0,0,0,0.2);\n    border-radius: 25%;\n    padding: 10px;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`","import styled from \"styled-components\";\n\nexport const StyledProfilePicture = styled.div`\n  display: ${(props) => props.display || \"block\"};\n  align-self: ${(props) => props.alignSelf};\n  width: ${(props) => props.width};\n  height: ${(props) => props.height};\n  margin: ${(props) => props.margin};\n  background-image: url(${(props) => props.src});\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n`","import React from \"react\";\nimport { StyledProfilePicture } from \"./styles\";\n\nconst ProfilePicture = (props) => {\n\n  return (\n    <StyledProfilePicture\n      src={props.src}\n      width={props.width}\n      height={props.height}\n      margin={props.margin}\n      display={props.display}\n    />\n  );\n};\n\nexport default ProfilePicture;\n","import styled from \"styled-components\";\n\nexport const StyledFavoritesLogo = styled.span`\n  &:hover {\n    cursor: pointer;\n  }\n`","import React, { useState, useCallback } from 'react'\nimport FontAwesomeIconComponent from '../FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport authService from \"../../Services/auth-service\";\nimport { StyledFavoritesLogo } from \"./styles\";\n\nconst AddToFavoritesLogo = props => {\n  const initialState = {loggedInUser: props.userInSession}\n  const [userState, setUserState] = useState(initialState)\n\n  const updateUser = useCallback(() => \n    authService.loggedIn()\n      .then(response => {\n        setUserState({loggedInUser: response})\n      })\n      .catch(error => console.log(\"Error adding/removing to/from favorite trips: \", error))\n  , []);\n\n  const handleToggleAddToFavorites = (tripId) => {\n    authService.toggleAddToFavorites(tripId)\n      .then(() => {\n        updateUser()\n        props.updateUser()\n      })\n      .catch(err => console.log(\"An error occurred while adding/removing to/from favorites: \",err))\n  }\n\n  return (\n    <StyledFavoritesLogo>\n      <FontAwesomeIconComponent\n        chosenIcon={\"faHeart\"}\n        color={ userState.loggedInUser.favorites.indexOf(props.trip._id) !== -1 ? \"red\" : \"grey\"}\n        toggleAddToFavorites={handleToggleAddToFavorites}\n        trip={props.trip}\n      />\n    </StyledFavoritesLogo> \n  )\n}\n\nexport default AddToFavoritesLogo\n\n\n","import styled from \"styled-components\";\n\nexport const StyledThumbsUpLogo = styled.span`\n  &:hover {\n    ${(props) => props.userInSession && !props.tripDescription ? \"cursor: pointer\" : \"\"}\n  }\n`","import React from 'react'\nimport FontAwesomeIconComponent from '../FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport { StyledThumbsUpLogo } from \"./styles\";\nimport tripService from '../../Services/trip-service';\n\nconst LikeTripLogo = props => {\n  const handletoggleLikeTrip = (tripId) => {\n    tripService.toggleLikes(tripId)\n      .then(() => {\n        props.updateTrips()\n      })\n      .catch(err => console.log(\"Error adding/removing Like to/from this trip: \", err))\n  }\n\n  return (\n    <StyledThumbsUpLogo userInSession={props.userInSession} tripDescription={props.tripDescription}>\n      <FontAwesomeIconComponent\n        tripDescription={props.tripDescription}\n        chosenIcon={\"faThumbsUp\"}\n        color={ props.tripDescription ? \"grey\" : props.trip.likes.indexOf(props.userInSession._id) !== -1 ? \"royalblue\" : \"grey\"}\n        toggleLikeTrip={handletoggleLikeTrip}\n        trip={props.trip}\n        size=\"1x\"\n        userInSession={props.userInSession}\n      />\n    </StyledThumbsUpLogo> \n  )\n}\n\nexport default LikeTripLogo\n\n\n","import React from 'react'\nimport { Ul, LiContainer, Li, TripContainer, SinglePictureContainer } from \"./styles\"\nimport { Link } from 'react-router-dom';\nimport ProfilePicture from '../ElementalComponents/ProfilePicture/ProfilePicture';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\nimport AddToFavoritesLogo from '../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo';\nimport LikeTripLogo from '../ElementalComponents/LikeTripLogo/LikeTripLogo';\n\nconst TripsList = props => {\n  const listTrips = props.trips.map((trip) => {\n    return (\n      <Li key={trip._id}>\n        <TripContainer popularTrips={props.popularTrips}>\n          <SinglePictureContainer>\n            <Link\n              to={{\n                pathname: `/trips/${trip._id}`,\n                state: { userInSession: props.loggedInUser, trip: trip },\n              }}\n            >\n              {trip.imageUrl &&\n                <img src={trip.imageUrl} alt=\"trip cover pic\" />\n              }\n            </Link>\n            { props.userInSession && !props.popularTrips &&\n              <LikeTripLogo\n                trip={trip}\n                userInSession={props.userInSession}\n                updateTrips={props.updateTrips}\n              />\n            }\n          </SinglePictureContainer>\n          <div>\n            <span>\n              <Link\n                to={{\n                  pathname: `/trips/${trip._id}`,\n                  state: { userInSession: props.loggedInUser, trip: trip },\n                }}\n              >\n                <h3>{trip.title}</h3>\n              </Link>\n              { props.userInSession && !props.popularTrips &&\n                <AddToFavoritesLogo\n                  trip={trip}\n                  userInSession={props.userInSession}\n                  updateUser={props.updateUser}\n                />\n              }\n            </span>\n            <div>\n              <FontAwesomeIconComponent\n                chosenIcon={\"faHourglassHalf\"}\n                size=\"1x\"\n              />\n              <span>{trip.duration} days</span>\n            </div>\n            <div style={{marginTop:\"15px\"}}>\n              <LikeTripLogo\n                tripDescription\n                trip={trip}\n                userInSession={props.userInSession}\n                updateTrips={props.updateTrips}\n              />\n              <span>{trip.likes.length}</span>\n            </div>\n            <div style={{display:\"flex\", alignItems:\"center\", marginTop:\"20px\"}}>\n              <ProfilePicture\n                src={trip.author.profilePicture}\n                width=\"20px\"\n                height=\"20px\"\n                margin=\"5px 10px 5px 0\"\n                display=\"inline-block\"\n              />\n              <span>\n                By <Link to={ props.userInSession && props.userInSession._id === trip.author._id\n                  ? \"/profile\"\n                  : `/profile/${trip.author._id}`\n                }\n                >{trip.author.username}\n                </Link>\n              </span>\n            </div>\n          </div>\n        </TripContainer>\n      </Li>\n    );\n  });\n\n  return (\n    <Ul>\n      <LiContainer popularTrips={props.popularTrips}>\n        {listTrips}\n      </LiContainer>\n    </Ul>\n  )\n}\n\nexport default TripsList\n\n\n","import React, { useState, useEffect } from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport tripService from \"../Services/trip-service\";\nimport { VideoContainer, HomepageBody } from \"./styles\"\nimport TripsList from \"../TripsList/TripsList\";\n\nconst Homepage = (props) => {\n  const initialSearch = {\n    search: \"\",\n  };\n  const [userState, setLoggedInUser] = useState({loggedInUser: props.userInSession})\n  const [searchState, updateSearch] = useState(initialSearch);\n  const [popularTripsState, updatePopularTrips] = useState({trips: []})\n\n  useEffect(() => {\n    setLoggedInUser({loggedInUser: props.userInSession})\n      const fetchAuthorizedTripsList = async () => {\n        const response = await tripService.popularTrips();\n        const popularTrips = response\n        updatePopularTrips((state) => ({\n          ...state,\n          trips: popularTrips,\n        }));\n        console.log(\"Popular trips: \", popularTrips)\n      };\n      fetchAuthorizedTripsList();\n  }, [props.userInSession])\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.popularTrips();\n      const popularTrips = response\n      updatePopularTrips((state) => ({\n        ...state,\n        trips: popularTrips,\n      }));\n      console.log(\"Popular trips: \", popularTrips)\n    };\n    fetchAuthorizedTripsList();\n  }\n\n  const popularTripsList = <TripsList\n                          popularTrips\n                          trips={popularTripsState.trips}\n                          userInSession={userState.loggedInUser}\n                          updateUser={props.updateUser}\n                          updateTrips={handleUpdateTrips}\n                        />\n\n  const handleSearch = async (currentSearch) => {\n    updateSearch({\n      search: currentSearch,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.history.push(`/search?title=${searchState.search}`)\n  };\n\n  return (\n    <div>\n      <VideoContainer>\n        <h2>Share your experiences...</h2>\n        <video autoPlay loop muted>\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599909995/jumbotron_video_hddyyd.mp4\" type=\"video/mp4\" /> */}\n          <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923299/jumbotron_video_nz_nkqmp2.mp4\" type=\"video/mp4\" />\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923596/jumbotron_beach_2_xbypv6.mp4\" type=\"video/mp4\" /> */}\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923598/jumbotron_beach_pxwqhn.mp4\" type=\"video/mp4\" /> */}\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599924725/jumbotron_clouds_omdlxp.mp4\" type=\"video/mp4\" /> */}\n        </video>\n        <h2>...and get inspired</h2>\n        <form onSubmit={handleSubmit}>\n          <SearchBar\n            placeholder=\"Search for a trip..\"\n            searchUpdates={handleSearch}\n          />\n          <Button formButton=\"GO\" />\n        </form>\n      </VideoContainer>\n      { popularTripsState.trips && \n        <HomepageBody>\n          <h2 style={{textAlign: \"left\"}}>Most Popular trips</h2>\n          {popularTripsList}\n        </HomepageBody>\n      }\n    </div>\n  );\n};\n\nexport default Homepage;\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  border-radius: 5px;\n  background-color: #f2f2f2;\n  padding: 20px;\n  margin: 20px auto;\n  max-width: 350px;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const Textarea = styled.textarea`\n  width: 100%;\n  height: 150px;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  resize: none;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const PlaceSuggestion = styled.div`\n  width: 100%;\n  padding: 8px 20px;\n  border: 1px solid rgba(0,0,0,.1);\n  border-radius: 4px;\n  box-sizing: border-box;\n`;","import React from \"react\";\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from \"react-places-autocomplete\";\nimport { Input, PlaceSuggestion } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nclass LocationSearchInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { address: \"\" };\n  }\n\n  handleChange = (address) => {\n    this.setState({ address });\n  };\n\n  handleSelect = (address) => {\n    geocodeByAddress(address)\n      .then((results) => getLatLng(results[0]))\n      .then((latLng) => {\n        this.setState({ address: address, ...latLng });\n        this.props.setPlace(this.state);\n        console.log(\"Success\", latLng);\n      })\n      .catch((error) => console.error(\"Error\", error));\n  };\n\n  render() {\n    return (\n      <PlacesAutocomplete\n        value={this.state.address}\n        onChange={this.handleChange}\n        onSelect={this.handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <React.Fragment>\n            <Input\n              {...getInputProps({\n                placeholder: \"Search Places ...\",\n                className: \"location-search-input\",\n              })}\n            />\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && <FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" />}\n              {suggestions.map((suggestion) => {\n                const className = suggestion.active\n                  ? \"suggestion-item--active\"\n                  : \"suggestion-item\";\n                const style = suggestion.active\n                  ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\n                  : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\n                return (\n                  <PlaceSuggestion\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                    key={suggestion.index}\n                  >\n                    <span>{suggestion.description}</span>\n                  </PlaceSuggestion>\n                );\n              })}\n            </div>\n          </React.Fragment>\n        )}\n      </PlacesAutocomplete>\n    );\n  }\n}\n\nexport default LocationSearchInput;\n\n// Copyright (c) 2016-present, Ken Hibino\n// See https://kenny-hibino.github.io/react-places-autocomplete\n","import styled from \"styled-components\";\n\nexport const MapContainer = styled.div`\n  ${(props) => props.formMap && \"box-sizing: border-box; height: 200px; border-radius: 4px;\"};\n\n  @media (max-width: 600px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) => props.experienceMap && \"width: 300px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 576px) and (max-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) => props.experienceMap && \"width: 450px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 300px;\"};\n    ${(props) => props.experienceMap && \"width: 600px; height: 250px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 992px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 400px;\"};\n    ${(props) => props.experienceMap && \"width: 800px; height: 300px; margin: 0 auto;\"};\n  }\n`;","import React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport { MapContainer } from \"./styles\";\n\nconst Map = (props) => {\n  const initialState = {\n    name: props.address,\n    lat: parseFloat(props.lat),\n    lng: parseFloat(props.lng),\n    zoom: props.zoom\n  };\n  const [state, setState] = useState(initialState);\n\n  const center = {\n    lat: state.lat,\n    lng: state.lng,\n  };\n\n  const zoom = parseInt(state.zoom);\n\n  const getMapOptions = (maps) => {\n    return {\n      disableDefaultUI: false,\n      mapTypeControl: true,\n      streetViewControl: true,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [{ visibility: \"on\" }],\n        },\n      ],\n    };\n  };\n\n  const getMapBounds = (map, maps, places) => {\n    const bounds = new maps.LatLngBounds();\n  \n    places.forEach((place) => {\n      bounds.extend(new maps.LatLng(\n        place.lat,\n        place.lng,\n      ));\n    });\n    return bounds;\n  };\n\n  const bindResizeListener = (map, maps, bounds) => {\n    maps.event.addDomListenerOnce(map, 'idle', () => {\n      maps.event.addDomListener(window, 'resize', () => {\n        map.fitBounds(bounds);\n      });\n    });\n  };\n\n  const apiIsLoaded = (map, maps, places) => {\n    // Get bounds by our places\n    const bounds = getMapBounds(map, maps, places);\n    // Fit map to bounds\n    map.fitBounds(bounds);\n    // Bind the resize listener\n    bindResizeListener(map, maps, bounds);\n  };\n\n  const renderMarkers = (map, maps) => {\n    if (props.mapType === \"tripPresentation\") {  \n      props.allExperiencesCoords.forEach((coord) => {\n        let marker = new maps.Marker({\n          position: coord,\n          map,\n        });\n      })\n    } else {\n      const position = {\n        lat: state.lat,\n        lng: state.lng,\n      };\n\n      let marker = new maps.Marker({\n        position: position,\n        map,\n      });\n    }\n  };\n\n  return (\n    <MapContainer tripMap={props.tripMap} experienceMap={props.experienceMap} formMap={props.formMap}>\n      <GoogleMapReact\n        key={state.name}\n        bootstrapURLKeys={ { key: `${process.env.GOOGLE_MAPS_KEY}`} }\n        defaultCenter={center}\n        defaultZoom={zoom}\n        options={getMapOptions}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map, maps }) => {\n          props.tripMap && !props.hasOnlyOneLocalisation && apiIsLoaded(map, maps, props.allExperiencesCoords)\n          renderMarkers(map, maps)\n        }}\n      />\n    </MapContainer>\n  );\n};\n\nexport default Map;\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Input, Textarea } from \"./styles\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport LocationSearchInput from \"../LocationSearchInput/LocationSearchInput\";\nimport Map from \"../Map/Map\";\n\nconst FormGeneral = (props) => {\n  const [state, setState] = useState(props.formState);\n\n  useEffect(() => {\n    setState(state => (\n      props.formState\n    ))\n  }, [props.formState]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const handleChange = (event) => {\n    const { name, value, type, checked, files } = event.target;\n    name === \"imageUrl\" || name === \"profilePicture\"\n      ? setState((state) => ({\n        ...state,\n        archive: files[0]\n      }))\n      : setState((state) => ({\n          ...state,\n          [name]: type === \"checkbox\" \n                    ? checked\n                    : type === \"date\"\n                    ? formatDate(value)\n                    : type === \"file\"\n                    ? files[0]\n                    : value\n        }));\n  };\n\n  const liftFormSubmit = (event, stateToLift) => {\n    event.preventDefault();\n    props.formSubmit(stateToLift);\n  };\n\n  const setPlace = (newPlace) => {\n    setState(state => ({\n      ...state,\n      place: {\n        address: newPlace.address,\n        lat: parseFloat(newPlace.lat),\n        lng: parseFloat(newPlace.lng)\n      }\n    }))\n  }\n\n  const dynamicInputs = props.formInputs.map((input) => {\n    return (\n      input.type === \"textarea\" \n        ? <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <Textarea\n              type={input.type}\n              name={input.name}\n              checked={state[input.name] || false}\n              value={state[input.name] || \"\"}\n              placeholder={input.placeholder}\n              onChange={handleChange}\n            />\n          </React.Fragment>\n        : input.name === \"place\"\n        ? <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <LocationSearchInput setPlace={setPlace} />\n            { state.place &&\n              <React.Fragment>\n                <p>Is this the correct place ?</p>\n                <Map\n                  formMap\n                  key={state.place.address}\n                  address={state.place.address}\n                  lat={state.place.lat}\n                  lng={state.place.lng}\n                  zoom=\"14\"\n                />\n              </React.Fragment>\n            }\n          </React.Fragment>\n        : <React.Fragment key={input.name}>\n            <label>{input.label}</label>\n            <Input\n              type={input.type}\n              name={input.name}\n              checked={state[input.name] || false}\n              value={state[input.name] || \"\"}\n              placeholder={input.placeholder}\n              onChange={handleChange}\n            />\n          </React.Fragment>\n      );\n  });\n\n  return (\n    <div>\n      <Form onSubmit={(event) => liftFormSubmit(event, state)}>\n        <h3>{props.formTitle}</h3>\n        {dynamicInputs}\n        { (props.auth || props.formType === \"experience photo\") || <p>*required</p>}\n        <Button formButton={props.formButton} />\n      </Form>\n    </div>\n  );\n};\n\nexport default FormGeneral;\n","import styled from \"styled-components\";\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`\n\nexport const FacebookLoginStyled = styled.p`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 50px;\n\n  svg {\n    margin: 0 20px 0 0;\n  }\n\n  @media (max-width: 667px) {\n      flex-direction: column;\n\n      svg {\n        margin: 20px;\n      }\n    }\n`\n","import React, { useState } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport { Error } from \"./styles\"\n\nconst AuthForm = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const handleFormSubmit = (formObject) => {\n    const dynamicService = props.login\n      ? authService.login(formObject)\n      : authService.signup(formObject);\n\n    dynamicService\n      .then((response) => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(\"Error while login/signup :\", error);\n        setShowError(error.response.data.message)\n      })\n  };\n\n  const formInputs = [\n    {\n      label: \"Username\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Enter your username\",\n    },\n    {\n      label: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"*******\",\n    },\n  ];\n\n  const initialState = {\n    username: \"\",\n    password: \"\",\n  };\n\n  return (\n    <div>\n      <FormGeneral\n        auth\n        // formTitle={ props.login ? \"Login\" : \"Sign-up\" }\n        formSubmit={handleFormSubmit}\n        formState={initialState}\n        formInputs={formInputs}\n        formButton={props.formButton}\n      />\n      <p>\n        {props.authMessage}\n        <Link to={`${props.formRedirectLink}`}>{props.formRedirectText}</Link>\n      </p>\n      { showError &&\n          <Error>\n              {showError}\n          </Error>\n      }\n    </div>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Signup = (props) => {\n  const responseFacebook = (response) => {\n    // console.log(response)\n    authService.facebookLogin({access_token: response.accessToken})\n      .then(response => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        signup\n        getUser={props.getUser}\n        formButton=\"SIGN-UP\"\n        authMessage=\"Already have an account ?\"\n        formRedirectLink=\"/login\"\n        formRedirectText=\" Login\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent chosenIcon={\"faFacebook\"} size=\"3x\" color=\"#4c69ba\" />\n        <FacebookLogin\n          style={{display:\"block\"}}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          isMobile={false}\n          reauthenticate={true}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Login = (props) => {\n  const responseFacebook = (response) => {\n    console.log(response)\n    authService.facebookLogin({access_token: response.accessToken})\n      .then(response => {\n        localStorage.setItem('loggedInUser', JSON.stringify(response))\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        login\n        getUser={props.getUser}\n        formButton=\"LOGIN\"\n        authMessage=\"Don't have any account yet ?\"\n        formRedirectLink=\"/signup\"\n        formRedirectText=\" Sign-up\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent chosenIcon={\"faFacebook\"} size=\"3x\" color=\"#4c69ba\" />\n        <FacebookLogin\n          style={{display:\"block\"}}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          isMobile={false}\n          reauthenticate={true}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Login;\n","import styled from \"styled-components\";\n\nexport const StyledTrips = styled.div`\n  margin: 0 20px;\n`\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { StyledTrips, AddLogo } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Trips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n  \n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = response.filter(trip =>  (state.loggedInUser && trip.author._id === props.userInSession._id) || trip.isPublic);\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const handleSearch = async (currentSearch) => {\n    const response = await tripService.trips();\n    const filteredResponse = response.filter(\n      (trip) =>\n        (trip.author._id === props.userInSession._id || trip.isPublic) &&\n        trip.title.toUpperCase().includes(currentSearch.toUpperCase())\n    );\n    setState((state) => ({\n      ...state,\n      trips: filteredResponse,\n    }));\n  };\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = response.filter(trip =>  (state.loggedInUser && trip.author._id === props.userInSession._id) || trip.isPublic);\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList()\n  }\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n\n  return (\n    <StyledTrips>\n      <h1>Trips</h1>\n      <SearchBar\n        placeholder=\"Search for a trip..\"\n        searchUpdates={handleSearch}\n      />\n      { listTrips }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE</span>\n            <span>TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </StyledTrips>\n  );\n};\n\nexport default Trips;\n","import React, {useState, useEffect} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\n\nconst SearchTripsResults = props => {\n\n  const initialState = { \n    loggedInUser: null,\n    trips: []\n   };\n  const [state, setState] = useState(initialState);\n\n  const query = new URLSearchParams(props.location.search).get(\"title\") || \"\"\n\n  // equiv. componentWillReceiveProps\n  // Correct ?\n  useEffect(() => {\n    setState(state => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }))\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips()\n      const authorizedTripsList = response.filter(trip => ((props.userInSession && trip.author._id === props.userInSession._id) || trip.isPublic) && trip.title.toUpperCase().includes(query.toUpperCase()))\n      setState(state => ({ \n        ...state,\n        trips: authorizedTripsList\n      }));\n    }\n    fetchAuthorizedTripsList()\n  }, [props.userInSession, props.location.search, query]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips()\n      const authorizedTripsList = response.filter(trip => ((props.userInSession && trip.author._id === props.userInSession._id) || trip.isPublic) && trip.title.toUpperCase().includes(query.toUpperCase()))\n      setState(state => ({ \n        ...state,\n        trips: authorizedTripsList\n      }));\n    }\n    fetchAuthorizedTripsList()\n  }\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n  \n  const listTripsLength = state.trips && state.trips.length\n\n  return (\n    <div>\n      <h1>Search results for: \"{query}\"</h1>\n      { state.trips && state.trips.length > 0 \n        ?\n          <React.Fragment>\n            <p>{listTripsLength} trip{listTripsLength > 1 && \"s\"} found.</p>\n            <ul>\n              {listTrips}\n            </ul>\n          </React.Fragment>\n        :\n          <React.Fragment>\n            <p>0 trip found.</p>\n            <Link to=\"/trips\">\n                <Button formButton=\"SEE ALL TRIPS\" />\n            </Link>\n          </React.Fragment>\n      }\n    </div>\n  );\n};\n\nexport default SearchTripsResults;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, userInSession, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (userInSession) {\n          return <Component {...props} userInSession={userInSession} {...rest} />;\n        } else {\n          return (\n            <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n          );\n        }\n      }}\n    />\n  );\n};\nexport default ProtectedRoute;\n","import styled from \"styled-components\";\n\nexport const StyledProfile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 0 20px;\n`","import axios from \"axios\";\n\nconst stepService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  stepService,\n\n  newStep: (formFields) => {\n    return stepService\n      .post(\"/newStep\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  steps: (id) => {\n    return stepService\n      .get(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  stepDetails: (id) => {\n    return stepService\n      .get(`/stepDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editStep: (id, formFields) => {\n    return stepService\n      .put(`/steps/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteStep: (id) => {\n    return stepService\n      .delete(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import axios from \"axios\";\n\nconst experienceService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  experienceService,\n\n  newExperience: (formFields) => {\n    return experienceService\n      .post(\"/newExperience\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experiences: (stepId) => {\n    return experienceService\n      .get(`/experiences/${stepId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  fullTripExperiences: (id) => {\n    return experienceService\n      .get(`/experiences/trip/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experienceDetails: (id) => {\n    return experienceService\n      .get(`/experienceDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperience: (id) => {\n    return experienceService\n      .delete(`/experiences/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  addPictureToExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/addPicture/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperiencePicture: (id, imageId) => {\n    return experienceService\n      .delete(`/experiences/${id}/deletePicture/${imageId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  }\n};","import styled from \"styled-components\";\n\nexport const StyledEditForm = styled.div`\n  a {\n    text-decoration: none;\n  }\n`\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`\n\nexport const Loading = styled.div`\n  margin: 40px;\n` ","import React, { useState, useEffect} from \"react\";\nimport authService from \"../Services/auth-service\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport { StyledEditForm, Loading, Error } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst EditFormGeneral = (props) => {\n  const [state, setState] = useState({})\n  const [showDeleteConfirmation, setshowDeleteConfirmation] = useState(\n    false\n  );\n  const [showError, setShowError] = useState(\"\")\n  const [loading, setLoading] = useState(\"\")\n\n  const toggleDeleteConfirmation = () => {\n    setshowDeleteConfirmation(!showDeleteConfirmation);\n  }\n  \n  const closeDeleteConfirmation = () => {\n    setshowDeleteConfirmation(false);\n  }\n\n  useEffect(() => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.tripDetails(params.id)\n      : props.stepForm\n      ? stepService.stepDetails(params.stepId)\n      : props.experienceForm\n      ? experienceService.experienceDetails(params.experienceId)\n      : authService.loggedIn();\n      \n    dynamicService  \n      .then(response => {\n        props.tripForm\n          ? setState({...response, imageUrl:\"\", originalImg: response.imageUrl})\n          : props.profilePictureForm\n          ? setState({profilePicture:\"\", originalImg: response.profilePicture})\n          : setState(response)\n      })\n      .catch((error) =>\n        console.log(`Error while getting ${props.formType} details :`, error)\n      );\n  }, [props.formType, props.stepForm, props.tripForm, props.experienceForm, props.profilePictureForm, props.match]);\n\n  const handleFormSubmit = (formObject) => {\n    const { params } = props.match;\n    setLoading(true)\n    console.log(\"FORM OBJECT\", formObject)\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      formObject.archive\n        ? uploadData.append(\"imageUrl\", formObject.archive)\n        : uploadData.append(\"imageUrl\", formObject.originalImg)\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n      console.log(\"uploadData\",uploadData)\n    }\n    if (props.profilePictureForm) {\n      formObject.archive\n        ? uploadData.append(\"profilePicture\", formObject.archive)\n        : uploadData.append(\"profilePicture\", formObject.originalImg)\n      console.log(\"uploadData\",uploadData)\n    }\n\n    const dynamicService = props.tripForm\n      ? tripService.editTrip(params.id, uploadData)\n      : props.stepForm\n      ? stepService.editStep(params.stepId, formObject)\n      : props.experienceForm\n      ? experienceService.editExperience(params.experienceId, formObject)\n      : authService.editProfilePicture(props.user._id, uploadData)\n      \n    dynamicService\n      .then((response) => {\n        console.log(`${props.formType} edited!`, response);\n        setLoading(false)\n        props.profilePictureForm\n          ? props.updateProfilePicture()\n          : props.history.push({\n            pathname: `/trips/${params.id}`,\n          });\n      })\n      .catch((error) => {\n        setLoading(false)\n        console.log(`Error while editing ${props.formType}:`, error)\n        setShowError(error.response.data.message)\n      });\n  };\n\n  const deleteItem = () => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.deleteTrip(params.id)\n      : props.stepForm\n      ? stepService.deleteStep(params.stepId)\n      : props.experienceForm\n      ? experienceService.deleteExperience(params.experienceId)\n      : authService.editProfilePicture(props.user._id, {profilePicture: \"https://res.cloudinary.com/nutriapp/image/upload/v1599217287/profileDefault_jr9j16.png\"})\n    \n    const dynamicRedirectLink = props.tripForm\n      ? \"/trips\"\n      : props.profilePictureForm\n      ? \"/profile\"\n      : `/trips/${params.id}`\n\n    dynamicService\n      .then((response) => {\n        console.log(response)\n        props.profilePictureForm && props.updateProfilePicture()\n        props.history.push(dynamicRedirectLink);\n      })\n      .catch((err) => {\n        console.log(`Error while deleting ${props.formType}: `, err);\n      });\n  };\n\n  return (\n    <StyledEditForm>\n      {loading\n        ? <Loading><FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" /><p>Loading</p></Loading>\n        : <FormGeneral\n            formTitle={props.formTitle}\n            formSubmit={handleFormSubmit}\n            formState={state}\n            formInputs={props.formInputs}\n            formButton=\"SAVE\"\n          />\n      }\n        <>\n          <Button\n            toggleDeleteConfirmation={toggleDeleteConfirmation}\n            formButton=\"DELETE\"\n            theme=\"lightcoral\"\n            color=\"white\"\n          />\n          {showDeleteConfirmation && (\n            <>\n              <h4>Are you sure you want to delete this {props.formType} ? </h4>\n              <Button\n                deleteItem={deleteItem}\n                closeDeleteConfirmation={closeDeleteConfirmation}\n                formButton=\"YES\"\n                theme=\"lightcoral\"\n                color=\"white\"\n              />\n              <Button\n                toggleDeleteConfirmation={toggleDeleteConfirmation}\n                formButton=\"CANCEL\"\n                theme=\"lightgrey\"\n                color=\"black\"\n              />\n            </>\n          )}\n          { props.profilePictureForm ||\n            <React.Fragment>\n              { showError &&\n                <Error>\n                  {showError}\n                </Error>\n              }\n              <p>\n                <Link to={`/trips/${props.match.params.id}`}>\n                  <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n                </Link>\n              </p> \n            </React.Fragment>\n          }\n        </>\n    </StyledEditForm>\n  );\n};\n\nexport default EditFormGeneral;\n","import React, { useState, useEffect} from \"react\";\nimport authService from \"../Services/auth-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditProfilePictureForm = (props) => {\n  const [userState, setUserState] = useState({})\n\n  useEffect(() => {\n    authService\n      .loggedIn()\n      .then(response => {\n        setUserState(response)\n      })\n      .catch((error) =>\n        console.log(\"Error while getting user details :\", error)\n      );\n  }, []);\n\n  const formInputs = [\n    {\n      type: \"file\",\n      value: \"\",\n      name: \"profilePicture\"\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      profilePictureForm\n      formType=\"profile picture\"\n      formInputs={formInputs}\n      formTitle={\"Edit Profile Picture\"}\n      updateProfilePicture={props.updateProfilePicture}\n      user={userState}\n      {...props}\n    />\n  );\n};\n\nexport default EditProfilePictureForm;\n","import React, { useState, useCallback } from \"react\";\nimport Button from \"../ElementalComponents/Button/Button.js\";\nimport { Link } from \"react-router-dom\";\nimport { StyledProfile } from \"./styles\";\nimport EditProfilePictureForm from \"../EditFormGeneral/EditProfilePictureForm\"\nimport authService from \"../Services/auth-service.js\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture.js\";\n\nconst Profile = (props) => {\n  const [userState, setUserState] = useState({ loggedInUser: props.userInSession})\n  const [showProfilePictureForm, setShowProfilePictureForm] = useState(false)\n\n  const toggleProfilePictureForm = () => {\n    setShowProfilePictureForm(!showProfilePictureForm)\n  }\n\n  const closeProfilePictureForm = () => {\n    setShowProfilePictureForm(false)\n  }\n\n  const updateProfilePicture = useCallback(() => \n    authService.loggedIn()\n      .then(response => {\n        closeProfilePictureForm()\n        setUserState({loggedInUser: response})\n      })\n      .catch(error => console.log(\"Error updating profile picture: \", error))\n  , []);\n\n  return (\n    <StyledProfile>\n      <h1>Welcome to your profile, {props.userInSession.username} !</h1>\n      <ProfilePicture src={userState.loggedInUser.profilePicture} width=\"150px\" height=\"150px\" margin=\"0 auto 20px\" />\n      { showProfilePictureForm &&\n        <EditProfilePictureForm updateProfilePicture={updateProfilePicture} {...props} />\n      }\n      <Button formButton={ showProfilePictureForm ? \"CLOSE\" : \"EDIT PICTURE\" } toggleProfilePictureForm={toggleProfilePictureForm} />\n      <Link to=\"/profile/my-trips\">\n        <Button formButton=\"MY TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/profile/favorite-trips\">\n        <Button formButton=\"FAVORITE TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/create-trip\">\n        <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n      </Link>\n    </StyledProfile>\n  );\n};\n\nexport default Profile;\n","import styled from \"styled-components\";\n\nexport const StyledTrip = styled.div`\n  a {\n    text-decoration: none;\n  }\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n\n  span {\n    h1 {\n      display: inline-block;\n    }\n\n    svg {\n      margin-left: 20px;\n      padding-bottom: 2px;\n    }\n  }\n`\n\nexport const Duration = styled.div`\n  margin: 20px auto;\n`\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const Ul = styled.ul`\n  margin: 20px auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n  width: 100%;\n`;\n\nexport const Li = styled.li`\n  margin: 20px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, .2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 50px auto;\n  }\n`\nexport const TripPicture = styled.img`\n  width: 100%;\n  max-width: 600px;\n`","import styled from \"styled-components\";\n\nexport const StyledExperience = styled.div`\n  @keyframes slide-up {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  animation: slide-up 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 10px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const StyledDateTime = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n  opacity: ${(props) => props.opacity};\n`\n\nexport const Description = styled.p`\n  margin: 20px;\n  margin-left: 50px;\n`\n\nexport const AddPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: lightgrey;\n  }\n`\n\nexport const EditPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: lightgrey;\n  }\n`\n\nexport const MapContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`\n\nexport const PicturesContainer = styled.div`\n  text-align: center;\n  margin-top: 20px;\n`\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n\n  img {\n    height: 200px;\n    width: auto;\n    margin: 20px;\n\n    @media (max-width: 767px) {\n      height: 100px;\n      width: auto;\n      margin: 10px;\n    }\n\n    @media (min-width: 992px) {\n      height: 300px;\n      width: auto;\n      margin: 20px;\n    }\n  }\n\n  svg {\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    background-color: rgba(255,255,255,.4);\n    border: 1px solid rgba(0,0,0,0.2);\n    border-radius: 25%;\n    padding: 3px;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`\n\nexport const ExpandedSection = styled.div`\n  width: 90vw;\n`\n\nexport const ExperienceTitle = styled.span`\n  :hover {\n    color : lightgrey;\n  }\n`","import styled from \"styled-components\";\r\n\r\nexport const StyledCreateForm= styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  border: solid red 1px;\r\n  border-radius: 4px;\r\n  max-width: 350px;\r\n  padding: 5px 5px 8px;\r\n  margin: 0 auto;\r\n  background-color: rgba(241, 169, 160, .2);\r\n\r\n  @media (min-width: 768px) {\r\n    width: 350px;\r\n    margin: 0 auto;\r\n  }\r\n`\r\nexport const Loading = styled.div`\r\n  margin: 40px;\r\n` ","import React, { useState } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport { StyledCreateForm, Loading, Error } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst CreateFormGeneral = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const [loading, setLoading] = useState(\"\")\n\n  const handleFormSubmit = (formObject) => {\n    setLoading(true)\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      uploadData.append(\"imageUrl\", formObject.archive);\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n      console.log(\"uploadData\",uploadData)\n    }\n    if (props.addPhotoToExperience) {\n      uploadData.append(\"imageUrl\", formObject.archive);\n    }\n    const dynamicService = props.tripForm\n      ? tripService.newTrip(uploadData)\n      : props.stepForm\n      ? stepService.newStep(formObject)\n      : props.experienceForm\n      ? experienceService.newExperience(formObject)\n      : experienceService.addPictureToExperience(props.experienceId, uploadData)\n    dynamicService  \n      .then((response) => {\n        setLoading(false)\n        console.log(`New ${props.formType} created !`, response)\n        props.addPhotoToExperience && props.closeShowAddPhoto()\n        props.addPhotoToExperience && props.updateNewPicture()\n        props.tripForm\n          ? props.history.push(\"/trips\")\n          : props.history.push(`/trips/${props.tripId}`)\n      })\n      .catch((error) => {\n        setLoading(false)\n        console.log(`Error while getting ${props.formType} details :`, error)\n        setShowError(error.response.data.message)\n      });\n  };\n\n  const redirectLink = props.match.path === \"/create-trip\"\n                          ? \"/trips\"\n                          : `/trips/${props.match.params.id}`\n\n  return (\n    <StyledCreateForm>\n      {loading\n        ? <Loading><FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" /><p>Loading</p></Loading>\n        : <FormGeneral\n            formType={props.formType}\n            formTitle={props.addPhotoToExperience || `Create a new ${props.formType}`}\n            formSubmit={handleFormSubmit}\n            formState={props.initialState}\n            formInputs={props.formInputs}\n            formButton={props.addPhotoToExperience ? \"ADD\" : \"CREATE\"}\n          />\n}\n      { showError &&\n        <Error>\n          {showError}\n        </Error>\n      }\n      {\n        props.addPhotoToExperience ||\n          <p>\n            <Link to={`${redirectLink}`}>\n              <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n            </Link>\n          </p>\n      }\n    </StyledCreateForm>\n  );\n};\n\nexport default CreateFormGeneral;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddPhotoToExperience = (props) => {\n  const formInputs = [\n    {\n      label: \"New photo\",\n      type: \"file\",\n      name: \"imageUrl\",\n    }\n  ];\n\n  const initialState = {\n    imageUrl: \"\",\n    archive: null\n  };\n\n  return (\n    <CreateFormGeneral\n      addPhotoToExperience\n      formType=\"experience photo\"\n      formInputs={formInputs}\n      initialState={initialState}\n      tripId={props.match.params.id}\n      experienceId={props.experienceId}\n      closeShowAddPhoto={props.closeShowAddPhoto}\n      handleUpdateNewPicture={props.updateNewPicture}\n      {...props}\n    />\n  );\n};\n\nexport default AddPhotoToExperience;\n","import React, { useState, useEffect, useCallback } from \"react\";\n// import stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport {\n  StyledExperience,\n  StyledDateTime,\n  Description,\n  ExpandedSection,\n  MapContainer,\n  AddPhotoLogo,\n  EditPhotoLogo,\n  PicturesContainer,\n  OwnerControls,\n  StyledStepHeader,\n  ExperienceTitle,\n  SinglePictureContainer\n} from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddPhotoToExperience from \"../CreateFormGeneral/AddPhotoToExperience\";\n\nconst Experience = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    experience: [],\n    expanded: false,\n    showAddPhoto: false,\n    editingPhotos: false\n  };\n  const [state, setState] = useState(initialState);\n\n  const toggleExpand = () => {\n    setState((state) => ({\n      ...state,\n      expanded: !state.expanded,\n    }));\n  };\n\n  const toggleShowAddPhoto = () => {\n    !state.showAddPhoto && handleCloseEditingPhotos()\n    setState((state) => ({\n      ...state,\n      showAddPhoto: !state.showAddPhoto,\n    }));\n  };\n\n  const toggleEditingPhotos = () => {\n    !state.editingPhotos && handleCloseShowAddPhoto()\n    setState((state) => ({\n      ...state,\n      editingPhotos: !state.editingPhotos,\n    }));\n  };\n\n  const handleCloseEditingPhotos = () => {\n    setState((state) => ({\n      ...state,\n      editingPhotos: false,\n    }));\n  };\n\n  const handleCloseShowAddPhoto = () => {\n    setState((state) => ({\n      ...state,\n      showAddPhoto: false,\n    }));\n  };\n\n  const handleUpdateNewPicture = useCallback(\n    () =>\n      experienceService\n        .experienceDetails(state.experience._id)\n        .then((response) => {\n          setState((state) => ({\n            ...state,\n            experience: response,\n          }));\n        })\n        .catch((error) =>\n          console.log(\"Error while getting experience details :\", error)\n        ),\n    [state.experience._id]\n  );\n\n  const handleDeletePicture = (imageId) => {\n    console.log(\"Picture with imageId \",imageId,\" will be deleted\")\n    experienceService.deleteExperiencePicture(state.experience._id, imageId)\n      .then((response) => {\n        console.log(\"Picture deleted !\", response)\n        handleUpdateNewPicture()\n      })\n  }\n\n\n  const experiencePictures =\n    state.experience.pictures &&\n    state.experience.pictures.map((picture, index) => {\n      return <SinglePictureContainer key={index} style={{display:\"inline-block\"}}>\n                <img key={picture._id} src={picture.url} alt=\"experience\" />\n                {props.author._id === state.loggedInUser._id && state.editingPhotos &&\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faTrashAlt\"}\n                    color=\"red\"\n                    deleteExperiencePicture={handleDeletePicture}\n                    picture={picture}\n                  />\n                }\n              </SinglePictureContainer>\n    });\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.experience._id)\n      .then((response) => {\n        console.log(\"Experience details :\", response);\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          experience: response,\n        }));\n      })\n      .catch((error) =>\n        console.log(\"Error while getting experience details :\", error)\n      );\n  }, [props.userInSession, props.experience._id]);\n\n  return (\n    <StyledExperience>\n      <StyledStepHeader onClick={toggleExpand}>\n        {state.expanded ? (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronDown\"} />\n        ) : (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronRight\"} />\n        )}\n        <span>\n          <ExperienceTitle>{state.experience.title}</ExperienceTitle>\n          {state.experience.date && (\n            <React.Fragment>\n              {(state.experience.showDate ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showDate ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faCalendarAlt\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.date}\n                  {!state.experience.showDate && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n              {(state.experience.showTime ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showTime ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faClock\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.time}\n                  {!state.experience.showTime && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n            </React.Fragment>\n          )}\n        </span>\n      </StyledStepHeader>\n      {state.expanded && (\n        <ExpandedSection>\n          {state.experience.description && (\n            <Description>\n              <FontAwesomeIconComponent chosenIcon={\"faCommentDots\"} color=\"grey\" />\n              {state.experience.description}\n            </Description>\n          )}\n          {state.experience.place && (\n            <MapContainer>\n              <Map\n                experienceMap\n                address={state.experience.place.address}\n                lat={state.experience.place.lat}\n                lng={state.experience.place.lng}\n                zoom=\"15\"\n              />\n            </MapContainer>\n          )}\n          {state.experience.pictures && (\n            <PicturesContainer>{experiencePictures}</PicturesContainer>\n          )}\n          {state.loggedInUser && props.author._id === state.loggedInUser._id && (\n            <React.Fragment>\n              <EditPhotoLogo onClick={toggleEditingPhotos}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.editingPhotos ? \"faMinusSquare\" : \"faPenSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.editingPhotos ? \"Close\" : \"Edit photos\"}\n              </EditPhotoLogo>\n              <AddPhotoLogo onClick={toggleShowAddPhoto}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.showAddPhoto ? \"faMinusSquare\" : \"faPlusSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.showAddPhoto ? \"Close\" : \"Add a photo\"}\n              </AddPhotoLogo>\n            </React.Fragment>\n          )}\n          {state.showAddPhoto && (\n            <AddPhotoToExperience\n              experienceId={state.experience._id}\n              closeShowAddPhoto={handleCloseShowAddPhoto}\n              updateNewPicture={handleUpdateNewPicture}\n              {...props}\n            />\n          )}\n          {state.loggedInUser && state.loggedInUser._id === props.author._id && (\n            <>\n              <OwnerControls>\n                <Link\n                  to={`/trips/${state.experience.step.trip}/steps/${state.experience.step._id}/edit-experience/${state.experience._id}`}\n                >\n                  <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                  <span>Edit experience</span>\n                </Link>\n              </OwnerControls>\n            </>\n          )}\n        </ExpandedSection>\n      )}\n    </StyledExperience>\n  );\n};\n\nexport default Experience;\n","import styled from \"styled-components\";\n\nexport const StyledStep = styled.div`\n  @keyframes slide-left {\n    0% {\n      transform: translateX(calc(100% - 5px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  animation: slide-left 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 20px auto;\n  text-align: left;\n  display: flex;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const StepTitle = styled.span`\n  :hover {\n    color: lightgrey;\n  }\n`","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport Experience from \"../Experience/Experience\"\nimport { StyledStep, StepTitle, OwnerControls, StyledStepHeader, Ul, Box, Li } from \"./styles\"\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Step = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    step: [],\n    experiences: [],\n    author: [],\n    expanded: false\n  };\n  const [state, setState] = useState(initialState);\n  \n  const toggleExpand = () => {\n    setState(state => ({\n      ...state,\n      expanded: !state.expanded\n    }))\n  }\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.step._id)\n      .then((response) => {\n        console.log(\"Step details :\", response);\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          step: response\n        }));\n        experienceService\n          .experiences(props.step._id)\n            .then((response) => {\n              console.log(\"Experiences of this step:\", response)\n              setState((state) => ({\n                ...state,\n                experiences: response\n              }));\n            })\n            .catch((error) => \n              console.log(\"Error while getting experiences :\", error\n            ))\n        tripService\n            .tripDetails(props.step.trip._id)\n              .then((response) => {\n                setState(state => ({\n                  ...state,\n                  author: response.author\n                }))\n              })\n      })\n      .catch((error) =>\n        console.log(\"Error while getting step details :\", error)\n      );\n  }, [props.userInSession, props.step.trip._id, props.step._id]);\n\n  const experiencesList = state.experiences.map((experience, index) => {\n    return(\n      <Li key={experience._id}>\n        <Experience\n          experience={experience}\n          experienceNumber={index+1}\n          author={state.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    )\n  })\n\n  return (\n    <StyledStep>\n      <StyledStepHeader onClick={toggleExpand}>\n        {\n          state.expanded\n          ? <FontAwesomeIconComponent chosenIcon={\"faChevronCircleDown\"} />\n          : <FontAwesomeIconComponent chosenIcon={\"faChevronCircleRight\"} />\n        }\n        <StepTitle>{state.step.title}</StepTitle>\n      </StyledStepHeader>\n      {\n        state.expanded &&\n        <>\n          <Ul>\n            <Box>\n              { experiencesList }\n            </Box>\n          </Ul>\n          {\n            state.loggedInUser && state.loggedInUser._id === state.step.trip.author &&\n              <>\n                <OwnerControls>\n                  <Link to={{ pathname: `/trips/${state.step.trip._id}/steps/${state.step._id}/add-experience`, state: { trip: state.trip }}}>\n                    <FontAwesomeIconComponent chosenIcon={\"faAsterisk\"} />\n                    <span>Add an experience</span>\n                  </Link>\n                </OwnerControls>\n                <OwnerControls>\n                  <Link to={`/trips/${state.step.trip._id}/edit-step/${state.step._id}`}>\n                    <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                    <span>Edit step</span>\n                  </Link>\n                </OwnerControls>\n              </>\n          }\n        </>\n      }  \n    </StyledStep>\n  );\n};\n\nexport default Step;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport { StyledTrip, Duration, OwnerControls, Ul, Box, Li, Error, TripPicture } from \"./styles\"\nimport Step from \"../Step/Step\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture\"\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddToFavoritesLogo from \"../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo\";\nimport LikeTripLogo from \"../ElementalComponents/LikeTripLogo/LikeTripLogo\";\n\nconst Trip = (props) => {\n  const [showError, setShowError] = useState(\"\")\n  const initialState = {\n    loggedInUser: null,\n    trip: [],\n    steps: [],\n    experiences: [],\n    lat: null,\n    lng: null\n  };\n  const [state, setState] = useState(initialState);\n\n  const handleUpdateTrip = () => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        console.log(\"Trip details :\", tripResponse);\n        tripResponse === null \n        ? setShowError(\"Sorry, this trip doesn't exist.\")\n        : setState((state) => ({\n            ...state,\n            loggedInUser: props.userInSession,\n            trip: tripResponse\n          }))\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details :\", error)\n        setShowError(`Error : ${error.response.data.message}`)        \n      });\n  }\n\n  useEffect(() => {\n    experienceService\n      .fullTripExperiences(props.match.params.id)\n        .then((experienceResponse) => {\n          const experienceLatAverage = experienceResponse\n          .filter(experience => experience.place)\n          .reduce((acc, curr) => acc + curr.place.lat, 0).toFixed(2) / experienceResponse\n          .filter(experience => experience.place).length\n\n          const experienceLngAverage = experienceResponse\n            .filter(experience => experience.place)\n            .reduce((acc, curr) => acc + curr.place.lng, 0).toFixed(2) / experienceResponse\n            .filter(experience => experience.place).length\n          console.log(\"Experiences of this trip:\", experienceResponse)\n\n          setState((state) => ({\n            ...state,\n            experiences: experienceResponse,\n            lat: experienceLatAverage,\n            lng: experienceLngAverage\n          }));\n        })\n        .catch((error) => \n          console.log(\"Error while getting experiences :\", error\n        ))\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        console.log(\"Trip details :\", tripResponse);\n        tripResponse === null \n        ? setShowError(\"Sorry, this trip doesn't exist.\")\n        : setState((state) => ({\n            ...state,\n            loggedInUser: props.userInSession,\n            trip: tripResponse\n          }));\n          stepService\n            .steps(props.match.params.id)\n              .then((stepResponse) => {\n                console.log(\"Steps of this trip:\", stepResponse)\n                setState((state) => ({\n                  ...state,\n                  loggedInUser: props.userInSession,\n                  steps: stepResponse\n                }));\n              })\n              .catch((error) => \n                console.log(\"Error while getting steps :\", error\n              ))\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details :\", error)\n        setShowError(`Error : ${error.response.data.message}`)        \n      });\n  }, [props.userInSession, props.match.params.id]);\n\n  const stepsList = state.steps.map((step, index) => {\n    return(\n      <Li key={step._id}>\n        <Step\n          step={step}\n          stepNumber={index+1}\n          author={state.trip.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    )\n  })\n\n  const allExperiencesCoords = state.experiences\n    .filter(experience => experience.place)\n    .map((experience) => {\n      return(\n        {\n          lat: experience.place.lat,\n          lng: experience.place.lng\n        }\n      )\n  })\n  \n  return (\n    <StyledTrip>\n      { showError\n        ?\n        <Error>\n          {showError}\n        </Error>\n        : (state.trip && state.trip.isPublic) || (state.trip && state.loggedInUser && state.trip.author._id === state.loggedInUser._id)\n        ?\n        <React.Fragment>\n        <span>\n          <h1>{state.trip.title}</h1>\n          { state.loggedInUser && \n            <AddToFavoritesLogo trip={state.trip} userInSession={state.loggedInUser} updateUser={props.updateUser} />\n          }\n        </span>\n        <Duration>\n          <FontAwesomeIconComponent chosenIcon={\"faHourglassHalf\"} size=\"1x\" />\n          <span>{state.trip.duration} days</span>\n        </Duration>\n        { state.trip && state.loggedInUser &&\n          <div style={{marginTop:\"15px\"}}>\n            <LikeTripLogo\n              trip={state.trip}\n              userInSession={state.loggedInUser}\n              updateTrips={handleUpdateTrip}\n            />\n            <span>{state.trip.likes.length}</span>\n          </div>\n        }\n        { state.trip.author && \n          <div style={{display:\"flex\", alignItems:\"center\", justifyContent:\"center\", margin:\"5px auto 20px\"}}>\n            <ProfilePicture src={state.trip.author.profilePicture} width=\"50px\" height=\"50px\" margin=\"5px 15px 5px 0\" display=\"inline-block\" />\n            <span>By <Link to={ props.userInSession && props.userInSession._id === state.trip.author._id\n                  ? \"/profile\"\n                  : `/profile/${state.trip.author._id}`\n                }\n                >{state.trip.author.username}\n                </Link>\n            </span>\n          </div>\n        }\n        { state.trip && state.loggedInUser && state.trip.author._id === state.loggedInUser._id && !state.trip.isPublic &&\n         <p style={{opacity: \"0.4\"}}>(PRIVATE TRIP)</p>\n        }\n        { state.experiences && state.experiences.filter(experience => experience.place).length >= 1 ?\n          <Map\n            tripMap\n            mapType = \"tripPresentation\"\n            address={\"\"}\n            lat={state.experiences.length === 1 ? state.experiences[0].place.lat : state.lat}\n            lng={state.experiences.length === 1 ? state.experiences[0].place.lng : state.lng}\n            zoom=\"14\"\n            allExperiencesCoords={allExperiencesCoords}\n            hasOnlyOneLocalisation={allExperiencesCoords.length === 1}\n          />\n          :\n          <TripPicture src={state.trip.imageUrl} alt=\"trip cover pic\" />\n        }\n        { state.steps && \n          <Ul>\n            <Box>\n              {stepsList}\n            </Box>\n          </Ul>\n        }\n        {/* {\n          state.loggedInUser &&\n          <React.Fragment>\n            <p>Leave a comment</p>\n            <form>\n              <input type=\"textarea\" />\n            </form>\n          </React.Fragment>\n        } */}\n        {state.loggedInUser && state.loggedInUser._id === state.trip.author._id && (\n          <React.Fragment>\n            <OwnerControls>\n              <Link to={{pathname: `/trips/${state.trip._id}/add-step`, state: { trip: state.trip }}}>\n              <FontAwesomeIconComponent chosenIcon={\"faPlus\"} />\n                <span>Add a step</span>\n              </Link>\n            </OwnerControls>\n            <OwnerControls>\n              <Link to={{\tpathname: `/trips/edit/${state.trip._id}`, state: { trip: state.trip }}}>\n              <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                <span>Edit trip</span>\n              </Link>\n            </OwnerControls>\n          </React.Fragment>\n        )}\n        <p style={{marginTop: \"40px\"}}>\n          <Link to={`/trips`}>\n            <FontAwesomeIconComponent chosenIcon={\"faArrowCircleLeft\"} size=\"2x\" />\n          </Link>\n        </p> \n        </React.Fragment>\n        : \"Sorry, this is a private trip.\"\n      }\n    </StyledTrip>\n  );\n};\n\nexport default Trip;\n","import React, { useState, useEffect} from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditTripForm = (props) => {\n  const [tripState, setTripState] = useState({})\n\n  useEffect(() => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then(response => {\n        setTripState(response)\n      })\n      .catch((error) =>\n        console.log(\"Error while getting trip details :\", error)\n      );\n  }, [props.match.params.id]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: tripState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      value: tripState.isPublic,\n      checked: tripState.isPublic,\n      name: \"isPublic\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      value: \"\",\n      name: \"imageUrl\"\n    },\n    {\n      label: \"Start date*\",\n      type: \"date\",\n      value: formatDate(tripState.startDate),\n      name: \"startDate\",\n    },\n    {\n      label: \"End date*\",\n      type: \"date\",\n      value: formatDate(tripState.endDate),\n      name: \"endDate\",\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${tripState.title}\"`}\n      trip={tripState}\n      {...props}\n    />\n  );\n};\n\nexport default EditTripForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddStepForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"First day - London South and East\"'\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    trip: props.match.params.id\n  };\n\n  return (\n      <CreateFormGeneral\n        stepForm\n        formType=\"step\"\n        formInputs={formInputs}\n        initialState={initialState}\n        tripId={props.match.params.id}\n        {...props}\n      />\n  );\n};\n\nexport default AddStepForm;\n","import React, { useState, useEffect} from \"react\";\nimport stepService from \"../Services/step-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditStepForm = (props) => {\n  const [stepState, setStepState] = useState({})\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.match.params.stepId)\n      .then(response => {\n        setStepState(response);\n      })\n      .catch((error) =>\n        console.log(\"Error while getting step details :\", error)\n      );\n  }, [props.match.params.stepId]);\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: stepState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      stepForm\n      formType=\"step\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${stepState.title}\"`}\n      step={stepState}\n      {...props}\n    />\n  );\n};\n\nexport default EditStepForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddExperienceForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"Dinner in Camden Town\"'\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      name: \"time\"\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"'\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      placeholder: 'Ex: \"Paris...\"'\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    date: \"\",\n    time: \"\",\n    showDate: false,\n    showTime: false,\n    step: props.match.params.stepId,\n    trip: props.match.params.id,\n    description: \"\",\n    place: null\n  };\n\n  return (\n    <>\n      <CreateFormGeneral\n        experienceForm\n        formType=\"experience\"\n        formInputs={formInputs}\n        initialState={initialState}\n        tripId={props.match.params.id}\n        {...props}\n      />\n    </>\n  );\n};\n\nexport default AddExperienceForm;\n","import React, { useState, useEffect} from \"react\";\nimport experienceService from \"../Services/experience-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditExperienceForm = (props) => {\n  const [experienceState, setExperienceState] = useState({})\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.match.params.experienceId)\n      .then(response => {\n        setExperienceState(response);\n      })\n      .catch((error) =>\n        console.log(\"Error while getting experience details :\", error)\n      );\n  }, [props.match.params.experienceId]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n\n    const formattedDate = [year, month, day].join('-')\n\n    return formattedDate\n}\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: experienceState.title,\n      placeholder: \"Ex.: Dinner at the Eiffel Tower\",\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      value: formatDate(experienceState.date),\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showDate,\n      checked: experienceState.showDate,\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      value: experienceState.time,\n      name: \"time\",\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showTime,\n      checked: experienceState.showTime,\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      value: experienceState.description,\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"'\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      value: experienceState.place,\n      placeholder: 'Ex: \"Paris...\"'\n    }\n  ];\n\n  return (\n    <EditFormGeneral\n      experienceForm\n      formType=\"experience\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${experienceState.title}\"`}\n      experience={experienceState}\n      {...props}\n    />\n  );\n};\n\nexport default EditExperienceForm;\n","import styled from \"styled-components\";\n\nexport const StyledApp = styled.div`\n  margin: 0;\n  text-align: center;\n  font-family: 'Roboto', 'Arial', 'Helvetica', sans-serif;\n  color: darkslategray;\n\n  a {\n    color: darkslategray;\n\n    &:hover {\n      color: lightgrey;\n    }\n  }\n`","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst CreateTripForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      name: \"imageUrl\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      name: \"isPublic\",\n    },\n    {\n      label: \"Start Date*\",\n      type: \"date\",\n      name: \"startDate\",\n    },\n    {\n      label: \"End Date*\",\n      type: \"date\",\n      name: \"endDate\",\n    }\n  ];\n\n  const initialState = {\n    title: \"\",\n    isPublic: false,\n    startDate: \"\",\n    endDate: \"\",\n    imageUrl: \"\",\n    archive: null\n  };\n\n  return (\n    <CreateFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      initialState={initialState}\n      {...props}\n    />\n  );\n};\n\nexport default CreateTripForm;\n","import styled from \"styled-components\";\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from 'react'\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { AddLogo } from \"./styles\";\nimport Button from '../ElementalComponents/Button/Button';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\n\nconst MyTrips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip =>  state.loggedInUser._id === trip.author._id);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip =>  state.loggedInUser._id === trip.author._id);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n\n  return (\n    <div>\n      <h1>My Trips</h1>\n      { state.trips.length > 0\n          ? listTrips\n          : <>\n              <p>You don't have any trip yet !</p>\n              <Link to=\"/create-trip\">\n                <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n              </Link>\n            </>\n      }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </div>\n  )\n}\n\nexport default MyTrips","import styled from \"styled-components\";\n\nexport const AddLogo = styled.span`\n  @keyframes slide-up {\n    0% {\n      transform: translateY(calc(100% + 10px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  bottom: 50px;\n  right: 90px;\n  animation: slide-up 0.65s ease-in-out forwards;\n\n  border-radius: 20px;\n  background-color: white;\n  padding: 8px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);\n\n  a{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n\n    span {\n      margin-top: 5px;\n    }\n  }\n\n  @media (max-width: 767px) {\n    bottom: 30px;\n    right: 30px;\n  }\n`","import React, { useState, useEffect } from 'react'\nimport tripService from \"../Services/trip-service\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { AddLogo } from \"./styles\";\nimport Button from '../ElementalComponents/Button/Button';\nimport FontAwesomeIconComponent from '../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent';\n\nconst MyFavoriteTrips = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip => state.loggedInUser.favorites.indexOf(trip._id) !== -1);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [state.loggedInUser, props.userInSession]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const myTrips = response.filter(trip => state.loggedInUser.favorites.indexOf(trip._id) !== -1);\n      setState((state) => ({\n        ...state,\n        trips: myTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }\n\n  const listTrips = <TripsList\n                      trips={state.trips}\n                      userInSession={state.loggedInUser}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n\n  return (\n    <div>\n      <h1>My Favorite Trips</h1>\n      { state.trips.length > 0\n          ? listTrips\n          : <>\n              <p>You don't have any favorite trip yet !</p>\n              <Link to=\"/trips\">\n                <Button formButton=\"CHECK TRIPS\" width={\"250px\"} />\n              </Link>\n            </>\n      }\n      { state.loggedInUser &&\n        <AddLogo>\n          <Link to=\"/create-trip\">\n            <FontAwesomeIconComponent chosenIcon={\"faSuitcaseRolling\"} size=\"2x\" />\n            <span>CREATE TRIP</span>\n          </Link>\n        </AddLogo>\n      }\n    </div>\n  )\n}\n\nexport default MyFavoriteTrips","import React from 'react'\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <h1>Error 404 not found</h1>\n    </div>\n  )\n}\n\nexport default NoMatch\n","import styled from \"styled-components\";\n\nexport const StyledProfile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 0 20px;\n\n  ul {\n    padding: 0;\n  }\n`\n\n","import React, { useState, useEffect } from \"react\";\nimport { StyledProfile } from \"./styles\";\nimport authService from \"../Services/auth-service.js\";\nimport tripService from \"../Services/trip-service.js\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture.js\";\nimport TripsList from \"../TripsList/TripsList.js\";\n\nconst ProfilePublic = (props) => {\n  const [profileUserState, setProfileUserState] = useState(null)\n  const [profileUserTrips, setProfileUserTrips] = useState([])\n\n  useEffect(() => {\n    const fetchProfileUser = async () => {\n      authService.getUser(props.match.params.userId)\n        .then(foundUser => {\n          setProfileUserState({profileUser: foundUser})\n          tripService.trips()\n            .then(allTrips => {\n              const profileUserTrips = allTrips.filter(trip => trip.isPublic && trip.author._id === foundUser._id)\n              setProfileUserTrips(profileUserTrips);\n            })\n        })\n    };\n    fetchProfileUser();\n  }, [props.match.params.userId]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const profileUserTrips = response.filter(trip => trip.isPublic && trip.author._id === profileUserState.profileUser._id);\n      setProfileUserTrips(profileUserTrips);\n    };\n    fetchAuthorizedTripsList();\n  }\n\n  const profileUserTripsList = <TripsList\n                      trips={profileUserTrips}\n                      userInSession={props.userInSession}\n                      updateUser={props.updateUser}\n                      updateTrips={handleUpdateTrips}\n                    />\n\n  return (\n    <StyledProfile>\n      { profileUserState &&\n      <>\n      <h1>{profileUserState.profileUser.username}</h1>\n      <ProfilePicture src={profileUserState.profileUser.profilePicture} width=\"150px\" height=\"150px\" margin=\"0 auto 20px\" />\n      { profileUserState && profileUserTrips && \n        <ul>\n          <h2>{ profileUserState.profileUser.username }'s trips :</h2>\n          {profileUserTripsList}\n        </ul>\n      }\n      </>\n      }\n    </StyledProfile>\n  );\n};\n\nexport default ProfilePublic;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavBar from \"./components/Navbar/Navbar\";\nimport Homepage from \"./components/Homepage/Homepage\";\nimport Signup from \"./components/Auth/Signup\";\nimport Login from \"./components/Auth/Login\";\nimport Trips from \"./components/Trips/Trips\";\nimport SearchTripsResults from \"./components/SearchTripsResults/SearchTripsResults\";\nimport authService from \"./components/Services/auth-service\";\nimport ProtectedRoute from \"./components/Auth/protected-route\";\nimport Profile from \"./components/Profile/Profile\";\nimport Trip from \"./components/Trip/Trip\";\nimport EditTripForm from \"./components/EditFormGeneral/EditTripForm\";\nimport AddStepForm from \"./components/CreateFormGeneral/AddStepForm\";\nimport EditStepForm from \"./components/EditFormGeneral/EditStepForm\";\nimport AddExperienceForm from \"./components/CreateFormGeneral/AddExperienceForm\";\nimport EditExperienceForm from \"./components/EditFormGeneral/EditExperienceForm\";\nimport { StyledApp } from \"./styles\";\nimport CreateTripForm from \"./components/CreateFormGeneral/CreateTripForm\";\nimport MyTrips from \"./components/MyTrips/MyTrips\";\nimport MyFavoriteTrips from \"./components/MyFavoriteTrips/MyFavoriteTrips\";\nimport NoMatch from \"./components/NoMatch/NoMatch\";\nimport ProfilePublic from \"./components/ProfilePublic/ProfilePublic\";\n\nconst App = () => {\n  const initialState = { loggedInUser: JSON.parse(localStorage.getItem('loggedInUser')) || null };\n  const [state, setState] = useState(initialState);\n\n  const getTheUser = (userObj) => {\n    setState({\n      loggedInUser: userObj,\n    });\n  };\n\n  useEffect(() => {\n    const fetchUser = () => {\n      if (state.loggedInUser === null) {\n        authService\n          .loggedIn()\n          .then((response) => {\n            localStorage.setItem('loggedInUser', JSON.stringify(response));\n            setState({\n              loggedInUser: response,\n            })\n          })\n          .catch((err) => {\n            setState({\n              loggedInUser: false,\n            });\n          });\n      }\n    };\n    fetchUser();\n  }, [state.loggedInUser]);\n\n  const handleUpdateUser = () => {\n    authService\n        .loggedIn()\n        .then((response) => {\n          setState({\n            loggedInUser: response,\n          });\n        })\n        .catch((err) => {\n          setState({\n            loggedInUser: false,\n          });\n        });\n  }\n\n  return (\n    <StyledApp>\n      <NavBar userInSession={state.loggedInUser} getUser={getTheUser} />\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => (\n            <Homepage {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/trips\"\n          render={(props) => (\n            <Trips {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/search\"\n          render={(props) => (\n            <SearchTripsResults {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/trips/:id\"\n          render={(props) => (\n            <Trip {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/edit/:id\"\n          userInSession={state.loggedInUser}\n          component={EditTripForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/add-step\"\n          userInSession={state.loggedInUser}\n          component={AddStepForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/edit-step/:stepId\"\n          userInSession={state.loggedInUser}\n          component={EditStepForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/steps/:stepId/add-experience\"\n          userInSession={state.loggedInUser}\n          component={AddExperienceForm}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/trips/:id/steps/:stepId/edit-experience/:experienceId\"\n          userInSession={state.loggedInUser}\n          component={EditExperienceForm}\n        />\n        <Route\n          exact\n          path=\"/signup\"\n          render={(props) => <Signup {...props} getUser={getTheUser} />}\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login {...props} getUser={getTheUser} />}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile\"\n          userInSession={state.loggedInUser}\n          component={Profile}\n        />\n        <Route\n          exact\n          path=\"/profile/:userId\"\n          render={(props) => <ProfilePublic {...props} userInSession={state.loggedInUser} updateUser={handleUpdateUser} />}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile/my-trips\"\n          userInSession={state.loggedInUser}\n          component={MyTrips}\n          updateUser={handleUpdateUser}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/profile/favorite-trips\"\n          userInSession={state.loggedInUser}\n          component={MyFavoriteTrips}\n          updateUser={handleUpdateUser}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/create-trip\"\n          userInSession={state.loggedInUser}\n          component={CreateTripForm}\n        />\n        <Route component={NoMatch} />\n      </Switch>\n    </StyledApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}