{"version":3,"sources":["components/Services/auth-service.js","components/Navbar/styles.js","components/ElementalComponents/Button/styles.js","components/ElementalComponents/Button/Button.js","components/ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent.js","components/Navbar/Navbar.js","components/SearchBar/styles.js","components/SearchBar/SearchBar.js","components/Services/trip-service.js","components/Homepage/styles.js","components/TripsList/styles.js","components/ElementalComponents/ProfilePicture/styles.js","components/ElementalComponents/ProfilePicture/ProfilePicture.js","components/ElementalComponents/AddToFavoritesLogo/styles.js","components/ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo.js","components/ElementalComponents/LikeTripLogo/styles.js","components/ElementalComponents/LikeTripLogo/LikeTripLogo.js","components/TripsList/TripsList.js","components/Homepage/Homepage.js","components/FormGeneral/styles.js","components/LocationSearchInput/styles.js","components/LocationSearchInput/LocationSearchInput.js","components/Map/styles.js","components/Map/Map.js","components/FormGeneral/FormGeneral.js","components/Auth/styles.js","components/Auth/AuthForm.js","components/Auth/Signup.js","components/Auth/Login.js","components/TripsFetch/styles.js","components/TripsFetch/TripsFetch.js","components/Trips/Trips.js","components/SearchTripsResults/SearchTripsResults.js","components/Auth/protected-route.js","components/Profile/styles.js","components/Services/step-service.js","components/Services/experience-service.js","components/EditFormGeneral/styles.js","components/EditFormGeneral/EditFormGeneral.js","components/EditFormGeneral/EditProfilePictureForm.js","components/Profile/Profile.js","components/Trip/styles.js","components/Experience/styles.js","components/CreateFormGeneral/styles.js","components/CreateFormGeneral/CreateFormGeneral.js","components/CreateFormGeneral/AddPhotoToExperience.js","components/Gallery/Gallery.js","components/Experience/Experience.js","components/Step/styles.js","components/Step/Step.js","components/CreateFormGeneral/LeaveComment.js","components/Trip/Trip.js","components/EditFormGeneral/EditTripForm.js","components/CreateFormGeneral/AddStepForm.js","components/EditFormGeneral/EditStepForm.js","components/CreateFormGeneral/AddExperienceForm.js","components/EditFormGeneral/EditExperienceForm.js","styles.js","components/CreateFormGeneral/CreateTripForm.js","components/MyTrips/MyTrips.js","components/MyFavoriteTrips/MyFavoriteTrips.js","components/NoMatch/NoMatch.js","components/ProfilePublic/styles.js","components/ProfilePublic/ProfilePublic.js","components/Footer/styles.js","components/Footer/Footer.js","App.js","serviceWorker.js","index.js"],"names":["authService","axios","create","baseURL","process","withCredentials","errorHandler","err","userId","get","then","response","data","catch","credentials","post","localStorage","removeItem","id","formFields","put","token","Nav","styled","div","Dropdown","ul","props","showDropdown","userInSession","margin","BrandLogo","img","ButtonStyled","input","theme","color","width","defaultProps","Button","type","value","formButton","onClick","toggleDeleteConfirmation","closeDeleteConfirmation","deleteItem","toggleProfilePictureForm","logoutUser","toggleShowInGallery","FontAwesomeIconComponent","icon","chosenIcon","faHourglassHalf","faFeatherAlt","faPlus","faAsterisk","faChevronCircleRight","faChevronCircleDown","faTimes","faBars","faSpinner","faChevronRight","faChevronDown","faArrowCircleLeft","faClock","faCalendarAlt","faPlusSquare","faMinusSquare","faCommentDots","faHeart","faTrashAlt","faPenSquare","faThumbsUp","faFacebook","faCommentAlt","size","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","toggleDropdown","toggleAddToFavorites","trip","_id","deleteExperiencePicture","picture","toggleLikeTrip","tripDescription","Navbar","useState","loggedInUser","state","setState","setShowDropdown","dropDownButtonColor","setDropdownButtonColor","window","innerWidth","height","innerHeight","setSize","useEffect","addEventListener","closeDropdown","toggleDropdownButtonColor","to","src","alt","getUser","Search","SearchBar","placeholder","onChange","event","target","searchUpdates","tripService","delete","VideoContainer","HomepageBody","CreateATrip","Ul","LiContainer","popularTrips","Li","li","TripContainer","SinglePictureContainer","RightPanel","TripTitle","span","LowerPart","StyledProfilePicture","display","alignSelf","ProfilePicture","StyledFavoritesLogo","AddToFavoritesLogo","initialState","userState","setUserState","updateUser","useCallback","console","log","favorites","indexOf","tripId","StyledThumbsUpLogo","LikeTripLogo","likes","updateTrips","TripsList","listTrips","trips","map","key","pathname","imageUrl","title","duration","length","author","profilePicture","username","Homepage","setLoggedInUser","search","searchState","updateSearch","popularTripsState","updatePopularTrips","a","filter","isPublic","fetchAuthorizedTripsList","popularTripsList","handleSearch","currentSearch","autoPlay","loop","muted","onSubmit","preventDefault","history","push","style","textAlign","Form","form","Input","Textarea","textarea","PlaceSuggestion","LocationSearchInput","handleChange","address","handleSelect","geocodeByAddress","results","getLatLng","latLng","setPlace","error","this","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","Fragment","className","suggestion","active","backgroundColor","cursor","index","description","React","Component","MapContainer","formMap","tripMap","experienceMap","Map","name","lat","parseFloat","lng","zoom","center","parseInt","apiIsLoaded","maps","places","bounds","LatLngBounds","forEach","place","extend","LatLng","getMapBounds","fitBounds","addDomListenerOnce","addDomListener","bindResizeListener","bootstrapURLKeys","GOOGLE_MAPS_KEY","defaultCenter","defaultZoom","options","disableDefaultUI","mapTypeControl","streetViewControl","styles","featureType","elementType","stylers","visibility","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","hasOnlyOneLocalisation","allExperiencesCoords","mapType","coord","Marker","position","renderMarkers","FormGeneral","formState","checked","files","archive","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","formatDate","newPlace","dynamicInputs","formInputs","label","stateToLift","formSubmit","liftFormSubmit","formTitle","auth","formType","comment","Error","p","FacebookLoginStyled","AuthForm","showError","setShowError","formObject","login","setItem","JSON","stringify","message","password","authMessage","formRedirectLink","formRedirectText","Signup","signup","appId","autoLoad","isMobile","reauthenticate","fields","callback","access_token","accessToken","Login","StyledTrips","searchTrips","myFavoriteTrips","TripsFetch","query","URLSearchParams","location","authorizedTripsList","allTrips","myTrips","toUpperCase","includes","filteredResponse","listTripsLength","Trips","SearchTripsResults","ProtectedRoute","component","rest","render","from","StyledProfile","stepService","experienceService","stepId","imageId","StyledEditForm","Loading","EditFormGeneral","showDeleteConfirmation","setshowDeleteConfirmation","setLoading","params","match","tripForm","stepForm","experienceForm","experienceId","originalImg","profilePictureForm","uploadData","FormData","append","startDate","endDate","user","updateProfilePicture","dynamicService","dynamicRedirectLink","EditProfilePictureForm","Profile","showProfilePictureForm","setShowProfilePictureForm","StyledTrip","Duration","OwnerControls","Box","TripPicture","LeaveCommentToggleLogo","Comment","StyledExperience","StyledStepHeader","StyledDateTime","opacity","Description","AddPhotoLogo","EditPhotoLogo","PicturesContainer","ExpandedSection","ExperienceTitle","GalleryAndPictures","StyledCreateForm","CreateFormGeneral","redirectLink","path","addPhotoToExperience","closeShowAddPhoto","updateNewPicture","AddPhotoToExperience","handleUpdateNewPicture","Gallery","images","pictures","original","url","thumbnail","items","Experience","experience","expanded","showAddPhoto","editingPhotos","showInGallery","handleCloseEditingPhotos","handleCloseShowAddPhoto","handleDeletePicture","experiencePictures","showDate","showTime","time","padding","step","StyledStep","StepTitle","Step","experiences","experiencesList","experienceNumber","LeaveComment","closeLeavingComment","Trip","steps","leavingComment","handleUpdateTrip","tripResponse","experienceResponse","experienceLatAverage","reduce","acc","curr","toFixed","experienceLngAverage","stepResponse","stepsList","stepNumber","commentsList","comments","commentAuthor","marginTop","alignItems","justifyContent","EditTripForm","tripState","setTripState","AddStepForm","EditStepForm","stepState","setStepState","AddExperienceForm","EditExperienceForm","experienceState","setExperienceState","StyledApp","Body","CreateTripForm","MyTrips","MyFavoriteTrips","NoMatch","ProfilePublic","profileUserState","setProfileUserState","profileUserTrips","setProfileUserTrips","foundUser","profileUser","fetchProfileUser","profileUserTripsList","StyledFooter","Footer","App","parse","getItem","getTheUser","userObj","handleUpdateUser","exact","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7303f7d7.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst authService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  authService,\n\n  getUser: (userId) => {\n    return authService\n      .get(`/getUser/${userId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  signup: (credentials) => {\n    return authService\n      .post(\"/signup\", credentials)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  loggedIn: () => {\n    return authService.get(\"/loggedIn\").then((response) => response.data);\n  },\n\n  login: (credentials) => {\n    return authService\n      .post(\"/login\", credentials)\n      .then((response) => response.data);\n  },\n\n  logout: () => {\n    localStorage.removeItem(\"loggedInUser\");\n    return authService.post(\"/logout\", {}).then((response) => response.data);\n  },\n\n  editProfilePicture: (id, formFields) => {\n    return authService\n      .put(\"/profile/profilePicture\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleAddToFavorites: (id) => {\n    return authService\n      .put(`/toggleAddToFavorites/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  facebookLogin: (token) => {\n    return authService\n      .post(`/auth/facebook`, token)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import styled from \"styled-components\";\n\nexport const Nav = styled.div`\n  @keyframes menu-transition {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  padding: 0;\n  border-bottom: 1px solid lightgrey;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0;\n  margin: 0 40px;\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n    margin: 0 20px;\n  }\n\n  h3 {\n    padding-bottom: 2px;\n\n    a {\n      text-decoration: none;\n    }\n  }\n\n  span {\n    align-self: center;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    @media (min-width: 767px) {\n      display: none;\n    }\n  }\n`;\n\nexport const Dropdown = styled.ul`\n  @media (max-width: 767px) {\n    display: ${(props) => props.showDropdown};\n    flex-direction: column;\n    list-style-type: none;\n    top: 65px;\n    right: 0px;\n    padding-left: 0;\n    width: 200px;\n    position: absolute;\n    z-index: 2;\n    height: fit-content;\n    background-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    animation-name: menu-transition;\n    animation-duration: 0.3s;\n    font-size: 12px;\n\n    li {\n      list-style-type: none;\n      display: flex;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    li:first-of-type {\n      margin: 30px auto 10px;\n    }\n\n    li:nth-of-type(2) {\n      margin: 30px auto 10px;\n    }\n\n    li:nth-of-type(3) {\n      margin: ${(props) =>\n        props.userInSession ? \"15px auto 15px\" : \"30px auto\"};\n    }\n  }\n\n  @media (max-width: 576px) {\n    top: 48px;\n  }\n\n  @media (min-width: 576) and (max-width: 768px) {\n    top: 72px;\n  }\n\n  @media (min-width: 767px) {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    list-style-type: none;\n    padding: 0;\n    width: 100%;\n\n    li {\n      margin: ${(props) => props.margin || \"auto 10px auto 10px\"};\n      font-weight: 400;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    li:first-of-type {\n      margin: auto auto auto 20px;\n    }\n\n    li:nth-of-type(2) {\n      margin-right: 30px;\n    }\n  }\n\n  @media (min-width: 992px) {\n    li {\n      padding-top: 6px;\n\n      a {\n        font-size: 18px;\n      }\n    }\n\n    li:nth-of-type(2) {\n      margin-right: 50px;\n    }\n  }\n`;\n\nexport const BrandLogo = styled.img`\n  padding-top: 6px;\n\n  @media (max-width: 576px) {\n    width: 125px;\n    margin: 10px 10px 10px 0;\n  }\n\n  @media (min-width: 576px) and (max-width: 767px) {\n    width: 150px;\n    margin: 15px 15px 15px 0;\n  }\n\n  @media (min-width: 767px) and (max-width: 992px) {\n    width: 175px;\n    margin: 15px 15px 15px 0;\n  }\n\n  @media (min-width: 992px) {\n    width: 200px;\n    margin: 25px 25px 25px 0;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const ButtonStyled = styled.input`\n  padding: 14px 20px 12px;\n  margin: 8px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  background-color: ${(props) => props.theme};\n  color: ${(props) => props.color};\n  width: ${(props) => props.width};\n\n  &:hover {\n    cursor: pointer;\n    background-color: lightsteelblue;\n  }\n`;\n\nButtonStyled.defaultProps = {\n  theme: \"white\",\n  color: \"black\",\n};\n","import React from \"react\";\nimport { ButtonStyled } from \"./styles\";\n\nconst Button = (props) => {\n  const handleClick = () => {\n    props.toggleDeleteConfirmation && props.toggleDeleteConfirmation();\n    props.closeDeleteConfirmation && props.closeDeleteConfirmation();\n    props.deleteItem && props.deleteItem();\n    props.toggleProfilePictureForm && props.toggleProfilePictureForm();\n    props.logoutUser && props.logoutUser();\n    props.toggleShowInGallery && props.toggleShowInGallery();\n  };\n\n  return (\n    <ButtonStyled\n      type=\"submit\"\n      value={props.formButton}\n      onClick={handleClick}\n      theme={props.theme}\n      color={props.color}\n      width={props.width}\n    />\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faHourglassHalf,\n  faFeatherAlt,\n  faPlus,\n  faAsterisk,\n  faChevronCircleRight,\n  faChevronCircleDown,\n  faChevronRight,\n  faChevronDown,\n  faTimes,\n  faBars,\n  faSpinner,\n  faArrowCircleLeft,\n  faClock,\n  faCalendarAlt,\n  faPlusSquare,\n  faMinusSquare,\n  faCommentDots,\n  faHeart,\n  faTrashAlt,\n  faPenSquare,\n  faThumbsUp,\n  faCommentAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebook } from \"@fortawesome/free-brands-svg-icons\";\n\nconst FontAwesomeIconComponent = (props) => {\n  let icon;\n  switch (props.chosenIcon) {\n    case \"faHourglassHalf\":\n      icon = faHourglassHalf;\n      break;\n    case \"faFeatherAlt\":\n      icon = faFeatherAlt;\n      break;\n    case \"faPlus\":\n      icon = faPlus;\n      break;\n    case \"faAsterisk\":\n      icon = faAsterisk;\n      break;\n    case \"faChevronCircleRight\":\n      icon = faChevronCircleRight;\n      break;\n    case \"faChevronCircleDown\":\n      icon = faChevronCircleDown;\n      break;\n    case \"faTimes\":\n      icon = faTimes;\n      break;\n    case \"faBars\":\n      icon = faBars;\n      break;\n    case \"faSpinner\":\n      icon = faSpinner;\n      break;\n    case \"faChevronRight\":\n      icon = faChevronRight;\n      break;\n    case \"faChevronDown\":\n      icon = faChevronDown;\n      break;\n    case \"faArrowCircleLeft\":\n      icon = faArrowCircleLeft;\n      break;\n    case \"faClock\":\n      icon = faClock;\n      break;\n    case \"faCalendarAlt\":\n      icon = faCalendarAlt;\n      break;\n    case \"faPlusSquare\":\n      icon = faPlusSquare;\n      break;\n    case \"faMinusSquare\":\n      icon = faMinusSquare;\n      break;\n    case \"faCommentDots\":\n      icon = faCommentDots;\n      break;\n    case \"faHeart\":\n      icon = faHeart;\n      break;\n    case \"faTrashAlt\":\n      icon = faTrashAlt;\n      break;\n    case \"faPenSquare\":\n      icon = faPenSquare;\n      break;\n    case \"faThumbsUp\":\n      icon = faThumbsUp;\n      break;\n    case \"faFacebook\":\n      icon = faFacebook;\n      break;\n    case \"faCommentAlt\":\n      icon = faCommentAlt;\n      break;\n    default:\n      icon = null;\n  }\n\n  const handleClick = () => {\n    props.toggleDropdown && props.toggleDropdown();\n    props.toggleAddToFavorites && props.toggleAddToFavorites(props.trip._id);\n    props.deleteExperiencePicture &&\n      props.deleteExperiencePicture(props.picture._id);\n    props.toggleLikeTrip &&\n      props.userInSession &&\n      !props.tripDescription &&\n      props.toggleLikeTrip(props.trip._id);\n  };\n\n  return (\n    <FontAwesomeIcon\n      icon={icon}\n      size={props.size}\n      color={props.color}\n      onMouseEnter={props.handleMouseEnter}\n      onMouseLeave={props.handleMouseLeave}\n      onClick={handleClick}\n    />\n  );\n};\n\nexport default FontAwesomeIconComponent;\n","import React, { useState, useEffect } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Nav, Dropdown, BrandLogo } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Navbar = (props) => {\n  const initialState = { loggedInUser: null };\n  const [state, setState] = useState(initialState);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [dropDownButtonColor, setDropdownButtonColor] = useState(\"grey\");\n  const [size, setSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  // equiv. componentWillReceiveProps\n  useEffect(() => {\n    // On each screen size change, check if the dropdown menu should be closed\n    const getSize = () => {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight,\n      };\n    };\n    const handleResize = () => setSize(getSize());\n    window.addEventListener(\"resize\", handleResize);\n    size.width >= 767 && closeDropdown();\n    setState({ loggedInUser: props.userInSession });\n  }, [props.userInSession, size.width]);\n\n  const logoutUser = () => {\n    authService.logout().then(() => {\n      setState({ loggedInUser: null });\n      props.getUser(null);\n    });\n  };\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  const closeDropdown = () => {\n    setShowDropdown(false);\n  };\n\n  const toggleDropdownButtonColor = () => {\n    dropDownButtonColor === \"grey\"\n      ? setDropdownButtonColor(\"black\")\n      : setDropdownButtonColor(\"grey\");\n  };\n\n  return (\n    <Nav>\n      <Link to=\"/\" onClick={closeDropdown}>\n        <BrandLogo src=\"/supertrips_logo_blue.png\" alt=\"Supertrips\" />\n      </Link>\n      {/* <Link to=\"/\" onClick={closeDropdown}><BrandLogo src=\"/supertrips_logo_blue_ocre.png\" alt=\"Supertrips\" /></Link> */}\n      <span>\n        <FontAwesomeIconComponent\n          chosenIcon={showDropdown ? \"faTimes\" : \"faBars\"}\n          size=\"lg\"\n          color={dropDownButtonColor}\n          handleMouseEnter={toggleDropdownButtonColor}\n          handleMouseLeave={toggleDropdownButtonColor}\n          toggleDropdown={toggleDropdown}\n        />\n      </span>\n      <Dropdown\n        userInSession={props.userInSession}\n        showDropdown={showDropdown ? \"flex\" : \"none\"}\n      >\n        <li>\n          <Link to=\"/trips\" onClick={closeDropdown}>\n            TRIPS\n          </Link>\n        </li>\n        {state.loggedInUser ? (\n          <>\n            <li>\n              <Link to=\"/profile\" onClick={closeDropdown}>\n                PROFILE\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/\" onClick={closeDropdown}>\n                <Button logoutUser={logoutUser} formButton=\"LOGOUT\" />\n              </Link>\n            </li>\n          </>\n        ) : (\n          <>\n            <li>\n              <Link to=\"/signup\" onClick={closeDropdown}>\n                SIGNUP\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/login\" onClick={closeDropdown}>\n                LOGIN\n              </Link>\n            </li>\n          </>\n        )}\n      </Dropdown>\n    </Nav>\n  );\n};\n\nexport default Navbar;\n","import styled from \"styled-components\";\n\nexport const Search = styled.input`\n  padding: 12px 20px;\n  border: 1px solid lightgrey;\n  margin: 8px 0 24px;\n  font-size: 17px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  width: 500px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n\n  @media (min-width: 992px) {\n    width: 700px;\n  }\n`;\n","import React from \"react\";\nimport { Search } from \"./styles\";\n\nconst SearchBar = (props) => {\n  const handleChange = (event) => {\n    const { value } = event.target;\n    props.searchUpdates(value);\n  };\n\n  return (\n    <Search\n      type=\"text\"\n      placeholder={props.placeholder}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default SearchBar;\n","import axios from \"axios\";\n\nconst tripService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  tripService,\n\n  newTrip: (formFields) => {\n    return tripService\n      .post(\"/newTrip\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  trips: () => {\n    return tripService\n      .get(\"/trips\")\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  popularTrips: () => {\n    return tripService\n      .get(\"/popularTrips\")\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  tripDetails: (id) => {\n    return tripService\n      .get(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editTrip: (id, formFields) => {\n    return tripService\n      .put(`/trips/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteTrip: (id) => {\n    return tripService\n      .delete(`/trips/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  toggleLikes: (id) => {\n    return tripService\n      .put(`/trip/toggleLikes/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  postComment: (id, formFields) => {\n    return tripService\n      .post(`/trip/postComment/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import styled from \"styled-components\";\n\nexport const VideoContainer = styled.div`\n  position: relative;\n\n  h2 {\n    color: rgba(255, 255, 255, 0.8);\n  }\n\n  h2:first-of-type {\n    position: absolute;\n    left: 5%;\n    top: 2%;\n    font-size: 4vw;\n  }\n\n  h2:nth-of-type(2) {\n    position: absolute;\n    right: 5%;\n    bottom: 2%;\n    font-size: 4vw;\n  }\n\n  video {\n    width: 100%;\n  }\n\n  form {\n    position: absolute;\n    height: 100px;\n    width: 500px;\n    left: 50%;\n    margin-left: -250px;\n    top: 50%;\n    margin-top: -50px;\n\n    @media (max-width: 768px) {\n      width: 300px;\n      margin-left: -150px;\n    }\n\n    @media (min-width: 992px) {\n      width: 700px;\n      margin-left: -350px;\n    }\n  }\n`;\n\nexport const HomepageBody = styled.ul`\n  padding: 0;\n\n  h2 {\n    text-align: left;\n    padding-left: 40px;\n    margin-bottom: 0;\n  }\n`;\n\nexport const CreateATrip = styled.div`\n  position: relative;\n  img {\n    width: 100%;\n    height: auto;\n  }\n\n  h2 {\n    position: absolute;\n    height: 50px;\n    width: 300px;\n    left: 50%;\n    margin-left: -150px;\n    top: 20%;\n    margin-top: -20px;\n    color: darkslategrey;\n    font-size: 30px;\n    background-color: rgba(176, 196, 222, 0.5);\n    padding-top: 10px;\n    border-radius: 4px;\n\n    @media (max-width: 768px) {\n      font-size: 24px;\n      padding-top: 15px;\n    }\n\n    @media (min-width: 992px) {\n      font-size: 40px;\n      padding: 20px 5px;\n    }\n  }\n\n  input {\n    position: absolute;\n    height: 50px;\n    width: 500px;\n    left: 50%;\n    margin-left: -250px;\n    top: 50%;\n    margin-top: -30px;\n\n    @media (max-width: 768px) {\n      width: 300px;\n      margin-left: -150px;\n    }\n\n    @media (min-width: 992px) {\n      width: 700px;\n      margin-left: -350px;\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const LiContainer = styled.div`\n  margin: 0 auto;\n  ${(props) =>\n    props.popularTrips &&\n    \"display: flex; flex-direction: row; width: 100%; align-items: flex-start; overflow-x: scroll\"}\n`;\n\nexport const Li = styled.li`\n  margin: 40px 0;\n  text-align: left;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  ${(props) => props.popularTrips && \"margin: 40px;\"}\n\n  @media (max-width: 767px) {\n    justify-content: center;\n  }\n\n  svg {\n    margin: 0 10px 0 0;\n    padding-top: 4px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n`;\n\nexport const TripContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  ${(props) =>\n    props.popularTrips &&\n    \"display: flex; flex-direction: column; align-items: flex-start;\"}\n\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n\n  a {\n    img {\n      @keyframes slow-popup {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n\n      height: auto;\n      max-width: 400px;\n      margin-right: 40px;\n      animation: slow-popup 0.5s ease-in-out forwards;\n\n      @media (max-width: 767px) {\n        margin-right: 0;\n        max-height: 250px;\n        width: 100%;\n        object-fit: scale-down;\n        ${(props) => props.popularTrips && \"height: 150px; width: auto;\"}\n      }\n\n      @media (min-width: 767px) and (max-width: 991px) {\n        height: auto;\n        width: 300px;\n        max-height: 200px;\n        object-fit: scale-down;\n        ${(props) => props.popularTrips && \"height: 200px; width: auto;\"}\n      }\n\n      @media (min-width: 992px) {\n        height: auto;\n        width: 400px;\n        max-height: 300px;\n        margin-right: 40px;\n        object-fit: scale-down;\n        ${(props) => props.popularTrips && \"height: 230px; width: auto;\"}\n      }\n    }\n  }\n\n  svg {\n    position: absolute;\n    bottom: 20px;\n    width: 30px;\n    left: 50%;\n    margin-left: -15px;\n    background-color: rgba(255, 255, 255, 0.6);\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 25%;\n    padding: 10px;\n\n    @media (min-width: 768px) {\n      margin-left: -40px;\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const RightPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  ${(props) =>\n    props.popularTrips &&\n    \"justify-content: flex-start; align-items: flex-start\"}\n\n  @media (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n  }\n`;\n\nexport const TripTitle = styled.span`\n  margin: 0 auto;\n\n  h3 {\n    display: inline-block;\n\n    @media (min-width: 992px) {\n      font-size: 26px;\n    }\n  }\n\n  span {\n    margin-left: 10px;\n  }\n`;\n\nexport const LowerPart = styled.div`\n  width: 100%;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n    align-content: center;\n    ${(props) =>\n      props.popularTrips &&\n      \"flex-direction: column; flex-start; align-items: flex-start\"}\n  }\n\n  div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    align-content: center;\n    margin: 15px 0;\n    ${(props) => !props.popularTrips && \"margin: 10px 0\"}\n\n    @media (max-width: 767px) {\n      margin: 2px 0;\n    }\n  }\n\n  div:nth-of-type(1) {\n    svg {\n      margin-right: 18px;\n      ${(props) => !props.popularTrips && \"padding: 0\"}\n    }\n  }\n\n  div:nth-of-type(2) {\n    span {\n      margin-right: 5px;\n\n      svg {\n        ${(props) => !props.popularTrips && \"padding: 0\"}\n      }\n    }\n  }\n\n  div:nth-of-type(3) {\n    div {\n      margin: 0 10px 0 0;\n    }\n  }\n\n  a {\n    display: inline-block;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const StyledProfilePicture = styled.div`\n  display: ${(props) => props.display || \"block\"};\n  align-self: ${(props) => props.alignSelf};\n  width: ${(props) => props.width};\n  height: ${(props) => props.height};\n  margin: ${(props) => props.margin};\n  background-image: url(${(props) => props.src});\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n`;\n","import React from \"react\";\nimport { StyledProfilePicture } from \"./styles\";\n\nconst ProfilePicture = (props) => {\n  return (\n    <StyledProfilePicture\n      src={props.src}\n      width={props.width}\n      height={props.height}\n      margin={props.margin}\n      display={props.display}\n    />\n  );\n};\n\nexport default ProfilePicture;\n","import styled from \"styled-components\";\n\nexport const StyledFavoritesLogo = styled.span`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n","import React, { useState, useCallback } from \"react\";\nimport FontAwesomeIconComponent from \"../FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport authService from \"../../Services/auth-service\";\nimport { StyledFavoritesLogo } from \"./styles\";\n\nconst AddToFavoritesLogo = (props) => {\n  const initialState = { loggedInUser: props.userInSession };\n  const [userState, setUserState] = useState(initialState);\n\n  const updateUser = useCallback(\n    () =>\n      authService\n        .loggedIn()\n        .then((response) => {\n          setUserState({ loggedInUser: response });\n        })\n        .catch(() =>\n          console.log(\"Error adding/removing to/from favorite trips\")\n        ),\n    []\n  );\n\n  const handleToggleAddToFavorites = (tripId) => {\n    authService\n      .toggleAddToFavorites(tripId)\n      .then(() => {\n        updateUser();\n        props.updateUser();\n      })\n      .catch(() =>\n        console.log(\"An error occurred while adding/removing to/from favorites\")\n      );\n  };\n\n  return (\n    <StyledFavoritesLogo>\n      <FontAwesomeIconComponent\n        chosenIcon={\"faHeart\"}\n        color={\n          userState.loggedInUser.favorites.indexOf(props.trip._id) !== -1\n            ? \"red\"\n            : \"grey\"\n        }\n        toggleAddToFavorites={handleToggleAddToFavorites}\n        trip={props.trip}\n      />\n    </StyledFavoritesLogo>\n  );\n};\n\nexport default AddToFavoritesLogo;\n","import styled from \"styled-components\";\n\nexport const StyledThumbsUpLogo = styled.span`\n  &:hover {\n    ${(props) =>\n      props.userInSession && !props.tripDescription ? \"cursor: pointer\" : \"\"}\n  }\n`;\n","import React from \"react\";\nimport FontAwesomeIconComponent from \"../FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport { StyledThumbsUpLogo } from \"./styles\";\nimport tripService from \"../../Services/trip-service\";\n\nconst LikeTripLogo = (props) => {\n  const handletoggleLikeTrip = (tripId) => {\n    tripService\n      .toggleLikes(tripId)\n      .then(() => {\n        props.updateTrips();\n      })\n      .catch(() => console.log(\"Error adding/removing Like to/from this trip\"));\n  };\n\n  return (\n    <StyledThumbsUpLogo\n      userInSession={props.userInSession}\n      tripDescription={props.tripDescription}\n    >\n      <FontAwesomeIconComponent\n        tripDescription={props.tripDescription}\n        chosenIcon={\"faThumbsUp\"}\n        color={\n          props.tripDescription\n            ? \"grey\"\n            : props.trip.likes.indexOf(props.userInSession._id) !== -1\n            ? \"royalblue\"\n            : \"grey\"\n        }\n        toggleLikeTrip={handletoggleLikeTrip}\n        trip={props.trip}\n        size=\"1x\"\n        userInSession={props.userInSession}\n      />\n    </StyledThumbsUpLogo>\n  );\n};\n\nexport default LikeTripLogo;\n","import React from \"react\";\nimport {\n  Ul,\n  LiContainer,\n  Li,\n  TripContainer,\n  RightPanel,\n  LowerPart,\n  TripTitle,\n  SinglePictureContainer,\n} from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddToFavoritesLogo from \"../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo\";\nimport LikeTripLogo from \"../ElementalComponents/LikeTripLogo/LikeTripLogo\";\n\nconst TripsList = (props) => {\n  const listTrips = props.trips.map((trip) => {\n    return (\n      <Li key={trip._id} popularTrips={props.popularTrips}>\n        <TripContainer popularTrips={props.popularTrips}>\n          <SinglePictureContainer popularTrips={props.popularTrips}>\n            <Link\n              to={{\n                pathname: `/trips/${trip._id}`,\n                state: { userInSession: props.loggedInUser, trip: trip },\n              }}\n            >\n              {trip.imageUrl && (\n                <img src={trip.imageUrl} alt=\"trip cover pic\" />\n              )}\n            </Link>\n            {props.userInSession && !props.popularTrips && (\n              <LikeTripLogo\n                trip={trip}\n                userInSession={props.userInSession}\n                updateTrips={props.updateTrips}\n              />\n            )}\n          </SinglePictureContainer>\n          <RightPanel popularTrips={props.popularTrips}>\n            <TripTitle popularTrips={props.popularTrips}>\n              <Link\n                to={{\n                  pathname: `/trips/${trip._id}`,\n                  state: { userInSession: props.loggedInUser, trip: trip },\n                }}\n              >\n                <h3>{trip.title}</h3>\n              </Link>\n              {props.userInSession && !props.popularTrips && (\n                <AddToFavoritesLogo\n                  trip={trip}\n                  userInSession={props.userInSession}\n                  updateUser={props.updateUser}\n                />\n              )}\n            </TripTitle>\n            <LowerPart popularTrips={props.popularTrips}>\n              <div>\n                <FontAwesomeIconComponent\n                  chosenIcon={\"faHourglassHalf\"}\n                  size=\"1x\"\n                />\n                <span>{trip.duration} days</span>\n              </div>\n              <div>\n                <LikeTripLogo\n                  tripDescription\n                  trip={trip}\n                  userInSession={props.userInSession}\n                  updateTrips={props.updateTrips}\n                />\n                <span>{trip.likes.length}</span>\n              </div>\n              <div>\n                <ProfilePicture\n                  src={trip.author.profilePicture}\n                  width=\"20px\"\n                  height=\"20px\"\n                  margin=\"5px 10px 5px 0\"\n                  display=\"inline-block\"\n                />\n                <span>\n                  By{\" \"}\n                  <Link\n                    to={\n                      props.userInSession &&\n                      props.userInSession._id === trip.author._id\n                        ? \"/profile\"\n                        : `/profile/user/${trip.author._id}`\n                    }\n                  >\n                    {trip.author.username}\n                  </Link>\n                </span>\n              </div>\n            </LowerPart>\n          </RightPanel>\n        </TripContainer>\n      </Li>\n    );\n  });\n\n  return (\n    <Ul>\n      <LiContainer popularTrips={props.popularTrips}>{listTrips}</LiContainer>\n    </Ul>\n  );\n};\n\nexport default TripsList;\n","import React, { useState, useEffect } from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport tripService from \"../Services/trip-service\";\nimport { VideoContainer, HomepageBody, CreateATrip } from \"./styles\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\n\nconst Homepage = (props) => {\n  const initialSearch = {\n    search: \"\",\n  };\n  const [userState, setLoggedInUser] = useState({\n    loggedInUser: props.userInSession,\n  });\n  const [searchState, updateSearch] = useState(initialSearch);\n  const [popularTripsState, updatePopularTrips] = useState({ trips: [] });\n\n  useEffect(() => {\n    setLoggedInUser({ loggedInUser: props.userInSession });\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.popularTrips();\n      const popularTrips = response.filter(\n        (trip) => trip.isPublic || trip.author._id === props.userInSession\n      );\n      updatePopularTrips((state) => ({\n        ...state,\n        trips: popularTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [props.userInSession]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.popularTrips();\n      const popularTrips = response;\n      updatePopularTrips((state) => ({\n        ...state,\n        trips: popularTrips,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  };\n\n  const popularTripsList = (\n    <TripsList\n      popularTrips\n      trips={popularTripsState.trips}\n      userInSession={userState.loggedInUser}\n      updateUser={props.updateUser}\n      updateTrips={handleUpdateTrips}\n    />\n  );\n\n  const handleSearch = async (currentSearch) => {\n    updateSearch({\n      search: currentSearch,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.history.push(`/search?title=${searchState.search}`);\n  };\n\n  return (\n    <div>\n      <VideoContainer>\n        <h2>Share your experiences...</h2>\n        <video autoPlay loop muted>\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599909995/jumbotron_video_hddyyd.mp4\" type=\"video/mp4\" /> */}\n          <source\n            src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923299/jumbotron_video_nz_nkqmp2.mp4\"\n            type=\"video/mp4\"\n          />\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923596/jumbotron_beach_2_xbypv6.mp4\" type=\"video/mp4\" /> */}\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599923598/jumbotron_beach_pxwqhn.mp4\" type=\"video/mp4\" /> */}\n          {/* <source src=\"https://res.cloudinary.com/nutriapp/video/upload/v1599924725/jumbotron_clouds_omdlxp.mp4\" type=\"video/mp4\" /> */}\n        </video>\n        <h2>...and get inspired</h2>\n        <form onSubmit={handleSubmit}>\n          <SearchBar\n            placeholder=\"Search for a trip..\"\n            searchUpdates={handleSearch}\n          />\n          <Button formButton=\"GO\" />\n        </form>\n      </VideoContainer>\n      {popularTripsState.trips && (\n        <HomepageBody>\n          <h2 style={{ textAlign: \"left\" }}>Most Popular trips</h2>\n          {popularTripsList}\n        </HomepageBody>\n      )}\n      <CreateATrip>\n        <h2>Create a trip</h2>\n        <img\n          src=\"https://res.cloudinary.com/nutriapp/image/upload/v1599217458/tripDefault_gkayed.jpg\"\n          alt=\"Create a trip\"\n        />\n        <Link to={props.userInSession ? \"/create-trip\" : \"/login\"}>\n          <Button formButton={props.userInSession ? \"START\" : \"LOGIN FIRST\"} />\n        </Link>\n      </CreateATrip>\n    </div>\n  );\n};\n\nexport default Homepage;\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  border-radius: 5px;\n  background-color: #f2f2f2;\n  padding: 20px;\n  margin: 20px auto;\n  max-width: 350px;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const Textarea = styled.textarea`\n  width: 100%;\n  height: 100px;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  resize: none;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  &.btn {\n    &:hover {\n      cursor: pointer;\n      background-color: lightsteelblue;\n    }\n  }\n`;\n\nexport const PlaceSuggestion = styled.div`\n  width: 100%;\n  padding: 8px 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  box-sizing: border-box;\n`;\n","import React from \"react\";\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from \"react-places-autocomplete\";\nimport { Input, PlaceSuggestion } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nclass LocationSearchInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { address: \"\" };\n  }\n\n  handleChange = (address) => {\n    this.setState({ address });\n  };\n\n  handleSelect = (address) => {\n    geocodeByAddress(address)\n      .then((results) => getLatLng(results[0]))\n      .then((latLng) => {\n        this.setState({ address: address, ...latLng });\n        this.props.setPlace(this.state);\n      })\n      .catch((error) => console.error(\"Error\", error));\n  };\n\n  render() {\n    return (\n      <PlacesAutocomplete\n        value={this.state.address}\n        onChange={this.handleChange}\n        onSelect={this.handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <React.Fragment>\n            <Input\n              {...getInputProps({\n                placeholder: \"Search Places ...\",\n                className: \"location-search-input\",\n              })}\n            />\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && (\n                <FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" />\n              )}\n              {suggestions.map((suggestion) => {\n                const className = suggestion.active\n                  ? \"suggestion-item--active\"\n                  : \"suggestion-item\";\n                const style = suggestion.active\n                  ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\n                  : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\n                return (\n                  <PlaceSuggestion\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                    key={suggestion.index}\n                  >\n                    <span>{suggestion.description}</span>\n                  </PlaceSuggestion>\n                );\n              })}\n            </div>\n          </React.Fragment>\n        )}\n      </PlacesAutocomplete>\n    );\n  }\n}\n\nexport default LocationSearchInput;\n\n// Copyright (c) 2016-present, Ken Hibino\n// See https://kenny-hibino.github.io/react-places-autocomplete\n","import styled from \"styled-components\";\n\nexport const MapContainer = styled.div`\n  ${(props) =>\n    props.formMap &&\n    \"box-sizing: border-box; height: 200px; border-radius: 4px;\"};\n\n  @media (max-width: 600px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) =>\n      props.experienceMap && \"width: 300px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 576px) and (max-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 200px;\"};\n    ${(props) =>\n      props.experienceMap && \"width: 450px; height: 200px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 667px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 300px;\"};\n    ${(props) =>\n      props.experienceMap && \"width: 600px; height: 250px; margin: 0 auto;\"};\n  }\n\n  @media (min-width: 992px) {\n    ${(props) => props.tripMap && \"width: 100%; height: 400px;\"};\n    ${(props) =>\n      props.experienceMap && \"width: 800px; height: 300px; margin: 0 auto;\"};\n  }\n`;\n","import React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport { MapContainer } from \"./styles\";\n\nconst Map = (props) => {\n  const initialState = {\n    name: props.address,\n    lat: parseFloat(props.lat),\n    lng: parseFloat(props.lng),\n    zoom: props.zoom,\n  };\n  // eslint-disable-next-line\n  const [state, setState] = useState(initialState);\n\n  const center = {\n    lat: state.lat,\n    lng: state.lng,\n  };\n\n  const zoom = parseInt(state.zoom);\n\n  const getMapOptions = (maps) => {\n    return {\n      disableDefaultUI: false,\n      mapTypeControl: true,\n      streetViewControl: true,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [{ visibility: \"on\" }],\n        },\n      ],\n    };\n  };\n\n  const getMapBounds = (map, maps, places) => {\n    const bounds = new maps.LatLngBounds();\n\n    places.forEach((place) => {\n      bounds.extend(new maps.LatLng(place.lat, place.lng));\n    });\n    return bounds;\n  };\n\n  const bindResizeListener = (map, maps, bounds) => {\n    maps.event.addDomListenerOnce(map, \"idle\", () => {\n      maps.event.addDomListener(window, \"resize\", () => {\n        map.fitBounds(bounds);\n      });\n    });\n  };\n\n  const apiIsLoaded = (map, maps, places) => {\n    // Get bounds by our places\n    const bounds = getMapBounds(map, maps, places);\n    // Fit map to bounds\n    map.fitBounds(bounds);\n    // Bind the resize listener\n    bindResizeListener(map, maps, bounds);\n  };\n\n  const renderMarkers = (map, maps) => {\n    if (props.mapType === \"tripPresentation\") {\n      props.allExperiencesCoords.forEach((coord) => {\n        // eslint-disable-next-line\n        let marker = new maps.Marker({\n          position: coord,\n          map,\n        });\n      });\n    } else {\n      const position = {\n        lat: state.lat,\n        lng: state.lng,\n      };\n\n      // eslint-disable-next-line\n      let marker = new maps.Marker({\n        position: position,\n        map,\n      });\n    }\n  };\n\n  return (\n    <MapContainer\n      tripMap={props.tripMap}\n      experienceMap={props.experienceMap}\n      formMap={props.formMap}\n    >\n      <GoogleMapReact\n        key={state.name}\n        bootstrapURLKeys={{ key: `${process.env.GOOGLE_MAPS_KEY}` }}\n        defaultCenter={center}\n        defaultZoom={zoom}\n        options={getMapOptions}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map, maps }) => {\n          props.tripMap &&\n            !props.hasOnlyOneLocalisation &&\n            apiIsLoaded(map, maps, props.allExperiencesCoords);\n          renderMarkers(map, maps);\n        }}\n      />\n    </MapContainer>\n  );\n};\n\nexport default Map;\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Input, Textarea } from \"./styles\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport LocationSearchInput from \"../LocationSearchInput/LocationSearchInput\";\nimport Map from \"../Map/Map\";\n\nconst FormGeneral = (props) => {\n  const [state, setState] = useState(props.formState);\n\n  useEffect(() => {\n    setState((state) => props.formState);\n  }, [props.formState]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n\n    const formattedDate = [year, month, day].join(\"-\");\n\n    return formattedDate;\n  };\n\n  const handleChange = (event) => {\n    const { name, value, type, checked, files } = event.target;\n    name === \"imageUrl\" || name === \"profilePicture\"\n      ? setState((state) => ({\n          ...state,\n          archive: files[0],\n        }))\n      : setState((state) => ({\n          ...state,\n          [name]:\n            type === \"checkbox\"\n              ? checked\n              : type === \"date\"\n              ? formatDate(value)\n              : type === \"file\"\n              ? files[0]\n              : value,\n        }));\n  };\n\n  const liftFormSubmit = (event, stateToLift) => {\n    event.preventDefault();\n    props.formSubmit(stateToLift);\n  };\n\n  const setPlace = (newPlace) => {\n    setState((state) => ({\n      ...state,\n      place: {\n        address: newPlace.address,\n        lat: parseFloat(newPlace.lat),\n        lng: parseFloat(newPlace.lng),\n      },\n    }));\n  };\n\n  const dynamicInputs = props.formInputs.map((input) => {\n    return input.type === \"textarea\" ? (\n      <React.Fragment key={input.name}>\n        <label>{input.label}</label>\n        <Textarea\n          type={input.type}\n          name={input.name}\n          checked={state[input.name] || false}\n          value={state[input.name] || \"\"}\n          placeholder={input.placeholder}\n          onChange={handleChange}\n        />\n      </React.Fragment>\n    ) : input.name === \"place\" ? (\n      <React.Fragment key={input.name}>\n        <label>{input.label}</label>\n        <LocationSearchInput setPlace={setPlace} />\n        {state.place && (\n          <React.Fragment>\n            <p>Is this the correct place ?</p>\n            <Map\n              formMap\n              key={state.place.address}\n              address={state.place.address}\n              lat={state.place.lat}\n              lng={state.place.lng}\n              zoom=\"14\"\n            />\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    ) : (\n      <React.Fragment key={input.name}>\n        <label>{input.label}</label>\n        <Input\n          type={input.type}\n          name={input.name}\n          checked={state[input.name] || false}\n          value={state[input.name] || \"\"}\n          placeholder={input.placeholder}\n          onChange={handleChange}\n        />\n      </React.Fragment>\n    );\n  });\n\n  return (\n    <div>\n      <Form onSubmit={(event) => liftFormSubmit(event, state)}>\n        <h3>{props.formTitle}</h3>\n        {dynamicInputs}\n        {props.auth ||\n          props.formType === \"experience photo\" ||\n          props.comment || <p>*required</p>}\n        <Button formButton={props.formButton} />\n      </Form>\n    </div>\n  );\n};\n\nexport default FormGeneral;\n","import styled from \"styled-components\";\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, 0.2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`;\n\nexport const FacebookLoginStyled = styled.p`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 50px;\n\n  svg {\n    margin: 0 20px 0 0;\n  }\n\n  @media (max-width: 667px) {\n    flex-direction: column;\n\n    svg {\n      margin: 20px;\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport { Error } from \"./styles\";\n\nconst AuthForm = (props) => {\n  const [showError, setShowError] = useState(\"\");\n  const handleFormSubmit = (formObject) => {\n    const dynamicService = props.login\n      ? authService.login(formObject)\n      : authService.signup(formObject);\n\n    dynamicService\n      .then((response) => {\n        localStorage.setItem(\"loggedInUser\", JSON.stringify(response));\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(\"Error while login/signup\");\n        setShowError(error.response.data.message);\n      });\n  };\n\n  const formInputs = [\n    {\n      label: \"Username\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Enter your username\",\n    },\n    {\n      label: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"*******\",\n    },\n  ];\n\n  const initialState = {\n    username: \"\",\n    password: \"\",\n  };\n\n  return (\n    <div>\n      <FormGeneral\n        auth\n        // formTitle={ props.login ? \"Login\" : \"Sign-up\" }\n        formSubmit={handleFormSubmit}\n        formState={initialState}\n        formInputs={formInputs}\n        formButton={props.formButton}\n      />\n      <p>\n        {props.authMessage}\n        <Link to={`${props.formRedirectLink}`}>{props.formRedirectText}</Link>\n      </p>\n      {showError && <Error>{showError}</Error>}\n    </div>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Signup = (props) => {\n  const responseFacebook = (response) => {\n    authService\n      .facebookLogin({ access_token: response.accessToken })\n      .then((response) => {\n        localStorage.setItem(\"loggedInUser\", JSON.stringify(response));\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(() => console.log(\"Error while login with Facebook\"));\n  };\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        signup\n        getUser={props.getUser}\n        formButton=\"SIGN-UP\"\n        authMessage=\"Already have an account ?\"\n        formRedirectLink=\"/login\"\n        formRedirectText=\" Login\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent\n          chosenIcon={\"faFacebook\"}\n          size=\"3x\"\n          color=\"#4c69ba\"\n        />\n        <FacebookLogin\n          style={{ display: \"block\" }}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          isMobile={false}\n          reauthenticate={true}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport authService from \"../Services/auth-service\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { FacebookLoginStyled } from \"./styles\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Login = (props) => {\n  const responseFacebook = (response) => {\n    authService\n      .facebookLogin({ access_token: response.accessToken })\n      .then((response) => {\n        localStorage.setItem(\"loggedInUser\", JSON.stringify(response));\n        props.getUser(response);\n        props.history.push(\"/\");\n      })\n      .catch(() => console.log(\"Error while login with Facebook\"));\n  };\n\n  return (\n    <div>\n      <AuthForm\n        {...props}\n        login\n        getUser={props.getUser}\n        formButton=\"LOGIN\"\n        authMessage=\"Don't have any account yet ?\"\n        formRedirectLink=\"/signup\"\n        formRedirectText=\" Sign-up\"\n      />\n      <FacebookLoginStyled>\n        <FontAwesomeIconComponent\n          chosenIcon={\"faFacebook\"}\n          size=\"3x\"\n          color=\"#4c69ba\"\n        />\n        <FacebookLogin\n          style={{ display: \"block\" }}\n          appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n          autoLoad={false}\n          isMobile={false}\n          reauthenticate={true}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n        />\n      </FacebookLoginStyled>\n    </div>\n  );\n};\n\nexport default Login;\n","import styled from \"styled-components\";\n\nexport const StyledTrips = styled.div`\n  margin: 0 20px;\n\n  ul {\n    ${(props) => props.searchTrips && \"padding: 0;\"}\n    ${(props) => props.myFavoriteTrips && \"padding: 0;\"}\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport TripsList from \"../TripsList/TripsList\";\nimport { Link } from \"react-router-dom\";\nimport { StyledTrips } from \"./styles\";\nimport Button from \"../ElementalComponents/Button/Button\";\n\nconst TripsFetch = (props) => {\n  const initialState = {\n    loggedInUser: props.userInSession,\n    trips: [],\n  };\n  const [state, setState] = useState(initialState);\n\n  const query =\n    (props.searchTrips &&\n      new URLSearchParams(props.location.search).get(\"title\")) ||\n    \"\";\n\n  useEffect(() => {\n    setState((state) => ({\n      ...state,\n      loggedInUser: props.userInSession,\n    }));\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = props.allTrips\n        ? response.filter(\n            (trip) =>\n              (state.loggedInUser &&\n                trip.author._id === props.userInSession._id) ||\n              trip.isPublic\n          )\n        : props.myTrips\n        ? response.filter((trip) => state.loggedInUser._id === trip.author._id)\n        : props.myFavoriteTrips\n        ? response.filter(\n            (trip) => state.loggedInUser.favorites.indexOf(trip._id) !== -1\n          )\n        : response.filter(\n            (trip) =>\n              ((props.userInSession &&\n                trip.author._id === props.userInSession._id) ||\n                trip.isPublic) &&\n              trip.title.toUpperCase().includes(query.toUpperCase())\n          );\n\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  }, [\n    state.loggedInUser,\n    props.userInSession,\n    props.allTrips,\n    props.myFavoriteTrips,\n    props.myTrips,\n    props.searchTrips,\n    query,\n  ]);\n\n  const handleSearch = async (currentSearch) => {\n    const response = await tripService.trips();\n    const filteredResponse = response.filter(\n      (trip) =>\n        (trip.author._id === props.userInSession._id || trip.isPublic) &&\n        trip.title.toUpperCase().includes(currentSearch.toUpperCase())\n    );\n    setState((state) => ({\n      ...state,\n      trips: filteredResponse,\n    }));\n  };\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const authorizedTripsList = props.allTrips\n        ? response.filter(\n            (trip) =>\n              (state.loggedInUser &&\n                trip.author._id === props.userInSession._id) ||\n              trip.isPublic\n          )\n        : props.myTrips\n        ? response.filter((trip) => state.loggedInUser._id === trip.author._id)\n        : props.myFavoriteTrips\n        ? response.filter(\n            (trip) => state.loggedInUser.favorites.indexOf(trip._id) !== -1\n          )\n        : response.filter(\n            (trip) =>\n              ((props.userInSession &&\n                trip.author._id === props.userInSession._id) ||\n                trip.isPublic) &&\n              trip.title.toUpperCase().includes(query.toUpperCase())\n          );\n      setState((state) => ({\n        ...state,\n        trips: authorizedTripsList,\n      }));\n    };\n    fetchAuthorizedTripsList();\n  };\n\n  const listTrips = (\n    <TripsList\n      trips={state.trips}\n      userInSession={state.loggedInUser}\n      updateUser={props.updateUser}\n      updateTrips={handleUpdateTrips}\n    />\n  );\n\n  const listTripsLength = state.trips && state.trips.length;\n\n  return (\n    <StyledTrips\n      allTrips={props.allTrips}\n      searchTrips={props.searchTrips}\n      myFavoriteTrips={props.myFavoriteTrips}\n    >\n      <h1>\n        {props.searchTrips ? `Search results for: \"${query}\"` : props.title}\n      </h1>\n      {props.allTrips && (\n        <SearchBar\n          placeholder=\"Search for a trip..\"\n          searchUpdates={handleSearch}\n        />\n      )}\n      {props.allTrips && props.userInSession && (\n        <p>\n          <Link to=\"/create-trip\">\n            <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n          </Link>\n        </p>\n      )}\n      {props.myTrips || props.myFavoriteTrips ? (\n        state.trips.length > 0 ? (\n          props.myTrips ? (\n            <>\n              <Link to=\"/create-trip\">\n                <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n              </Link>\n              {listTrips}\n            </>\n          ) : (\n            <ul>{listTrips}</ul>\n          )\n        ) : (\n          <>\n            <p>\n              {props.myTrips\n                ? \"You don't have any trip yet !\"\n                : \"You don't have any favorite trip yet !\"}\n            </p>\n            {props.myTrips ? (\n              <Link to=\"/create-trip\">\n                <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n              </Link>\n            ) : (\n              <Link to=\"/trips\">\n                <Button formButton=\"CHECK TRIPS\" width={\"250px\"} />\n              </Link>\n            )}\n          </>\n        )\n      ) : props.searchTrips ? (\n        state.trips && state.trips.length > 0 ? (\n          <React.Fragment>\n            <p>\n              {listTripsLength} trip{listTripsLength > 1 && \"s\"} found.\n            </p>\n            <ul>{listTrips}</ul>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <p>0 trip found.</p>\n            <Link to=\"/trips\">\n              <Button formButton=\"SEE ALL TRIPS\" />\n            </Link>\n          </React.Fragment>\n        )\n      ) : (\n        listTrips\n      )}\n    </StyledTrips>\n  );\n};\n\nexport default TripsFetch;\n","import React from \"react\";\nimport TripsFetch from \"../TripsFetch/TripsFetch\";\n\nconst Trips = (props) => {\n  return (\n    <TripsFetch\n      allTrips\n      title=\"All Trips\"\n      userInSession={props.userInSession}\n      {...props}\n    />\n  );\n};\n\nexport default Trips;\n","import React from \"react\";\nimport TripsFetch from \"../TripsFetch/TripsFetch\";\n\nconst SearchTripsResults = (props) => {\n  return (\n    <TripsFetch searchTrips userInSession={props.userInSession} {...props} />\n  );\n};\n\nexport default SearchTripsResults;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, userInSession, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (userInSession) {\n          return (\n            <Component {...props} userInSession={userInSession} {...rest} />\n          );\n        } else {\n          return (\n            <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n          );\n        }\n      }}\n    />\n  );\n};\nexport default ProtectedRoute;\n","import styled from \"styled-components\";\n\nexport const StyledProfile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 0 20px;\n`;\n","import axios from \"axios\";\n\nconst stepService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  stepService,\n\n  newStep: (formFields) => {\n    return stepService\n      .post(\"/newStep\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  steps: (id) => {\n    return stepService\n      .get(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  stepDetails: (id) => {\n    return stepService\n      .get(`/stepDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editStep: (id, formFields) => {\n    return stepService\n      .put(`/steps/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteStep: (id) => {\n    return stepService\n      .delete(`/steps/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import axios from \"axios\";\n\nconst experienceService = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}/api`,\n  withCredentials: true,\n});\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nexport default {\n  experienceService,\n\n  newExperience: (formFields) => {\n    return experienceService\n      .post(\"/newExperience\", formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experiences: (stepId) => {\n    return experienceService\n      .get(`/experiences/${stepId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  fullTripExperiences: (id) => {\n    return experienceService\n      .get(`/experiences/trip/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  experienceDetails: (id) => {\n    return experienceService\n      .get(`/experienceDetails/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  editExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperience: (id) => {\n    return experienceService\n      .delete(`/experiences/${id}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  addPictureToExperience: (id, formFields) => {\n    return experienceService\n      .put(`/experiences/addPicture/${id}`, formFields)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n\n  deleteExperiencePicture: (id, imageId) => {\n    return experienceService\n      .delete(`/experiences/${id}/deletePicture/${imageId}`)\n      .then((response) => response.data)\n      .catch(errorHandler);\n  },\n};\n","import styled from \"styled-components\";\n\nexport const StyledEditForm = styled.div`\n  a {\n    text-decoration: none;\n  }\n`;\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, 0.2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 0 auto;\n  }\n`;\n\nexport const Loading = styled.div`\n  margin: 40px;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport Button from \"../ElementalComponents/Button/Button\";\nimport { StyledEditForm, Loading, Error } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst EditFormGeneral = (props) => {\n  const [state, setState] = useState({});\n  const [showDeleteConfirmation, setshowDeleteConfirmation] = useState(false);\n  const [showError, setShowError] = useState(\"\");\n  const [loading, setLoading] = useState(\"\");\n\n  const toggleDeleteConfirmation = () => {\n    setshowDeleteConfirmation(!showDeleteConfirmation);\n  };\n\n  const closeDeleteConfirmation = () => {\n    setshowDeleteConfirmation(false);\n  };\n\n  useEffect(() => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.tripDetails(params.id)\n      : props.stepForm\n      ? stepService.stepDetails(params.stepId)\n      : props.experienceForm\n      ? experienceService.experienceDetails(params.experienceId)\n      : authService.loggedIn();\n\n    dynamicService\n      .then((response) => {\n        props.tripForm\n          ? setState({\n              ...response,\n              imageUrl: \"\",\n              originalImg: response.imageUrl,\n            })\n          : props.profilePictureForm\n          ? setState({\n              profilePicture: \"\",\n              originalImg: response.profilePicture,\n            })\n          : setState(response);\n      })\n      .catch(() =>\n        console.log(`Error while getting ${props.formType} details`)\n      );\n  }, [\n    props.formType,\n    props.stepForm,\n    props.tripForm,\n    props.experienceForm,\n    props.profilePictureForm,\n    props.match,\n  ]);\n\n  const handleFormSubmit = (formObject) => {\n    const { params } = props.match;\n    setLoading(true);\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      formObject.archive\n        ? uploadData.append(\"imageUrl\", formObject.archive)\n        : uploadData.append(\"imageUrl\", formObject.originalImg);\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n    }\n    if (props.profilePictureForm) {\n      formObject.archive\n        ? uploadData.append(\"profilePicture\", formObject.archive)\n        : uploadData.append(\"profilePicture\", formObject.originalImg);\n    }\n\n    const dynamicService = props.tripForm\n      ? tripService.editTrip(params.id, uploadData)\n      : props.stepForm\n      ? stepService.editStep(params.stepId, formObject)\n      : props.experienceForm\n      ? experienceService.editExperience(params.experienceId, formObject)\n      : authService.editProfilePicture(props.user._id, uploadData);\n\n    dynamicService\n      .then((response) => {\n        setLoading(false);\n        props.profilePictureForm\n          ? props.updateProfilePicture()\n          : props.history.push({\n              pathname: `/trips/${params.id}`,\n            });\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(`Error while editing ${props.formType}`);\n        setShowError(error.response.data.message);\n      });\n  };\n\n  const deleteItem = () => {\n    const { params } = props.match;\n    const dynamicService = props.tripForm\n      ? tripService.deleteTrip(params.id)\n      : props.stepForm\n      ? stepService.deleteStep(params.stepId)\n      : props.experienceForm\n      ? experienceService.deleteExperience(params.experienceId)\n      : authService.editProfilePicture(props.user._id, {\n          profilePicture:\n            \"https://res.cloudinary.com/nutriapp/image/upload/v1599217287/profileDefault_jr9j16.png\",\n        });\n\n    const dynamicRedirectLink = props.tripForm\n      ? \"/trips\"\n      : props.profilePictureForm\n      ? \"/profile\"\n      : `/trips/${params.id}`;\n\n    dynamicService\n      .then((response) => {\n        props.profilePictureForm && props.updateProfilePicture();\n        props.history.push(dynamicRedirectLink);\n      })\n      .catch(() => console.log(`Error while deleting ${props.formType}`));\n  };\n\n  return (\n    <StyledEditForm>\n      {loading ? (\n        <Loading>\n          <FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" />\n          <p>Loading</p>\n        </Loading>\n      ) : (\n        <FormGeneral\n          formTitle={props.formTitle}\n          formSubmit={handleFormSubmit}\n          formState={state}\n          formInputs={props.formInputs}\n          formButton=\"SAVE\"\n        />\n      )}\n      <>\n        <Button\n          toggleDeleteConfirmation={toggleDeleteConfirmation}\n          formButton=\"DELETE\"\n          theme=\"lightcoral\"\n          color=\"white\"\n        />\n        {showDeleteConfirmation && (\n          <>\n            <h4>Are you sure you want to delete this {props.formType} ? </h4>\n            <Button\n              deleteItem={deleteItem}\n              closeDeleteConfirmation={closeDeleteConfirmation}\n              formButton=\"YES\"\n              theme=\"lightcoral\"\n              color=\"white\"\n            />\n            <Button\n              toggleDeleteConfirmation={toggleDeleteConfirmation}\n              formButton=\"CANCEL\"\n              theme=\"lightgrey\"\n              color=\"black\"\n            />\n          </>\n        )}\n        {props.profilePictureForm || (\n          <React.Fragment>\n            {showError && <Error>{showError}</Error>}\n            <p>\n              <Link to={`/trips/${props.match.params.id}`}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\"faArrowCircleLeft\"}\n                  size=\"2x\"\n                />\n              </Link>\n            </p>\n          </React.Fragment>\n        )}\n      </>\n    </StyledEditForm>\n  );\n};\n\nexport default EditFormGeneral;\n","import React, { useState, useEffect } from \"react\";\nimport authService from \"../Services/auth-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditProfilePictureForm = (props) => {\n  const [userState, setUserState] = useState({});\n\n  useEffect(() => {\n    authService\n      .loggedIn()\n      .then((response) => {\n        setUserState(response);\n      })\n      .catch(() => console.log(\"Error while getting user details\"));\n  }, []);\n\n  const formInputs = [\n    {\n      type: \"file\",\n      value: \"\",\n      name: \"profilePicture\",\n    },\n  ];\n\n  return (\n    <EditFormGeneral\n      profilePictureForm\n      formType=\"profile picture\"\n      formInputs={formInputs}\n      formTitle={\"Edit Profile Picture\"}\n      updateProfilePicture={props.updateProfilePicture}\n      user={userState}\n      {...props}\n    />\n  );\n};\n\nexport default EditProfilePictureForm;\n","import React, { useState, useCallback } from \"react\";\nimport Button from \"../ElementalComponents/Button/Button.js\";\nimport { Link } from \"react-router-dom\";\nimport { StyledProfile } from \"./styles\";\nimport EditProfilePictureForm from \"../EditFormGeneral/EditProfilePictureForm\";\nimport authService from \"../Services/auth-service.js\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture.js\";\n\nconst Profile = (props) => {\n  const [userState, setUserState] = useState({\n    loggedInUser: props.userInSession,\n  });\n  const [showProfilePictureForm, setShowProfilePictureForm] = useState(false);\n\n  const toggleProfilePictureForm = () => {\n    setShowProfilePictureForm(!showProfilePictureForm);\n  };\n\n  const closeProfilePictureForm = () => {\n    setShowProfilePictureForm(false);\n  };\n\n  const updateProfilePicture = useCallback(\n    () =>\n      authService\n        .loggedIn()\n        .then((response) => {\n          closeProfilePictureForm();\n          setUserState({ loggedInUser: response });\n        })\n        .catch(() => console.log(\"Error updating profile picture\")),\n    []\n  );\n\n  return (\n    <StyledProfile>\n      <h1>Welcome to your profile, {props.userInSession.username} !</h1>\n      <ProfilePicture\n        src={userState.loggedInUser.profilePicture}\n        width=\"150px\"\n        height=\"150px\"\n        margin=\"0 auto 20px\"\n      />\n      {showProfilePictureForm && (\n        <EditProfilePictureForm\n          updateProfilePicture={updateProfilePicture}\n          {...props}\n        />\n      )}\n      <Button\n        formButton={showProfilePictureForm ? \"CLOSE\" : \"EDIT PICTURE\"}\n        toggleProfilePictureForm={toggleProfilePictureForm}\n      />\n      <Link to=\"/profile/my-trips\">\n        <Button formButton=\"MY TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/profile/favorite-trips\">\n        <Button formButton=\"FAVORITE TRIPS\" width={\"250px\"} />\n      </Link>\n      <Link to=\"/create-trip\">\n        <Button formButton=\"CREATE A NEW TRIP\" width={\"250px\"} />\n      </Link>\n    </StyledProfile>\n  );\n};\n\nexport default Profile;\n","import styled from \"styled-components\";\n\nexport const StyledTrip = styled.div`\n  a {\n    text-decoration: none;\n  }\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n\n  span {\n    h1 {\n      display: inline-block;\n    }\n\n    svg {\n      margin-left: 20px;\n      padding-bottom: 2px;\n    }\n  }\n`;\n\nexport const Duration = styled.div`\n  margin: 20px auto;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 20px auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n  width: 100%;\n`;\n\nexport const Li = styled.li`\n  margin: 20px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const Error = styled.p`\n  color: red;\n  border: solid red 1px;\n  border-radius: 4px;\n  max-width: 350px;\n  padding: 5px 5px 8px;\n  margin: 0 auto;\n  background-color: rgba(241, 169, 160, 0.2);\n\n  @media (min-width: 768px) {\n    width: 350px;\n    margin: 50px auto;\n  }\n`;\nexport const TripPicture = styled.img`\n  width: 100%;\n  max-width: 600px;\n`;\n\nexport const LeaveCommentToggleLogo = styled.span`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    cursor: pointer;\n    color: lightgrey;\n  }\n`;\n\nexport const Comment = styled.li`\n  list-style: none;\n  background-color: rgba(0, 0, 0, 0.1);\n  width: 300px;\n  border-radius: 10px;\n  margin: 10px auto;\n\n  span {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    a {\n      margin-right: 5px;\n    }\n  }\n\n  p {\n    font-weight: 300;\n    font-style: italic;\n    padding: 10px;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const StyledExperience = styled.div`\n  @keyframes slide-up {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  animation: slide-up 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`;\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 10px;\n  text-align: left;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const StyledDateTime = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n  opacity: ${(props) => props.opacity};\n`;\n\nexport const Description = styled.p`\n  margin: 20px;\n  margin-left: 50px;\n`;\n\nexport const AddPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: lightgrey;\n  }\n`;\n\nexport const EditPhotoLogo = styled.span`\n  margin: 15px 5px 5px 40px;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    color: lightgrey;\n  }\n`;\n\nexport const MapContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const PicturesContainer = styled.div`\n  text-align: center;\n  margin-top: 20px;\n`;\n\nexport const SinglePictureContainer = styled.div`\n  position: relative;\n  text-align: center;\n\n  img {\n    height: 125px;\n    width: auto;\n    margin: 20px;\n\n    @media (max-width: 767px) {\n      height: 75px;\n      width: auto;\n      margin: 10px;\n    }\n\n    @media (min-width: 992px) {\n      height: 150px;\n      width: auto;\n      margin: 20px;\n    }\n  }\n\n  svg {\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    background-color: rgba(255, 255, 255, 0.4);\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 25%;\n    padding: 3px;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const ExpandedSection = styled.div`\n  width: 90vw;\n`;\n\nexport const ExperienceTitle = styled.span`\n  :hover {\n    color: lightgrey;\n  }\n`;\n\nexport const GalleryAndPictures = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  input {\n    margin-top: 40px;\n    justify-self: center;\n    align-self: center;\n  }\n`;\n","import styled from \"styled-components\";\r\n\r\nexport const StyledCreateForm = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  border: solid red 1px;\r\n  border-radius: 4px;\r\n  max-width: 350px;\r\n  padding: 5px 5px 8px;\r\n  margin: 0 auto;\r\n  background-color: rgba(241, 169, 160, 0.2);\r\n\r\n  @media (min-width: 768px) {\r\n    width: 350px;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\nexport const Loading = styled.div`\r\n  margin: 40px;\r\n`;\r\n","import React, { useState } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport { StyledCreateForm, Loading, Error } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst CreateFormGeneral = (props) => {\n  const [showError, setShowError] = useState(\"\");\n  const [loading, setLoading] = useState(\"\");\n\n  const handleFormSubmit = (formObject) => {\n    setLoading(true);\n    const uploadData = new FormData();\n    if (props.tripForm) {\n      uploadData.append(\"title\", formObject.title);\n      uploadData.append(\"imageUrl\", formObject.archive);\n      uploadData.append(\"isPublic\", formObject.isPublic);\n      uploadData.append(\"startDate\", formObject.startDate);\n      uploadData.append(\"endDate\", formObject.endDate);\n    }\n    if (props.addPhotoToExperience) {\n      uploadData.append(\"imageUrl\", formObject.archive);\n    }\n    const dynamicService = props.tripForm\n      ? tripService.newTrip(uploadData)\n      : props.stepForm\n      ? stepService.newStep(formObject)\n      : props.experienceForm\n      ? experienceService.newExperience(formObject)\n      : experienceService.addPictureToExperience(\n          props.experienceId,\n          uploadData\n        );\n    dynamicService\n      .then((response) => {\n        setLoading(false);\n        props.addPhotoToExperience && props.closeShowAddPhoto();\n        props.addPhotoToExperience && props.updateNewPicture();\n        props.tripForm\n          ? props.history.push(\"/trips\")\n          : props.history.push(`/trips/${props.tripId}`);\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(`Error while getting ${props.formType} details`);\n        setShowError(error.response.data.message);\n      });\n  };\n\n  const redirectLink =\n    props.match.path === \"/create-trip\"\n      ? \"/trips\"\n      : `/trips/${props.match.params.id}`;\n\n  return (\n    <StyledCreateForm>\n      {loading ? (\n        <Loading>\n          <FontAwesomeIconComponent chosenIcon={\"faSpinner\"} size=\"2x\" />\n          <p>Loading</p>\n        </Loading>\n      ) : (\n        <FormGeneral\n          formType={props.formType}\n          formTitle={\n            props.addPhotoToExperience || `Create a new ${props.formType}`\n          }\n          formSubmit={handleFormSubmit}\n          formState={props.initialState}\n          formInputs={props.formInputs}\n          formButton={props.addPhotoToExperience ? \"ADD\" : \"CREATE\"}\n        />\n      )}\n      {showError && <Error>{showError}</Error>}\n      {props.addPhotoToExperience || (\n        <p>\n          <Link to={`${redirectLink}`}>\n            <FontAwesomeIconComponent\n              chosenIcon={\"faArrowCircleLeft\"}\n              size=\"2x\"\n            />\n          </Link>\n        </p>\n      )}\n    </StyledCreateForm>\n  );\n};\n\nexport default CreateFormGeneral;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddPhotoToExperience = (props) => {\n  const formInputs = [\n    {\n      label: \"New photo (max. 10 Mo)\",\n      type: \"file\",\n      name: \"imageUrl\",\n    },\n  ];\n\n  const initialState = {\n    imageUrl: \"\",\n    archive: null,\n  };\n\n  return (\n    <CreateFormGeneral\n      addPhotoToExperience\n      formType=\"experience photo\"\n      formInputs={formInputs}\n      initialState={initialState}\n      tripId={props.match.params.id}\n      experienceId={props.experienceId}\n      closeShowAddPhoto={props.closeShowAddPhoto}\n      handleUpdateNewPicture={props.updateNewPicture}\n      {...props}\n    />\n  );\n};\n\nexport default AddPhotoToExperience;\n","import React from \"react\";\nimport ImageGallery from \"react-image-gallery\";\n\nconst Gallery = (props) => {\n  const images = props.pictures.map((picture) => {\n    return {\n      original: picture.url,\n      thumbnail: picture.url,\n    };\n  });\n\n  return <ImageGallery items={images} />;\n};\n\nexport default Gallery;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport experienceService from \"../Services/experience-service\";\nimport {\n  StyledExperience,\n  StyledDateTime,\n  Description,\n  ExpandedSection,\n  MapContainer,\n  AddPhotoLogo,\n  EditPhotoLogo,\n  GalleryAndPictures,\n  PicturesContainer,\n  OwnerControls,\n  StyledStepHeader,\n  ExperienceTitle,\n  SinglePictureContainer,\n} from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddPhotoToExperience from \"../CreateFormGeneral/AddPhotoToExperience\";\nimport Gallery from \"../Gallery/Gallery\";\nimport \"../../../node_modules/react-image-gallery/styles/css/image-gallery.css\";\nimport Button from \"../ElementalComponents/Button/Button\";\n\nconst Experience = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    experience: [],\n    expanded: false,\n    showAddPhoto: false,\n    editingPhotos: false,\n    showInGallery: false,\n  };\n  const [state, setState] = useState(initialState);\n\n  const toggleExpand = () => {\n    setState((state) => ({\n      ...state,\n      expanded: !state.expanded,\n      showInGallery: state.expanded && false,\n    }));\n  };\n\n  const toggleShowAddPhoto = () => {\n    !state.showAddPhoto && handleCloseEditingPhotos();\n    setState((state) => ({\n      ...state,\n      showAddPhoto: !state.showAddPhoto,\n    }));\n  };\n\n  const toggleEditingPhotos = () => {\n    !state.editingPhotos && handleCloseShowAddPhoto();\n    setState((state) => ({\n      ...state,\n      editingPhotos: !state.editingPhotos,\n    }));\n  };\n\n  const handleCloseEditingPhotos = () => {\n    setState((state) => ({\n      ...state,\n      editingPhotos: false,\n    }));\n  };\n\n  const handleCloseShowAddPhoto = () => {\n    setState((state) => ({\n      ...state,\n      showAddPhoto: false,\n    }));\n  };\n\n  const handleUpdateNewPicture = useCallback(\n    () =>\n      experienceService\n        .experienceDetails(state.experience._id)\n        .then((response) => {\n          setState((state) => ({\n            ...state,\n            experience: response,\n          }));\n        })\n        .catch(() => console.log(\"Error while getting experience details\")),\n    [state.experience._id]\n  );\n\n  const handleDeletePicture = (imageId) => {\n    experienceService\n      .deleteExperiencePicture(state.experience._id, imageId)\n      .then((response) => {\n        handleUpdateNewPicture();\n      });\n  };\n\n  const handleToggleShowInGallery = () => {\n    setState((state) => ({\n      ...state,\n      showInGallery: !state.showInGallery,\n    }));\n  };\n\n  const closeGallery = () => {\n    setState((state) => ({\n      ...state,\n      showInGallery: false,\n    }));\n  };\n\n  const experiencePictures =\n    state.experience.pictures &&\n    state.experience.pictures.map((picture, index) => {\n      return (\n        <SinglePictureContainer key={index} style={{ display: \"inline-block\" }}>\n          <img key={picture._id} src={picture.url} alt=\"experience\" />\n          {props.author._id === state.loggedInUser._id &&\n            state.editingPhotos && (\n              <FontAwesomeIconComponent\n                chosenIcon={\"faTrashAlt\"}\n                color=\"red\"\n                deleteExperiencePicture={handleDeletePicture}\n                picture={picture}\n              />\n            )}\n        </SinglePictureContainer>\n      );\n    });\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.experience._id)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          experience: response,\n        }));\n      })\n      .catch(() => console.log(\"Error while getting experience details\"));\n  }, [props.userInSession, props.experience._id]);\n\n  return (\n    <StyledExperience>\n      <StyledStepHeader onClick={toggleExpand}>\n        {state.expanded ? (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronDown\"} />\n        ) : (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronRight\"} />\n        )}\n        <span>\n          <ExperienceTitle>{state.experience.title}</ExperienceTitle>\n          {state.experience.date && (\n            <React.Fragment>\n              {(state.experience.showDate ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showDate ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faCalendarAlt\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.date}\n                  {!state.experience.showDate && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n              {(state.experience.showTime ||\n                props.author._id === state.loggedInUser._id) && (\n                <StyledDateTime\n                  opacity={!state.experience.showTime ? \"0.4\" : \"1\"}\n                >\n                  <FontAwesomeIconComponent\n                    chosenIcon={\"faClock\"}\n                    color=\"grey\"\n                  />\n                  {state.experience.time}\n                  {!state.experience.showTime && \" (Hidden for other users)\"}\n                </StyledDateTime>\n              )}\n            </React.Fragment>\n          )}\n        </span>\n      </StyledStepHeader>\n      {state.expanded && (\n        <ExpandedSection>\n          {state.experience.description && (\n            <Description>\n              <FontAwesomeIconComponent\n                chosenIcon={\"faCommentDots\"}\n                color=\"grey\"\n              />\n              {state.experience.description}\n            </Description>\n          )}\n          {state.experience.place && (\n            <MapContainer>\n              <Map\n                experienceMap\n                address={state.experience.place.address}\n                lat={state.experience.place.lat}\n                lng={state.experience.place.lng}\n                zoom=\"15\"\n              />\n            </MapContainer>\n          )}\n          {state.experience.pictures.length > 0 && (\n            <GalleryAndPictures>\n              <Button\n                formButton={\n                  state.showInGallery ? \"CLOSE GALLERY\" : \"SHOW IN A GALLERY\"\n                }\n                toggleShowInGallery={handleToggleShowInGallery}\n              />\n              {state.showInGallery ? (\n                <Gallery\n                  style={{ padding: \"50px\" }}\n                  pictures={state.experience.pictures}\n                />\n              ) : (\n                <PicturesContainer>{experiencePictures}</PicturesContainer>\n              )}\n            </GalleryAndPictures>\n          )}\n          {state.loggedInUser && props.author._id === state.loggedInUser._id && (\n            <React.Fragment>\n              <EditPhotoLogo onClick={toggleEditingPhotos}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.editingPhotos ? \"faMinusSquare\" : \"faPenSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.editingPhotos ? \"Close\" : \"Edit photos\"}\n              </EditPhotoLogo>\n              <AddPhotoLogo onClick={toggleShowAddPhoto}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.showAddPhoto ? \"faMinusSquare\" : \"faPlusSquare\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.showAddPhoto ? \"Close\" : \"Add a photo\"}\n              </AddPhotoLogo>\n            </React.Fragment>\n          )}\n          {state.showAddPhoto && (\n            <AddPhotoToExperience\n              experienceId={state.experience._id}\n              closeShowAddPhoto={handleCloseShowAddPhoto}\n              updateNewPicture={handleUpdateNewPicture}\n              {...props}\n            />\n          )}\n          {state.loggedInUser && state.loggedInUser._id === props.author._id && (\n            <>\n              <OwnerControls>\n                <Link\n                  to={`/trips/${state.experience.step.trip}/steps/${state.experience.step._id}/edit-experience/${state.experience._id}`}\n                >\n                  <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                  <span>Edit experience</span>\n                </Link>\n              </OwnerControls>\n            </>\n          )}\n        </ExpandedSection>\n      )}\n    </StyledExperience>\n  );\n};\n\nexport default Experience;\n","import styled from \"styled-components\";\n\nexport const StyledStep = styled.div`\n  @keyframes slide-left {\n    0% {\n      transform: translateX(calc(100% - 5px));\n      opacity: 0;\n    }\n    100% {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  animation: slide-left 0.65s ease-in-out forwards;\n`;\n\nexport const OwnerControls = styled.p`\n  svg {\n    margin: 0 10px;\n  }\n`;\n\nexport const StyledStepHeader = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Ul = styled.ul`\n  margin: 0 auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Box = styled.div`\n  margin: 0 auto;\n`;\n\nexport const Li = styled.li`\n  margin: 20px auto;\n  text-align: left;\n  display: flex;\n  align-items: center;\n\n  svg {\n    margin: 0 10px;\n    padding-top: 4px;\n  }\n`;\n\nexport const StepTitle = styled.span`\n  :hover {\n    color: lightgrey;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport Experience from \"../Experience/Experience\";\nimport {\n  StyledStep,\n  StepTitle,\n  OwnerControls,\n  StyledStepHeader,\n  Ul,\n  Box,\n  Li,\n} from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\n\nconst Step = (props) => {\n  const initialState = {\n    loggedInUser: null,\n    step: [],\n    experiences: [],\n    author: [],\n    expanded: false,\n  };\n  const [state, setState] = useState(initialState);\n\n  const toggleExpand = () => {\n    setState((state) => ({\n      ...state,\n      expanded: !state.expanded,\n    }));\n  };\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.step._id)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          loggedInUser: props.userInSession,\n          step: response,\n        }));\n        experienceService\n          .experiences(props.step._id)\n          .then((response) => {\n            setState((state) => ({\n              ...state,\n              experiences: response,\n            }));\n          })\n          .catch(() => console.log(\"Error while getting experiences\"));\n        tripService.tripDetails(props.step.trip._id).then((response) => {\n          setState((state) => ({\n            ...state,\n            author: response.author,\n          }));\n        });\n      })\n      .catch(() => console.log(\"Error while getting step details\"));\n  }, [props.userInSession, props.step.trip._id, props.step._id]);\n\n  const experiencesList = state.experiences.map((experience, index) => {\n    return (\n      <Li key={experience._id}>\n        <Experience\n          experience={experience}\n          experienceNumber={index + 1}\n          author={state.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    );\n  });\n\n  return (\n    <StyledStep>\n      <StyledStepHeader onClick={toggleExpand}>\n        {state.expanded ? (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronCircleDown\"} />\n        ) : (\n          <FontAwesomeIconComponent chosenIcon={\"faChevronCircleRight\"} />\n        )}\n        <StepTitle>{state.step.title}</StepTitle>\n      </StyledStepHeader>\n      {state.expanded && (\n        <>\n          <Ul>\n            <Box>{experiencesList}</Box>\n          </Ul>\n          {state.loggedInUser &&\n            state.loggedInUser._id === state.step.trip.author && (\n              <>\n                <OwnerControls>\n                  <Link\n                    to={{\n                      pathname: `/trips/${state.step.trip._id}/steps/${state.step._id}/add-experience`,\n                      state: { trip: state.trip },\n                    }}\n                  >\n                    <FontAwesomeIconComponent chosenIcon={\"faAsterisk\"} />\n                    <span>Add an experience</span>\n                  </Link>\n                </OwnerControls>\n                <OwnerControls>\n                  <Link\n                    to={`/trips/${state.step.trip._id}/edit-step/${state.step._id}`}\n                  >\n                    <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                    <span>Edit step</span>\n                  </Link>\n                </OwnerControls>\n              </>\n            )}\n        </>\n      )}\n    </StyledStep>\n  );\n};\n\nexport default Step;\n","import React from \"react\";\nimport FormGeneral from \"../FormGeneral/FormGeneral\";\nimport tripService from \"../Services/trip-service\";\n\nconst LeaveComment = (props) => {\n  const handleFormSubmit = (formObject) => {\n    const { params } = props.match;\n    tripService\n      .postComment(params.id, formObject)\n      .then(() => {\n        props.closeLeavingComment();\n        props.updateTrips();\n      })\n      .catch(() => console.log(\"Error while leaving a comment\"));\n  };\n\n  const formInputs = [\n    {\n      type: \"textarea\",\n      name: \"comment\",\n      placeholder: \"Type here ..\",\n    },\n  ];\n\n  const initialState = {\n    comment: \"\",\n  };\n\n  return (\n    <FormGeneral\n      comment\n      formSubmit={handleFormSubmit}\n      formState={initialState}\n      formInputs={formInputs}\n      formButton=\"POST\"\n    />\n  );\n};\n\nexport default LeaveComment;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport stepService from \"../Services/step-service\";\nimport experienceService from \"../Services/experience-service\";\nimport {\n  StyledTrip,\n  Duration,\n  OwnerControls,\n  Ul,\n  Box,\n  Li,\n  Error,\n  TripPicture,\n  LeaveCommentToggleLogo,\n  Comment,\n} from \"./styles\";\nimport Step from \"../Step/Step\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture\";\nimport { Link } from \"react-router-dom\";\nimport Map from \"../Map/Map\";\nimport FontAwesomeIconComponent from \"../ElementalComponents/FontAwesomeIconComponent/FontAwesomeIconComponent\";\nimport AddToFavoritesLogo from \"../ElementalComponents/AddToFavoritesLogo/AddToFavoritesLogo\";\nimport LikeTripLogo from \"../ElementalComponents/LikeTripLogo/LikeTripLogo\";\nimport LeaveComment from \"../CreateFormGeneral/LeaveComment\";\n\nconst Trip = (props) => {\n  const [showError, setShowError] = useState(\"\");\n  const initialState = {\n    loggedInUser: null,\n    trip: [],\n    steps: [],\n    experiences: [],\n    leavingComment: false,\n    lat: null,\n    lng: null,\n  };\n  const [state, setState] = useState(initialState);\n\n  const handleUpdateTrip = () => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        tripResponse === null\n          ? setShowError(\"Sorry, this trip doesn't exist.\")\n          : setState((state) => ({\n              ...state,\n              loggedInUser: props.userInSession,\n              trip: tripResponse,\n            }));\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details\");\n        setShowError(`Error : ${error.response.data.message}`);\n      });\n  };\n\n  useEffect(() => {\n    experienceService\n      .fullTripExperiences(props.match.params.id)\n      .then((experienceResponse) => {\n        const experienceLatAverage =\n          experienceResponse\n            .filter((experience) => experience.place)\n            .reduce((acc, curr) => acc + curr.place.lat, 0)\n            .toFixed(2) /\n          experienceResponse.filter((experience) => experience.place).length;\n\n        const experienceLngAverage =\n          experienceResponse\n            .filter((experience) => experience.place)\n            .reduce((acc, curr) => acc + curr.place.lng, 0)\n            .toFixed(2) /\n          experienceResponse.filter((experience) => experience.place).length;\n\n        setState((state) => ({\n          ...state,\n          experiences: experienceResponse,\n          lat: experienceLatAverage,\n          lng: experienceLngAverage,\n        }));\n      })\n      .catch(() => console.log(\"Error while getting experiences\"));\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((tripResponse) => {\n        tripResponse === null\n          ? setShowError(\"Sorry, this trip doesn't exist.\")\n          : setState((state) => ({\n              ...state,\n              loggedInUser: props.userInSession,\n              trip: tripResponse,\n            }));\n        stepService\n          .steps(props.match.params.id)\n          .then((stepResponse) => {\n            setState((state) => ({\n              ...state,\n              loggedInUser: props.userInSession,\n              steps: stepResponse,\n            }));\n          })\n          .catch(() => console.log(\"Error while getting steps\"));\n      })\n      .catch((error) => {\n        console.log(\"Error while getting trip details\");\n        setShowError(`Error : ${error.response.data.message}`);\n      });\n  }, [props.userInSession, props.match.params.id]);\n\n  const stepsList = state.steps.map((step, index) => {\n    return (\n      <Li key={step._id}>\n        <Step\n          step={step}\n          stepNumber={index + 1}\n          author={state.trip.author}\n          userInSession={state.loggedInUser}\n          {...props}\n        />\n      </Li>\n    );\n  });\n\n  const allExperiencesCoords = state.experiences\n    .filter((experience) => experience.place)\n    .map((experience) => {\n      return {\n        lat: experience.place.lat,\n        lng: experience.place.lng,\n      };\n    });\n\n  const toggleLeavingComment = () => {\n    setState((state) => ({\n      ...state,\n      leavingComment: !state.leavingComment,\n    }));\n  };\n\n  const handleCloseLeavingComment = () => {\n    setState((state) => ({\n      ...state,\n      leavingComment: false,\n    }));\n  };\n\n  const commentsList =\n    state.trip.comments &&\n    state.trip.comments.map((comment) => {\n      return (\n        <Comment key={comment._id}>\n          <span>\n            <ProfilePicture\n              src={comment.commentAuthor.profilePicture}\n              width=\"20px\"\n              height=\"20px\"\n              margin=\"5px 10px 5px 0\"\n              display=\"inline-block\"\n            />\n            <Link\n              to={\n                props.userInSession &&\n                props.userInSession._id === comment.commentAuthor._id\n                  ? \"/profile\"\n                  : `/profile/user/${comment.commentAuthor._id}`\n              }\n            >\n              {comment.commentAuthor.username}\n            </Link>{\" \"}\n            said\n          </span>\n          <p>{comment.comment}</p>\n        </Comment>\n      );\n    });\n\n  return (\n    <StyledTrip>\n      {showError ? (\n        <Error>{showError}</Error>\n      ) : (state.trip && state.trip.isPublic) ||\n        (state.trip &&\n          state.loggedInUser &&\n          state.trip.author._id === state.loggedInUser._id) ? (\n        <React.Fragment>\n          <span>\n            <h1>{state.trip.title}</h1>\n            {state.loggedInUser && (\n              <AddToFavoritesLogo\n                trip={state.trip}\n                userInSession={state.loggedInUser}\n                updateUser={props.updateUser}\n              />\n            )}\n          </span>\n          <Duration>\n            <FontAwesomeIconComponent\n              chosenIcon={\"faHourglassHalf\"}\n              size=\"1x\"\n            />\n            <span>{state.trip.duration} days</span>\n          </Duration>\n          {state.trip && (\n            <div style={{ marginTop: \"15px\" }}>\n              <LikeTripLogo\n                trip={state.trip}\n                userInSession={state.loggedInUser}\n                updateTrips={handleUpdateTrip}\n              />\n              <span>{state.trip.likes.length}</span>\n            </div>\n          )}\n          {state.trip.author && (\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                margin: \"5px auto 20px\",\n              }}\n            >\n              <ProfilePicture\n                src={state.trip.author.profilePicture}\n                width=\"50px\"\n                height=\"50px\"\n                margin=\"5px 15px 5px 0\"\n                display=\"inline-block\"\n              />\n              <span>\n                By{\" \"}\n                <Link\n                  to={\n                    props.userInSession &&\n                    props.userInSession._id === state.trip.author._id\n                      ? \"/profile\"\n                      : `/profile/user/${state.trip.author._id}`\n                  }\n                >\n                  {state.trip.author.username}\n                </Link>\n              </span>\n            </div>\n          )}\n          {state.trip &&\n            state.loggedInUser &&\n            state.trip.author._id === state.loggedInUser._id &&\n            !state.trip.isPublic && (\n              <p style={{ opacity: \"0.4\" }}>(PRIVATE TRIP)</p>\n            )}\n          {state.experiences &&\n          state.experiences.filter((experience) => experience.place).length >=\n            1 ? (\n            <Map\n              tripMap\n              mapType=\"tripPresentation\"\n              address={\"\"}\n              lat={\n                state.experiences.length === 1\n                  ? state.experiences[0].place.lat\n                  : state.lat\n              }\n              lng={\n                state.experiences.length === 1\n                  ? state.experiences[0].place.lng\n                  : state.lng\n              }\n              zoom=\"14\"\n              allExperiencesCoords={allExperiencesCoords}\n              hasOnlyOneLocalisation={allExperiencesCoords.length === 1}\n            />\n          ) : (\n            <TripPicture src={state.trip.imageUrl} alt=\"trip cover pic\" />\n          )}\n          {state.steps && (\n            <Ul>\n              <Box>{stepsList}</Box>\n            </Ul>\n          )}\n          {state.trip && state.trip.comments && state.trip.comments.length > 0 && (\n            <div>\n              <p>Comments</p>\n              {commentsList}\n            </div>\n          )}\n          {state.loggedInUser && (\n            <React.Fragment>\n              <LeaveCommentToggleLogo onClick={toggleLeavingComment}>\n                <FontAwesomeIconComponent\n                  chosenIcon={\n                    state.leavingComment ? \"faMinusSquare\" : \"faCommentAlt\"\n                  }\n                  color=\"dimgrey\"\n                />\n                {state.leavingComment ? \"Close\" : \"Leave a comment\"}\n              </LeaveCommentToggleLogo>\n              {state.leavingComment && (\n                <LeaveComment\n                  {...props}\n                  closeLeavingComment={handleCloseLeavingComment}\n                  updateTrips={handleUpdateTrip}\n                />\n              )}\n            </React.Fragment>\n          )}\n          {state.loggedInUser &&\n            state.loggedInUser._id === state.trip.author._id && (\n              <React.Fragment>\n                <OwnerControls>\n                  <Link\n                    to={{\n                      pathname: `/trips/${state.trip._id}/add-step`,\n                      state: { trip: state.trip },\n                    }}\n                  >\n                    <FontAwesomeIconComponent chosenIcon={\"faPlus\"} />\n                    <span>Add a step</span>\n                  </Link>\n                </OwnerControls>\n                <OwnerControls>\n                  <Link\n                    to={{\n                      pathname: `/trips/edit/${state.trip._id}`,\n                      state: { trip: state.trip },\n                    }}\n                  >\n                    <FontAwesomeIconComponent chosenIcon={\"faFeatherAlt\"} />\n                    <span>Edit trip</span>\n                  </Link>\n                </OwnerControls>\n              </React.Fragment>\n            )}\n          <p style={{ marginTop: \"40px\" }}>\n            <Link to={`/trips`}>\n              <FontAwesomeIconComponent\n                chosenIcon={\"faArrowCircleLeft\"}\n                size=\"2x\"\n              />\n            </Link>\n          </p>\n        </React.Fragment>\n      ) : (\n        \"Sorry, this is a private trip.\"\n      )}\n    </StyledTrip>\n  );\n};\n\nexport default Trip;\n","import React, { useState, useEffect } from \"react\";\nimport tripService from \"../Services/trip-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditTripForm = (props) => {\n  const [tripState, setTripState] = useState({});\n\n  useEffect(() => {\n    tripService\n      .tripDetails(props.match.params.id)\n      .then((response) => {\n        setTripState(response);\n      })\n      .catch(() => console.log(\"Error while getting trip details :\"));\n  }, [props.match.params.id]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n\n    const formattedDate = [year, month, day].join(\"-\");\n\n    return formattedDate;\n  };\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: tripState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      value: tripState.isPublic,\n      checked: tripState.isPublic,\n      name: \"isPublic\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      value: \"\",\n      name: \"imageUrl\",\n    },\n    {\n      label: \"Start date*\",\n      type: \"date\",\n      value: formatDate(tripState.startDate),\n      name: \"startDate\",\n    },\n    {\n      label: \"End date*\",\n      type: \"date\",\n      value: formatDate(tripState.endDate),\n      name: \"endDate\",\n    },\n  ];\n\n  return (\n    <EditFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${tripState.title}\"`}\n      trip={tripState}\n      {...props}\n    />\n  );\n};\n\nexport default EditTripForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddStepForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"First day - London South and East\"',\n    },\n  ];\n\n  const initialState = {\n    title: \"\",\n    trip: props.match.params.id,\n  };\n\n  return (\n    <CreateFormGeneral\n      stepForm\n      formType=\"step\"\n      formInputs={formInputs}\n      initialState={initialState}\n      tripId={props.match.params.id}\n      {...props}\n    />\n  );\n};\n\nexport default AddStepForm;\n","import React, { useState, useEffect } from \"react\";\nimport stepService from \"../Services/step-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditStepForm = (props) => {\n  const [stepState, setStepState] = useState({});\n\n  useEffect(() => {\n    stepService\n      .stepDetails(props.match.params.stepId)\n      .then((response) => {\n        setStepState(response);\n      })\n      .catch(() => console.log(\"Error while getting step details\"));\n  }, [props.match.params.stepId]);\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: stepState.title,\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n  ];\n\n  return (\n    <EditFormGeneral\n      stepForm\n      formType=\"step\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${stepState.title}\"`}\n      step={stepState}\n      {...props}\n    />\n  );\n};\n\nexport default EditStepForm;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst AddExperienceForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: 'Ex.: \"Dinner in Camden Town\"',\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      name: \"time\",\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"',\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      placeholder: 'Ex: \"Paris...\"',\n    },\n  ];\n\n  const initialState = {\n    title: \"\",\n    date: \"\",\n    time: \"\",\n    showDate: false,\n    showTime: false,\n    step: props.match.params.stepId,\n    trip: props.match.params.id,\n    description: \"\",\n    place: null,\n  };\n\n  return (\n    <>\n      <CreateFormGeneral\n        experienceForm\n        formType=\"experience\"\n        formInputs={formInputs}\n        initialState={initialState}\n        tripId={props.match.params.id}\n        {...props}\n      />\n    </>\n  );\n};\n\nexport default AddExperienceForm;\n","import React, { useState, useEffect } from \"react\";\nimport experienceService from \"../Services/experience-service\";\nimport EditFormGeneral from \"./EditFormGeneral\";\n\nconst EditExperienceForm = (props) => {\n  const [experienceState, setExperienceState] = useState({});\n\n  useEffect(() => {\n    experienceService\n      .experienceDetails(props.match.params.experienceId)\n      .then((response) => {\n        setExperienceState(response);\n      })\n      .catch(() => console.log(\"Error while getting experience details\"));\n  }, [props.match.params.experienceId]);\n\n  const formatDate = (date) => {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n\n    const formattedDate = [year, month, day].join(\"-\");\n\n    return formattedDate;\n  };\n\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      value: experienceState.title,\n      placeholder: \"Ex.: Dinner at the Eiffel Tower\",\n    },\n    {\n      label: \"Date*\",\n      type: \"date\",\n      value: formatDate(experienceState.date),\n      name: \"date\",\n    },\n    {\n      label: \"Make date public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showDate,\n      checked: experienceState.showDate,\n      name: \"showDate\",\n    },\n    {\n      label: \"Time*\",\n      type: \"time\",\n      value: experienceState.time,\n      name: \"time\",\n    },\n    {\n      label: \"Make time public ? (Hidden by default)\",\n      type: \"checkbox\",\n      value: experienceState.showTime,\n      checked: experienceState.showTime,\n      name: \"showTime\",\n    },\n    {\n      label: \"Description\",\n      type: \"textarea\",\n      name: \"description\",\n      value: experienceState.description,\n      placeholder: 'Ex.: \"This restaurant was absolutely incredible !\"',\n    },\n    {\n      label: \"Find the place\",\n      type: \"text\",\n      name: \"place\",\n      value: experienceState.place,\n      placeholder: 'Ex: \"Paris...\"',\n    },\n  ];\n\n  return (\n    <EditFormGeneral\n      experienceForm\n      formType=\"experience\"\n      formInputs={formInputs}\n      formTitle={`Edit \"${experienceState.title}\"`}\n      experience={experienceState}\n      {...props}\n    />\n  );\n};\n\nexport default EditExperienceForm;\n","import styled from \"styled-components\";\n\nexport const StyledApp = styled.div`\n  margin: 0;\n  text-align: center;\n  font-family: \"Roboto\", \"Arial\", \"Helvetica\", sans-serif;\n  color: darkslategray;\n\n  a {\n    color: darkslategray;\n\n    &:hover {\n      color: lightgrey;\n    }\n  }\n`;\n\nexport const Body = styled.div`\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`;\n","import React from \"react\";\nimport CreateFormGeneral from \"./CreateFormGeneral\";\n\nconst CreateTripForm = (props) => {\n  const formInputs = [\n    {\n      label: \"Title*\",\n      type: \"text\",\n      name: \"title\",\n      placeholder: \"Ex.: My magical trip to Paris\",\n    },\n    {\n      label: \"Image\",\n      type: \"file\",\n      name: \"imageUrl\",\n    },\n    {\n      label: \"Do you want to make it public ?\",\n      type: \"checkbox\",\n      name: \"isPublic\",\n    },\n    {\n      label: \"Start Date*\",\n      type: \"date\",\n      name: \"startDate\",\n    },\n    {\n      label: \"End Date*\",\n      type: \"date\",\n      name: \"endDate\",\n    },\n  ];\n\n  const initialState = {\n    title: \"\",\n    isPublic: false,\n    startDate: \"\",\n    endDate: \"\",\n    imageUrl: \"\",\n    archive: null,\n  };\n\n  return (\n    <CreateFormGeneral\n      tripForm\n      formType=\"trip\"\n      formInputs={formInputs}\n      initialState={initialState}\n      {...props}\n    />\n  );\n};\n\nexport default CreateTripForm;\n","import React from \"react\";\nimport TripsFetch from \"../TripsFetch/TripsFetch\";\n\nconst MyTrips = (props) => {\n  return (\n    <TripsFetch\n      myTrips\n      title=\"My Trips\"\n      userInSession={props.userInSession}\n      {...props}\n    />\n  );\n};\n\nexport default MyTrips;\n","import React from \"react\";\nimport TripsFetch from \"../TripsFetch/TripsFetch\";\n\nconst MyFavoriteTrips = (props) => {\n  return (\n    <TripsFetch\n      myFavoriteTrips\n      title=\"My Favorite Trips\"\n      userInSession={props.userInSession}\n      {...props}\n    />\n  );\n};\n\nexport default MyFavoriteTrips;\n","import React from \"react\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <h1>Error 404 not found</h1>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import styled from \"styled-components\";\n\nexport const StyledProfile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 0 20px;\n\n  ul {\n    padding: 0;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { StyledProfile } from \"./styles\";\nimport authService from \"../Services/auth-service.js\";\nimport tripService from \"../Services/trip-service.js\";\nimport ProfilePicture from \"../ElementalComponents/ProfilePicture/ProfilePicture.js\";\nimport TripsList from \"../TripsList/TripsList.js\";\n\nconst ProfilePublic = (props) => {\n  const [profileUserState, setProfileUserState] = useState(null);\n  const [profileUserTrips, setProfileUserTrips] = useState([]);\n\n  useEffect(() => {\n    const fetchProfileUser = async () => {\n      authService.getUser(props.match.params.userId).then((foundUser) => {\n        setProfileUserState({ profileUser: foundUser });\n        tripService.trips().then((allTrips) => {\n          const profileUserTrips = allTrips.filter(\n            (trip) => trip.isPublic && trip.author._id === foundUser._id\n          );\n          setProfileUserTrips(profileUserTrips);\n        });\n      });\n    };\n    fetchProfileUser();\n  }, [props.match.params.userId]);\n\n  const handleUpdateTrips = () => {\n    const fetchAuthorizedTripsList = async () => {\n      const response = await tripService.trips();\n      const profileUserTrips = response.filter(\n        (trip) =>\n          trip.isPublic && trip.author._id === profileUserState.profileUser._id\n      );\n      setProfileUserTrips(profileUserTrips);\n    };\n    fetchAuthorizedTripsList();\n  };\n\n  const profileUserTripsList = (\n    <TripsList\n      trips={profileUserTrips}\n      userInSession={props.userInSession}\n      updateUser={props.updateUser}\n      updateTrips={handleUpdateTrips}\n    />\n  );\n\n  return (\n    <StyledProfile>\n      {profileUserState && (\n        <>\n          <h1>{profileUserState.profileUser.username}</h1>\n          <ProfilePicture\n            src={profileUserState.profileUser.profilePicture}\n            width=\"150px\"\n            height=\"150px\"\n            margin=\"0 auto 20px\"\n          />\n          {profileUserState && profileUserTrips && (\n            <ul>\n              <h2>{profileUserState.profileUser.username}'s trips :</h2>\n              {profileUserTripsList}\n            </ul>\n          )}\n        </>\n      )}\n    </StyledProfile>\n  );\n};\n\nexport default ProfilePublic;\n","import styled from \"styled-components\";\n\nexport const StyledFooter = styled.div`\n  background-color: white;\n  width: 100%;\n  height: 60px;\n  position: fixed;\n  bottom: 0px;\n\n  @media (min-width: 768px) {\n    display: none;\n  }\n\n  ul {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    list-style: none;\n    border-top: 1px solid lightgrey;\n    margin: 0 30px;\n    padding: 0;\n    align-items: center;\n    height: 100%;\n    justify-content: space-around;\n\n    a {\n      display: flex;\n      flex-direction: column;\n      text-decoration: none;\n\n      img {\n        align-self: center;\n        height: 25px;\n        width: 25px;\n        margin-bottom: 5px;\n        border-radius: 50%;\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { StyledFooter } from \"./styles\";\n\nconst Footer = (props) => {\n  return (\n    <StyledFooter>\n      <ul>\n        <li>\n          <Link to=\"/trips\">\n            <img src=\"/travel_icon_3.png\" alt=\"Trip icon\" />\n            Trips\n          </Link>\n        </li>\n        <li>\n          {props.userInSession ? (\n            <Link to=\"/profile\">\n              <img\n                src={props.userInSession.profilePicture}\n                alt=\"Profile icon\"\n              />\n              Profile\n            </Link>\n          ) : (\n            <Link to=\"/login\">\n              <img src=\"/profile_icon.png\" alt=\"Login icon\" />\n              Login\n            </Link>\n          )}\n        </li>\n        {props.userInSession && (\n          <li>\n            <Link to=\"/create-trip\">\n              <img src=\"/add_icon.png\" alt=\"Profile icon\" />\n              New\n            </Link>\n          </li>\n        )}\n      </ul>\n    </StyledFooter>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavBar from \"./components/Navbar/Navbar\";\nimport Homepage from \"./components/Homepage/Homepage\";\nimport Signup from \"./components/Auth/Signup\";\nimport Login from \"./components/Auth/Login\";\nimport Trips from \"./components/Trips/Trips\";\nimport SearchTripsResults from \"./components/SearchTripsResults/SearchTripsResults\";\nimport authService from \"./components/Services/auth-service\";\nimport ProtectedRoute from \"./components/Auth/protected-route\";\nimport Profile from \"./components/Profile/Profile\";\nimport Trip from \"./components/Trip/Trip\";\nimport EditTripForm from \"./components/EditFormGeneral/EditTripForm\";\nimport AddStepForm from \"./components/CreateFormGeneral/AddStepForm\";\nimport EditStepForm from \"./components/EditFormGeneral/EditStepForm\";\nimport AddExperienceForm from \"./components/CreateFormGeneral/AddExperienceForm\";\nimport EditExperienceForm from \"./components/EditFormGeneral/EditExperienceForm\";\nimport { StyledApp, Body } from \"./styles\";\nimport CreateTripForm from \"./components/CreateFormGeneral/CreateTripForm\";\nimport MyTrips from \"./components/MyTrips/MyTrips\";\nimport MyFavoriteTrips from \"./components/MyFavoriteTrips/MyFavoriteTrips\";\nimport NoMatch from \"./components/NoMatch/NoMatch\";\nimport ProfilePublic from \"./components/ProfilePublic/ProfilePublic\";\nimport Footer from \"./components/Footer/Footer\";\n\nconst App = () => {\n  const initialState = {\n    loggedInUser: JSON.parse(localStorage.getItem(\"loggedInUser\")) || null,\n  };\n  const [state, setState] = useState(initialState);\n\n  const getTheUser = (userObj) => {\n    setState({\n      loggedInUser: userObj,\n    });\n  };\n\n  useEffect(() => {\n    const fetchUser = () => {\n      if (state.loggedInUser === null) {\n        authService\n          .loggedIn()\n          .then((response) => {\n            localStorage.setItem(\"loggedInUser\", JSON.stringify(response));\n            setState({\n              loggedInUser: response,\n            });\n          })\n          .catch((err) => {\n            setState({\n              loggedInUser: false,\n            });\n          });\n      }\n    };\n    fetchUser();\n  }, [state.loggedInUser]);\n\n  const handleUpdateUser = () => {\n    authService\n      .loggedIn()\n      .then((response) => {\n        setState({\n          loggedInUser: response,\n        });\n      })\n      .catch((err) => {\n        setState({\n          loggedInUser: false,\n        });\n      });\n  };\n\n  return (\n    <StyledApp>\n      <NavBar userInSession={state.loggedInUser} getUser={getTheUser} />\n      <Body>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={(props) => (\n              <Homepage\n                {...props}\n                userInSession={state.loggedInUser}\n                updateUser={handleUpdateUser}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/trips\"\n            render={(props) => (\n              <Trips\n                {...props}\n                userInSession={state.loggedInUser}\n                updateUser={handleUpdateUser}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/search\"\n            render={(props) => (\n              <SearchTripsResults\n                {...props}\n                userInSession={state.loggedInUser}\n                updateUser={handleUpdateUser}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/trips/:id\"\n            render={(props) => (\n              <Trip\n                {...props}\n                userInSession={state.loggedInUser}\n                updateUser={handleUpdateUser}\n              />\n            )}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/trips/edit/:id\"\n            userInSession={state.loggedInUser}\n            component={EditTripForm}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/trips/:id/add-step\"\n            userInSession={state.loggedInUser}\n            component={AddStepForm}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/trips/:id/edit-step/:stepId\"\n            userInSession={state.loggedInUser}\n            component={EditStepForm}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/trips/:id/steps/:stepId/add-experience\"\n            userInSession={state.loggedInUser}\n            component={AddExperienceForm}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/trips/:id/steps/:stepId/edit-experience/:experienceId\"\n            userInSession={state.loggedInUser}\n            component={EditExperienceForm}\n          />\n          <Route\n            exact\n            path=\"/signup\"\n            render={(props) => <Signup {...props} getUser={getTheUser} />}\n          />\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) => <Login {...props} getUser={getTheUser} />}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/profile\"\n            userInSession={state.loggedInUser}\n            component={Profile}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/profile/my-trips\"\n            userInSession={state.loggedInUser}\n            component={MyTrips}\n            updateUser={handleUpdateUser}\n          />\n          <Route\n            exact\n            path=\"/profile/user/:userId\"\n            render={(props) => (\n              <ProfilePublic\n                {...props}\n                userInSession={state.loggedInUser}\n                updateUser={handleUpdateUser}\n              />\n            )}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/profile/favorite-trips\"\n            userInSession={state.loggedInUser}\n            component={MyFavoriteTrips}\n            updateUser={handleUpdateUser}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/create-trip\"\n            userInSession={state.loggedInUser}\n            component={CreateTripForm}\n          />\n          <Route component={NoMatch} />\n        </Switch>\n      </Body>\n      <Footer userInSession={state.loggedInUser} />\n    </StyledApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}